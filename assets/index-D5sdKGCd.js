(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var Hm={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function yC(){if(FT)return nu;FT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return nu.Fragment=t,nu.jsx=e,nu.jsxs=e,nu}var GT;function vC(){return GT||(GT=1,Hm.exports=yC()),Hm.exports}var H=vC(),qm={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function _C(){if(KT)return It;KT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Y={};function q(x,et,lt){this.props=x,this.context=et,this.refs=Y,this.updater=lt||V}q.prototype.isReactComponent={},q.prototype.setState=function(x,et){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,et,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function $(){}$.prototype=q.prototype;function nt(x,et,lt){this.props=x,this.context=et,this.refs=Y,this.updater=lt||V}var W=nt.prototype=new $;W.constructor=nt,L(W,q.prototype),W.isPureReactComponent=!0;var ct=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function D(x,et,lt,rt,gt,xt){return lt=xt.ref,{$$typeof:n,type:x,key:et,ref:lt!==void 0?lt:null,props:xt}}function w(x,et){return D(x.type,et,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function N(x){var et={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(lt){return et[lt]})}var O=/\/+/g;function P(x,et){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):et.toString(36)}function I(){}function oe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(I,I):(x.status="pending",x.then(function(et){x.status==="pending"&&(x.status="fulfilled",x.value=et)},function(et){x.status==="pending"&&(x.status="rejected",x.reason=et)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function qt(x,et,lt,rt,gt){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var wt=!1;if(x===null)wt=!0;else switch(xt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(x.$$typeof){case n:case t:wt=!0;break;case v:return wt=x._init,qt(wt(x._payload),et,lt,rt,gt)}}if(wt)return gt=gt(x),wt=rt===""?"."+P(x,0):rt,ct(gt)?(lt="",wt!=null&&(lt=wt.replace(O,"$&/")+"/"),qt(gt,et,lt,"",function(ii){return ii})):gt!=null&&(R(gt)&&(gt=w(gt,lt+(gt.key==null||x&&x.key===gt.key?"":(""+gt.key).replace(O,"$&/")+"/")+wt)),et.push(gt)),1;wt=0;var Pe=rt===""?".":rt+":";if(ct(x))for(var te=0;te<x.length;te++)rt=x[te],xt=Pe+P(rt,te),wt+=qt(rt,et,lt,xt,gt);else if(te=S(x),typeof te=="function")for(x=te.call(x),te=0;!(rt=x.next()).done;)rt=rt.value,xt=Pe+P(rt,te++),wt+=qt(rt,et,lt,xt,gt);else if(xt==="object"){if(typeof x.then=="function")return qt(oe(x),et,lt,rt,gt);throw et=String(x),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return wt}function Q(x,et,lt){if(x==null)return x;var rt=[],gt=0;return qt(x,rt,"","",function(xt){return et.call(lt,xt,gt++)}),rt}function G(x){if(x._status===-1){var et=x._result;et=et(),et.then(function(lt){(x._status===0||x._status===-1)&&(x._status=1,x._result=lt)},function(lt){(x._status===0||x._status===-1)&&(x._status=2,x._result=lt)}),x._status===-1&&(x._status=0,x._result=et)}if(x._status===1)return x._result.default;throw x._result}var ot=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function At(){}return It.Children={map:Q,forEach:function(x,et,lt){Q(x,function(){et.apply(this,arguments)},lt)},count:function(x){var et=0;return Q(x,function(){et++}),et},toArray:function(x){return Q(x,function(et){return et})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},It.Component=q,It.Fragment=e,It.Profiler=o,It.PureComponent=nt,It.StrictMode=r,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,It.__COMPILER_RUNTIME={__proto__:null,c:function(x){return st.H.useMemoCache(x)}},It.cache=function(x){return function(){return x.apply(null,arguments)}},It.cloneElement=function(x,et,lt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var rt=L({},x.props),gt=x.key,xt=void 0;if(et!=null)for(wt in et.ref!==void 0&&(xt=void 0),et.key!==void 0&&(gt=""+et.key),et)!dt.call(et,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&et.ref===void 0||(rt[wt]=et[wt]);var wt=arguments.length-2;if(wt===1)rt.children=lt;else if(1<wt){for(var Pe=Array(wt),te=0;te<wt;te++)Pe[te]=arguments[te+2];rt.children=Pe}return D(x.type,gt,void 0,void 0,xt,rt)},It.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},It.createElement=function(x,et,lt){var rt,gt={},xt=null;if(et!=null)for(rt in et.key!==void 0&&(xt=""+et.key),et)dt.call(et,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=et[rt]);var wt=arguments.length-2;if(wt===1)gt.children=lt;else if(1<wt){for(var Pe=Array(wt),te=0;te<wt;te++)Pe[te]=arguments[te+2];gt.children=Pe}if(x&&x.defaultProps)for(rt in wt=x.defaultProps,wt)gt[rt]===void 0&&(gt[rt]=wt[rt]);return D(x,xt,void 0,void 0,null,gt)},It.createRef=function(){return{current:null}},It.forwardRef=function(x){return{$$typeof:d,render:x}},It.isValidElement=R,It.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:G}},It.memo=function(x,et){return{$$typeof:g,type:x,compare:et===void 0?null:et}},It.startTransition=function(x){var et=st.T,lt={};st.T=lt;try{var rt=x(),gt=st.S;gt!==null&&gt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(At,ot)}catch(xt){ot(xt)}finally{st.T=et}},It.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},It.use=function(x){return st.H.use(x)},It.useActionState=function(x,et,lt){return st.H.useActionState(x,et,lt)},It.useCallback=function(x,et){return st.H.useCallback(x,et)},It.useContext=function(x){return st.H.useContext(x)},It.useDebugValue=function(){},It.useDeferredValue=function(x,et){return st.H.useDeferredValue(x,et)},It.useEffect=function(x,et,lt){var rt=st.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(x,et)},It.useId=function(){return st.H.useId()},It.useImperativeHandle=function(x,et,lt){return st.H.useImperativeHandle(x,et,lt)},It.useInsertionEffect=function(x,et){return st.H.useInsertionEffect(x,et)},It.useLayoutEffect=function(x,et){return st.H.useLayoutEffect(x,et)},It.useMemo=function(x,et){return st.H.useMemo(x,et)},It.useOptimistic=function(x,et){return st.H.useOptimistic(x,et)},It.useReducer=function(x,et,lt){return st.H.useReducer(x,et,lt)},It.useRef=function(x){return st.H.useRef(x)},It.useState=function(x){return st.H.useState(x)},It.useSyncExternalStore=function(x,et,lt){return st.H.useSyncExternalStore(x,et,lt)},It.useTransition=function(){return st.H.useTransition()},It.version="19.1.1",It}var YT;function pg(){return YT||(YT=1,qm.exports=_C()),qm.exports}var ut=pg(),Fm={exports:{}},iu={},Gm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function TC(){return QT||(QT=1,(function(n){function t(Q,G){var ot=Q.length;Q.push(G);t:for(;0<ot;){var At=ot-1>>>1,x=Q[At];if(0<o(x,G))Q[At]=G,Q[ot]=x,ot=At;else break t}}function e(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var G=Q[0],ot=Q.pop();if(ot!==G){Q[0]=ot;t:for(var At=0,x=Q.length,et=x>>>1;At<et;){var lt=2*(At+1)-1,rt=Q[lt],gt=lt+1,xt=Q[gt];if(0>o(rt,ot))gt<x&&0>o(xt,rt)?(Q[At]=xt,Q[gt]=ot,At=gt):(Q[At]=rt,Q[lt]=ot,At=lt);else if(gt<x&&0>o(xt,ot))Q[At]=xt,Q[gt]=ot,At=gt;else break t}}return G}function o(Q,G){var ot=Q.sortIndex-G.sortIndex;return ot!==0?ot:Q.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,S=3,V=!1,L=!1,Y=!1,q=!1,$=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ct(Q){for(var G=e(g);G!==null;){if(G.callback===null)r(g);else if(G.startTime<=Q)r(g),G.sortIndex=G.expirationTime,t(p,G);else break;G=e(g)}}function st(Q){if(Y=!1,ct(Q),!L)if(e(p)!==null)L=!0,dt||(dt=!0,P());else{var G=e(g);G!==null&&qt(st,G.startTime-Q)}}var dt=!1,D=-1,w=5,R=-1;function N(){return q?!0:!(n.unstable_now()-R<w)}function O(){if(q=!1,dt){var Q=n.unstable_now();R=Q;var G=!0;try{t:{L=!1,Y&&(Y=!1,nt(D),D=-1),V=!0;var ot=S;try{e:{for(ct(Q),E=e(p);E!==null&&!(E.expirationTime>Q&&N());){var At=E.callback;if(typeof At=="function"){E.callback=null,S=E.priorityLevel;var x=At(E.expirationTime<=Q);if(Q=n.unstable_now(),typeof x=="function"){E.callback=x,ct(Q),G=!0;break e}E===e(p)&&r(p),ct(Q)}else r(p);E=e(p)}if(E!==null)G=!0;else{var et=e(g);et!==null&&qt(st,et.startTime-Q),G=!1}}break t}finally{E=null,S=ot,V=!1}G=void 0}}finally{G?P():dt=!1}}}var P;if(typeof W=="function")P=function(){W(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,oe=I.port2;I.port1.onmessage=O,P=function(){oe.postMessage(null)}}else P=function(){$(O,0)};function qt(Q,G){D=$(function(){Q(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var ot=S;S=G;try{return Q()}finally{S=ot}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(Q,G){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ot=S;S=Q;try{return G()}finally{S=ot}},n.unstable_scheduleCallback=function(Q,G,ot){var At=n.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?At+ot:At):ot=At,Q){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ot+x,Q={id:v++,callback:G,priorityLevel:Q,startTime:ot,expirationTime:x,sortIndex:-1},ot>At?(Q.sortIndex=ot,t(g,Q),e(p)===null&&Q===e(g)&&(Y?(nt(D),D=-1):Y=!0,qt(st,ot-At))):(Q.sortIndex=x,t(p,Q),L||V||(L=!0,dt||(dt=!0,P()))),Q},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Q){var G=S;return function(){var ot=S;S=G;try{return Q.apply(this,arguments)}finally{S=ot}}}})(Km)),Km}var XT;function EC(){return XT||(XT=1,Gm.exports=TC()),Gm.exports}var Ym={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function AC(){if($T)return Je;$T=1;var n=pg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Je.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},Je.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Je.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Je.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:V}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Je.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Je.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Je.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Je.requestFormReset=function(p){r.d.r(p)},Je.unstable_batchedUpdates=function(p,g){return p(g)},Je.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.1.1",Je}var WT;function SC(){if(WT)return Ym.exports;WT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ym.exports=AC(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function bC(){if(ZT)return iu;ZT=1;var n=EC(),t=pg(),e=SC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),i;if(m===l)return d(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,A=f.child;A;){if(A===a){T=!0,a=f,l=m;break}if(A===l){T=!0,l=f,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,l=f;break}if(A===l){T=!0,l=m,a=f;break}A=A.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case q:return"Profiler";case Y:return"StrictMode";case st:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case W:return(i.displayName||"Context")+".Provider";case nt:return(i._context.displayName||"Context")+".Consumer";case ct:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:oe(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return oe(i(s))}catch{}}return null}var qt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},At=[],x=-1;function et(i){return{current:i}}function lt(i){0>x||(i.current=At[x],At[x]=null,x--)}function rt(i,s){x++,At[x]=i.current,i.current=s}var gt=et(null),xt=et(null),wt=et(null),Pe=et(null);function te(i,s){switch(rt(wt,s),rt(xt,i),rt(gt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?vT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=vT(s),i=_T(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(gt),rt(gt,i)}function ii(){lt(gt),lt(xt),lt(wt)}function ps(i){i.memoizedState!==null&&rt(Pe,i);var s=gt.current,a=_T(s,i.type);s!==a&&(rt(xt,i),rt(gt,a))}function Mi(i){xt.current===i&&(lt(gt),lt(xt)),Pe.current===i&&(lt(Pe),Wl._currentValue=ot)}var dr=Object.prototype.hasOwnProperty,mr=n.unstable_scheduleCallback,pr=n.unstable_cancelCallback,Qo=n.unstable_shouldYield,tc=n.unstable_requestPaint,In=n.unstable_now,Hf=n.unstable_getCurrentPriorityLevel,Xo=n.unstable_ImmediatePriority,va=n.unstable_UserBlockingPriority,gr=n.unstable_NormalPriority,qf=n.unstable_LowPriority,_a=n.unstable_IdlePriority,$o=n.log,ec=n.unstable_setDisableYieldValue,he=null,Kt=null;function vn(i){if(typeof $o=="function"&&ec(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(he,i)}catch{}}var We=Math.clz32?Math.clz32:yr,nc=Math.log,Ff=Math.LN2;function yr(i){return i>>>=0,i===0?32:31-(nc(i)/Ff|0)|0}var vr=256,_r=4194304;function Kn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ta(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=Kn(l):(T&=A,T!==0?f=Kn(T):a||(a=A&~i,a!==0&&(f=Kn(a))))):(A=l&~m,A!==0?f=Kn(A):T!==0?f=Kn(T):a||(a=l&~i,a!==0&&(f=Kn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Tr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Wo(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var i=vr;return vr<<=1,(vr&4194048)===0&&(vr=256),i}function Jo(){var i=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),i}function Oi(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Pi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function tl(i,s,a,l,f,m){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,C=i.expirationTimes,B=i.hiddenUpdates;for(a=T&~a;0<a;){var X=31-We(a),J=1<<X;A[X]=0,C[X]=-1;var z=B[X];if(z!==null)for(B[X]=null,X=0;X<z.length;X++){var F=z[X];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&si(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~s))}function si(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-We(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function el(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-We(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function gs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ea(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ys(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:UT(i.type))}function ic(i,s){var a=G.p;try{return G.p=i,s()}finally{G.p=a}}var se=Math.random().toString(36).slice(2),Ce="__reactFiber$"+se,Te="__reactProps$"+se,Dn="__reactContainer$"+se,nl="__reactEvents$"+se,Gf="__reactListeners$"+se,vs="__reactHandles$"+se,sc="__reactResources$"+se,Er="__reactMarker$"+se;function _s(i){delete i[Ce],delete i[Te],delete i[nl],delete i[Gf],delete i[vs]}function ki(i){var s=i[Ce];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Dn]||a[Ce]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=ST(i);i!==null;){if(a=i[Ce])return a;i=ST(i)}return s}i=a,a=i.parentNode}return null}function ri(i){if(i=i[Ce]||i[Dn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ai(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function on(i){var s=i[sc];return s||(s=i[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pe(i){i[Er]=!0}var il=new Set,Aa={};function Yn(i,s){Li(i,s),Li(i+"Capture",s)}function Li(i,s){for(Aa[i]=s,i=0;i<s.length;i++)il.add(s[i])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},Ar={};function oc(i){return dr.call(Ar,i)?!0:dr.call(ac,i)?!1:rc.test(i)?Ar[i]=!0:(ac[i]=!0,!1)}function Ts(i,s,a){if(oc(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function oi(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function He(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}var Sr,lc;function Ui(i){if(Sr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Sr=s&&s[1]||"",lc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+i+lc}var Sa=!1;function ba(i,s){if(!i||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var z=F}Reflect.construct(i,[],J)}else{try{J.call()}catch(F){z=F}i.call(J.prototype)}}else{try{throw Error()}catch(F){z=F}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&z&&typeof F.stack=="string")return[F.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var C=T.split(`
`),B=A.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===B.length)for(l=C.length-1,f=B.length-1;1<=l&&0<=f&&C[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==B[f]){var X=`
`+C[l].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=l&&0<=f);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Ui(a):""}function sl(i){switch(i.tag){case 26:case 27:case 5:return Ui(i.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return ba(i.type,!1);case 11:return ba(i.type.render,!1);case 1:return ba(i.type,!0);case 31:return Ui("Activity");default:return""}}function wa(i){try{var s="";do s+=sl(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function rl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kf(i){var s=rl(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),l=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ra(i){i._valueTracker||(i._valueTracker=Kf(i))}function al(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=rl(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function br(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Yf=/[\n"\\]/g;function Ee(i){return i.replace(Yf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _n(i,s,a,l,f,m,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?Es(i,T,ln(s)):a!=null?Es(i,T,ln(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+ln(A):i.removeAttribute("name")}function wr(i,s,a,l,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+ln(a):"",s=s!=null?""+ln(s):a,A||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function Es(i,s,a){s==="number"&&br(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ji(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ln(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Xt(i,s,a){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+ln(a):""}function Rr(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(qt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ln(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function xn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||Cr.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function ol(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&uc(i,f,l)}else for(var m in s)s.hasOwnProperty(m)&&uc(i,m,s[m])}function ll(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(i){return Xf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Bi=null;function Vn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zi=null,Hi=null;function ul(i){var s=ri(i);if(s&&(i=s.stateNode)){var a=i[Te]||null;t:switch(i=s.stateNode,s.type){case"input":if(_n(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ee(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[Te]||null;if(!f)throw Error(r(90));_n(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&al(l)}break t;case"textarea":Xt(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ji(i,!!a.multiple,s,!1)}}}var li=!1;function cc(i,s,a){if(li)return i(s,a);li=!0;try{var l=i(s);return l}finally{if(li=!1,(zi!==null||Hi!==null)&&(ih(),zi&&(s=zi,i=Hi,Hi=zi=null,ul(s),i)))for(s=0;s<i.length;s++)ul(i[s])}}function Ir(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Qn)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{Nn=!1}var ui=null,As=null,qi=null;function cl(){if(qi)return qi;var i,s=As,a=s.length,l,f="value"in ui?ui.value:ui.textContent,m=f.length;for(i=0;i<a&&s[i]===f[i];i++);var T=a-i;for(l=1;l<=T&&s[a-l]===f[m-l];l++);return qi=f.slice(i,1<l?1-l:void 0)}function ci(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hi(){return!0}function hl(){return!1}function ke(i){function s(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hi:hl,this.isPropagationStopped=hl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),s}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=ke(Ft),xr=v({},Ft,{view:0,detail:0}),hc=ke(xr),Da,xa,fi,Vr=v({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fi&&(fi&&i.type==="mousemove"?(Da=i.screenX-fi.screenX,xa=i.screenY-fi.screenY):xa=Da=0,fi=i),Da)},movementY:function(i){return"movementY"in i?i.movementY:xa}}),Mn=ke(Vr),fc=v({},Vr,{dataTransfer:0}),$f=ke(fc),Nr=v({},xr,{relatedTarget:0}),Va=ke(Nr),fl=v({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=ke(fl),dc=v({},Ft,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ma=ke(dc),Wf=v({},Ft,{data:0}),dl=ke(Wf),Mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=pc[i])?!!s[i]:!1}function Or(){return ml}var gc=v({},xr,{key:function(i){if(i.key){var s=Mr[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ci(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(i){return i.type==="keypress"?ci(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ci(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Oa=ke(gc),yc=v({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=ke(yc),Fi=v({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),vc=ke(Fi),_c=v({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tc=ke(_c),Ec=v({},Vr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=ke(Ec),un=v({},Ft,{newState:0,oldState:0}),Ac=ke(un),Sc=[9,13,27,32],di=Qn&&"CompositionEvent"in window,h=null;Qn&&"documentMode"in document&&(h=document.documentMode);var y=Qn&&"TextEvent"in window&&!h,_=Qn&&(!di||h&&8<h&&11>=h),b=" ",U=!1;function K(i,s){switch(i){case"keyup":return Sc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lt=!1;function Ie(i,s){switch(i){case"compositionend":return at(s);case"keypress":return s.which!==32?null:(U=!0,b);case"textInput":return i=s.data,i===b&&U?null:i;default:return null}}function Ut(i,s){if(Lt)return i==="compositionend"||!di&&K(i,s)?(i=cl(),qi=As=ui=null,Lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Le[i.type]:s==="textarea"}function Gi(i,s,a,l){zi?Hi?Hi.push(l):Hi=[l]:zi=l,s=uh(s,"onChange"),0<s.length&&(a=new Ia("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var qe=null,mi=null;function gl(i){dT(i,0)}function bc(i){var s=ai(i);if(al(s))return i}function Oy(i,s){if(i==="change")return s}var Py=!1;if(Qn){var Zf;if(Qn){var Jf="oninput"in document;if(!Jf){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),Jf=typeof ky.oninput=="function"}Zf=Jf}else Zf=!1;Py=Zf&&(!document.documentMode||9<document.documentMode)}function Ly(){qe&&(qe.detachEvent("onpropertychange",Uy),mi=qe=null)}function Uy(i){if(i.propertyName==="value"&&bc(mi)){var s=[];Gi(s,mi,i,Vn(i)),cc(gl,s)}}function Yw(i,s,a){i==="focusin"?(Ly(),qe=s,mi=a,qe.attachEvent("onpropertychange",Uy)):i==="focusout"&&Ly()}function Qw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bc(mi)}function Xw(i,s){if(i==="click")return bc(s)}function $w(i,s){if(i==="input"||i==="change")return bc(s)}function Ww(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Tn=typeof Object.is=="function"?Object.is:Ww;function yl(i,s){if(Tn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!dr.call(s,f)||!Tn(i[f],s[f]))return!1}return!0}function jy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function By(i,s){var a=jy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=jy(a)}}function zy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?zy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Hy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=br(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=br(i.document)}return s}function td(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Zw=Qn&&"documentMode"in document&&11>=document.documentMode,ka=null,ed=null,vl=null,nd=!1;function qy(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nd||ka==null||ka!==br(l)||(l=ka,"selectionStart"in l&&td(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&yl(vl,l)||(vl=l,l=uh(ed,"onSelect"),0<l.length&&(s=new Ia("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=ka)))}function Pr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var La={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},id={},Fy={};Qn&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function kr(i){if(id[i])return id[i];if(!La[i])return i;var s=La[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Fy)return id[i]=s[a];return i}var Gy=kr("animationend"),Ky=kr("animationiteration"),Yy=kr("animationstart"),Jw=kr("transitionrun"),tR=kr("transitionstart"),eR=kr("transitioncancel"),Qy=kr("transitionend"),Xy=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function Xn(i,s){Xy.set(i,s),Yn(s,[i])}var $y=new WeakMap;function On(i,s){if(typeof i=="object"&&i!==null){var a=$y.get(i);return a!==void 0?a:(s={value:i,source:s,stack:wa(s)},$y.set(i,s),s)}return{value:i,source:s,stack:wa(s)}}var Pn=[],Ua=0,rd=0;function wc(){for(var i=Ua,s=rd=Ua=0;s<i;){var a=Pn[s];Pn[s++]=null;var l=Pn[s];Pn[s++]=null;var f=Pn[s];Pn[s++]=null;var m=Pn[s];if(Pn[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&Wy(a,f,m)}}function Rc(i,s,a,l){Pn[Ua++]=i,Pn[Ua++]=s,Pn[Ua++]=a,Pn[Ua++]=l,rd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function ad(i,s,a,l){return Rc(i,s,a,l),Cc(i)}function ja(i,s){return Rc(i,null,null,s),Cc(i)}function Wy(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&s!==null&&(f=31-We(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Cc(i){if(50<ql)throw ql=0,fm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ba={};function nR(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,s,a,l){return new nR(i,s,a,l)}function od(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ki(i,s){var a=i.alternate;return a===null?(a=En(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Zy(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ic(i,s,a,l,f,m){var T=0;if(l=i,typeof i=="function")od(i)&&(T=1);else if(typeof i=="string")T=sC(i,a,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=En(31,a,s,f),i.elementType=R,i.lanes=m,i;case L:return Lr(a.children,f,m,s);case Y:T=8,f|=24;break;case q:return i=En(12,a,s,f|2),i.elementType=q,i.lanes=m,i;case st:return i=En(13,a,s,f),i.elementType=st,i.lanes=m,i;case dt:return i=En(19,a,s,f),i.elementType=dt,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:case W:T=10;break t;case nt:T=9;break t;case ct:T=11;break t;case D:T=14;break t;case w:T=16,l=null;break t}T=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=En(T,a,s,f),s.elementType=i,s.type=l,s.lanes=m,s}function Lr(i,s,a,l){return i=En(7,i,l,s),i.lanes=a,i}function ld(i,s,a){return i=En(6,i,null,s),i.lanes=a,i}function ud(i,s,a){return s=En(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var za=[],Ha=0,Dc=null,xc=0,kn=[],Ln=0,Ur=null,Yi=1,Qi="";function jr(i,s){za[Ha++]=xc,za[Ha++]=Dc,Dc=i,xc=s}function Jy(i,s,a){kn[Ln++]=Yi,kn[Ln++]=Qi,kn[Ln++]=Ur,Ur=i;var l=Yi;i=Qi;var f=32-We(l)-1;l&=~(1<<f),a+=1;var m=32-We(s)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Yi=1<<32-We(s)+f|a<<f|l,Qi=m+i}else Yi=1<<m|a<<f|l,Qi=i}function cd(i){i.return!==null&&(jr(i,1),Jy(i,1,0))}function hd(i){for(;i===Dc;)Dc=za[--Ha],za[Ha]=null,xc=za[--Ha],za[Ha]=null;for(;i===Ur;)Ur=kn[--Ln],kn[Ln]=null,Qi=kn[--Ln],kn[Ln]=null,Yi=kn[--Ln],kn[Ln]=null}var cn=null,fe=null,Ht=!1,Br=null,pi=!1,fd=Error(r(519));function zr(i){var s=Error(r(418,""));throw El(On(s,i)),fd}function tv(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Ce]=i,s[Te]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Mt(Gl[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),wr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(s);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Rr(s,l.value,l.defaultValue,l.children),Ra(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||yT(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=ch),s=!0):s=!1,s||zr(i)}function ev(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:cn=cn.return}}function _l(i){if(i!==cn)return!1;if(!Ht)return ev(i),Ht=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Im(i.type,i.memoizedProps)),a=!a),a&&fe&&zr(i),ev(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){fe=Wn(i.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}fe=null}}else s===27?(s=fe,Us(i.type)?(i=Nm,Nm=null,fe=i):fe=s):fe=cn?Wn(i.stateNode.nextSibling):null;return!0}function Tl(){fe=cn=null,Ht=!1}function nv(){var i=Br;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),Br=null),i}function El(i){Br===null?Br=[i]:Br.push(i)}var dd=et(null),Hr=null,Xi=null;function Ss(i,s,a){rt(dd,s._currentValue),s._currentValue=a}function $i(i){i._currentValue=dd.current,lt(dd)}function md(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function pd(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var C=0;C<s.length;C++)if(A.context===s[C]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),md(m.return,a,i),l||(T=null);break t}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),md(T,a,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Al(i,s,a,l){i=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=f.type;Tn(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===Pe.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Wl):i=[Wl])}f=f.return}i!==null&&pd(s,i,a,l),s.flags|=262144}function Vc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function qr(i){Hr=i,Xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ze(i){return iv(Hr,i)}function Nc(i,s){return Hr===null&&qr(i),iv(i,s)}function iv(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xi===null){if(i===null)throw Error(r(308));Xi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Xi=Xi.next=s;return a}var iR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},sR=n.unstable_scheduleCallback,rR=n.unstable_NormalPriority,xe={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new iR,data:new Map,refCount:0}}function Sl(i){i.refCount--,i.refCount===0&&sR(rR,function(){i.controller.abort()})}var bl=null,yd=0,qa=0,Fa=null;function aR(i,s){if(bl===null){var a=bl=[];yd=0,qa=_m(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yd++,s.then(sv,sv),s}function sv(){if(--yd===0&&bl!==null){Fa!==null&&(Fa.status="fulfilled");var i=bl;bl=null,qa=0,Fa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function oR(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var rv=Q.S;Q.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&aR(i,s),rv!==null&&rv(i,s)};var Fr=et(null);function vd(){var i=Fr.current;return i!==null?i:ee.pooledCache}function Mc(i,s){s===null?rt(Fr,Fr.current):rt(Fr,s.pool)}function av(){var i=vd();return i===null?null:{parent:xe._currentValue,pool:i}}var wl=Error(r(460)),ov=Error(r(474)),Oc=Error(r(542)),_d={then:function(){}};function lv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Pc(){}function uv(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Pc,Pc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,hv(i),i;default:if(typeof s.status=="string")s.then(Pc,Pc);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,hv(i),i}throw Rl=s,wl}}var Rl=null;function cv(){if(Rl===null)throw Error(r(459));var i=Rl;return Rl=null,i}function hv(i){if(i===wl||i===Oc)throw Error(r(483))}var bs=!1;function Td(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Rs(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Cc(i),Wy(i,null,a),s}return Rc(i,l,s,a),Cc(i)}function Cl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,el(i,a)}}function Ad(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Sd=!1;function Il(){if(Sd){var i=Fa;if(i!==null)throw i}}function Dl(i,s,a,l){Sd=!1;var f=i.updateQueue;bs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var C=A,B=C.next;C.next=null,T===null?m=B:T.next=B,T=C;var X=i.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==T&&(A===null?X.firstBaseUpdate=B:A.next=B,X.lastBaseUpdate=C))}if(m!==null){var J=f.baseState;T=0,X=B=C=null,A=m;do{var z=A.lane&-536870913,F=z!==A.lane;if(F?(jt&z)===z:(l&z)===z){z!==0&&z===qa&&(Sd=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var St=i,vt=A;z=s;var Zt=a;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){J=St.call(Zt,J,z);break t}J=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,z=typeof St=="function"?St.call(Zt,J,z):St,z==null)break t;J=v({},J,z);break t;case 2:bs=!0}}z=A.callback,z!==null&&(i.flags|=64,F&&(i.flags|=8192),F=f.callbacks,F===null?f.callbacks=[z]:F.push(z))}else F={lane:z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(B=X=F,C=J):X=X.next=F,T|=z;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;F=A,A=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);X===null&&(C=J),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),Os|=T,i.lanes=T,i.memoizedState=J}}function fv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function dv(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)fv(a[i],s)}var Ga=et(null),kc=et(0);function mv(i,s){i=is,rt(kc,i),rt(Ga,s),is=i|s.baseLanes}function bd(){rt(kc,is),rt(Ga,Ga.current)}function wd(){is=kc.current,lt(Ga),lt(kc)}var Cs=0,Dt=null,$t=null,Ae=null,Lc=!1,Ka=!1,Gr=!1,Uc=0,xl=0,Ya=null,lR=0;function ge(){throw Error(r(321))}function Rd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Tn(i[a],s[a]))return!1;return!0}function Cd(i,s,a,l,f,m){return Cs=m,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=i===null||i.memoizedState===null?Wv:Zv,Gr=!1,m=a(l,f),Gr=!1,Ka&&(m=gv(s,a,l,f)),pv(i),m}function pv(i){Q.H=Fc;var s=$t!==null&&$t.next!==null;if(Cs=0,Ae=$t=Dt=null,Lc=!1,xl=0,Ya=null,s)throw Error(r(300));i===null||Ue||(i=i.dependencies,i!==null&&Vc(i)&&(Ue=!0))}function gv(i,s,a,l){Dt=i;var f=0;do{if(Ka&&(Ya=null),xl=0,Ka=!1,25<=f)throw Error(r(301));if(f+=1,Ae=$t=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=pR,m=s(a,l)}while(Ka);return m}function uR(){var i=Q.H,s=i.useState()[0];return s=typeof s.then=="function"?Vl(s):s,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(Dt.flags|=1024),s}function Id(){var i=Uc!==0;return Uc=0,i}function Dd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function xd(i){if(Lc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Lc=!1}Cs=0,Ae=$t=Dt=null,Ka=!1,xl=Uc=0,Ya=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Dt.memoizedState=Ae=i:Ae=Ae.next=i,Ae}function Se(){if($t===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var s=Ae===null?Dt.memoizedState:Ae.next;if(s!==null)Ae=s,$t=i;else{if(i===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?Dt.memoizedState=Ae=i:Ae=Ae.next=i}return Ae}function Vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(i){var s=xl;return xl+=1,Ya===null&&(Ya=[]),i=uv(Ya,i,s),s=Dt,(Ae===null?s.memoizedState:Ae.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?Wv:Zv),i}function jc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vl(i);if(i.$$typeof===W)return Ze(i)}throw Error(r(438,String(i)))}function Nd(i){var s=null,a=Dt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Vd(),Dt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=N;return s.index++,a}function Wi(i,s){return typeof s=="function"?s(i):s}function Bc(i){var s=Se();return Md(s,$t,i)}function Md(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{s=f.next;var A=T=null,C=null,B=s,X=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(jt&J)===J:(Cs&J)===J){var z=B.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===qa&&(X=!0);else if((Cs&z)===z){B=B.next,z===qa&&(X=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(A=C=J,T=m):C=C.next=J,Dt.lanes|=z,Os|=z;J=B.action,Gr&&a(m,J),m=B.hasEagerState?B.eagerState:a(m,J)}else z={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(A=C=z,T=m):C=C.next=z,Dt.lanes|=J,Os|=J;B=B.next}while(B!==null&&B!==s);if(C===null?T=m:C.next=A,!Tn(m,i.memoizedState)&&(Ue=!0,X&&(a=Fa,a!==null)))throw a;i.memoizedState=m,i.baseState=T,i.baseQueue=C,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Od(i){var s=Se(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);Tn(m,s.memoizedState)||(Ue=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function yv(i,s,a){var l=Dt,f=Se(),m=Ht;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!Tn(($t||f).memoizedState,a);T&&(f.memoizedState=a,Ue=!0),f=f.queue;var A=Tv.bind(null,l,f,i);if(Nl(2048,8,A,[i]),f.getSnapshot!==s||T||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Qa(9,zc(),_v.bind(null,l,f,a,s),null),ee===null)throw Error(r(349));m||(Cs&124)!==0||vv(l,s,a)}return a}function vv(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Dt.updateQueue,s===null?(s=Vd(),Dt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function _v(i,s,a,l){s.value=a,s.getSnapshot=l,Ev(s)&&Av(i)}function Tv(i,s,a){return a(function(){Ev(s)&&Av(i)})}function Ev(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Tn(i,a)}catch{return!0}}function Av(i){var s=ja(i,2);s!==null&&Rn(s,i,2)}function Pd(i){var s=dn();if(typeof i=="function"){var a=i;if(i=a(),Gr){vn(!0);try{a()}finally{vn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:i},s}function Sv(i,s,a,l){return i.baseState=a,Md(i,$t,typeof l=="function"?l:Wi)}function cR(i,s,a,l,f){if(qc(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,bv(s,m)):(m.next=a.next,s.pending=a.next=m)}}function bv(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var m=Q.T,T={};Q.T=T;try{var A=a(f,l),C=Q.S;C!==null&&C(T,A),wv(i,s,A)}catch(B){kd(i,s,B)}finally{Q.T=m}}else try{m=a(f,l),wv(i,s,m)}catch(B){kd(i,s,B)}}function wv(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Rv(i,s,l)},function(l){return kd(i,s,l)}):Rv(i,s,a)}function Rv(i,s,a){s.status="fulfilled",s.value=a,Cv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,bv(i,a)))}function kd(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Cv(s),s=s.next;while(s!==l)}i.action=null}function Cv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Iv(i,s){return s}function Dv(i,s){if(Ht){var a=ee.formState;if(a!==null){t:{var l=Dt;if(Ht){if(fe){e:{for(var f=fe,m=pi;f.nodeType!==8;){if(!m){f=null;break e}if(f=Wn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){fe=Wn(f.nextSibling),l=f.data==="F!";break t}}zr(l)}l=!1}l&&(s=a[0])}}return a=dn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iv,lastRenderedState:s},a.queue=l,a=Qv.bind(null,Dt,l),l.dispatch=a,l=Pd(!1),m=zd.bind(null,Dt,!1,l.queue),l=dn(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=cR.bind(null,Dt,f,m,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function xv(i){var s=Se();return Vv(s,$t,i)}function Vv(i,s,a){if(s=Md(i,s,Iv)[0],i=Bc(Wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Vl(s)}catch(T){throw T===wl?Oc:T}else l=s;s=Se();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Dt.flags|=2048,Qa(9,zc(),hR.bind(null,f,a),null)),[l,m,i]}function hR(i,s){i.action=s}function Nv(i){var s=Se(),a=$t;if(a!==null)return Vv(s,a,i);Se(),s=s.memoizedState,a=Se();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function Qa(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Dt.updateQueue,s===null&&(s=Vd(),Dt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function zc(){return{destroy:void 0,resource:void 0}}function Mv(){return Se().memoizedState}function Hc(i,s,a,l){var f=dn();l=l===void 0?null:l,Dt.flags|=i,f.memoizedState=Qa(1|s,zc(),a,l)}function Nl(i,s,a,l){var f=Se();l=l===void 0?null:l;var m=f.memoizedState.inst;$t!==null&&l!==null&&Rd(l,$t.memoizedState.deps)?f.memoizedState=Qa(s,m,a,l):(Dt.flags|=i,f.memoizedState=Qa(1|s,m,a,l))}function Ov(i,s){Hc(8390656,8,i,s)}function Pv(i,s){Nl(2048,8,i,s)}function kv(i,s){return Nl(4,2,i,s)}function Lv(i,s){return Nl(4,4,i,s)}function Uv(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function jv(i,s,a){a=a!=null?a.concat([i]):null,Nl(4,4,Uv.bind(null,s,i),a)}function Ld(){}function Bv(i,s){var a=Se();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Rd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function zv(i,s){var a=Se();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Rd(s,l[1]))return l[0];if(l=i(),Gr){vn(!0);try{i()}finally{vn(!1)}}return a.memoizedState=[l,s],l}function Ud(i,s,a){return a===void 0||(Cs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=F_(),Dt.lanes|=i,Os|=i,a)}function Hv(i,s,a,l){return Tn(a,s)?a:Ga.current!==null?(i=Ud(i,a,l),Tn(i,s)||(Ue=!0),i):(Cs&42)===0?(Ue=!0,i.memoizedState=a):(i=F_(),Dt.lanes|=i,Os|=i,s)}function qv(i,s,a,l,f){var m=G.p;G.p=m!==0&&8>m?m:8;var T=Q.T,A={};Q.T=A,zd(i,!1,s,a);try{var C=f(),B=Q.S;if(B!==null&&B(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=oR(C,l);Ml(i,s,X,wn(i))}else Ml(i,s,l,wn(i))}catch(J){Ml(i,s,{then:function(){},status:"rejected",reason:J},wn())}finally{G.p=m,Q.T=T}}function fR(){}function jd(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=Fv(i).queue;qv(i,f,s,ot,a===null?fR:function(){return Gv(i),a(l)})}function Fv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ot},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Gv(i){var s=Fv(i).next.queue;Ml(i,s,{},wn())}function Bd(){return Ze(Wl)}function Kv(){return Se().memoizedState}function Yv(){return Se().memoizedState}function dR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=wn();i=ws(a);var l=Rs(s,i,a);l!==null&&(Rn(l,s,a),Cl(l,s,a)),s={cache:gd()},i.payload=s;return}s=s.return}}function mR(i,s,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qc(i)?Xv(s,a):(a=ad(i,s,a,l),a!==null&&(Rn(a,i,l),$v(a,s,l)))}function Qv(i,s,a){var l=wn();Ml(i,s,a,l)}function Ml(i,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(i))Xv(s,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,A=m(T,a);if(f.hasEagerState=!0,f.eagerState=A,Tn(A,T))return Rc(i,s,f,0),ee===null&&wc(),!1}catch{}finally{}if(a=ad(i,s,f,l),a!==null)return Rn(a,i,l),$v(a,s,l),!0}return!1}function zd(i,s,a,l){if(l={lane:2,revertLane:_m(),action:l,hasEagerState:!1,eagerState:null,next:null},qc(i)){if(s)throw Error(r(479))}else s=ad(i,a,l,2),s!==null&&Rn(s,i,2)}function qc(i){var s=i.alternate;return i===Dt||s!==null&&s===Dt}function Xv(i,s){Ka=Lc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function $v(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,el(i,a)}}var Fc={readContext:Ze,use:jc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Wv={readContext:Ze,use:jc,useCallback:function(i,s){return dn().memoizedState=[i,s===void 0?null:s],i},useContext:Ze,useEffect:Ov,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Hc(4194308,4,Uv.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Hc(4194308,4,i,s)},useInsertionEffect:function(i,s){Hc(4,2,i,s)},useMemo:function(i,s){var a=dn();s=s===void 0?null:s;var l=i();if(Gr){vn(!0);try{i()}finally{vn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=dn();if(a!==void 0){var f=a(s);if(Gr){vn(!0);try{a(s)}finally{vn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=mR.bind(null,Dt,i),[l.memoizedState,i]},useRef:function(i){var s=dn();return i={current:i},s.memoizedState=i},useState:function(i){i=Pd(i);var s=i.queue,a=Qv.bind(null,Dt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(i,s){var a=dn();return Ud(a,i,s)},useTransition:function(){var i=Pd(!1);return i=qv.bind(null,Dt,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Dt,f=dn();if(Ht){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ee===null)throw Error(r(349));(jt&124)!==0||vv(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Ov(Tv.bind(null,l,m,i),[i]),l.flags|=2048,Qa(9,zc(),_v.bind(null,l,m,a,s),null),a},useId:function(){var i=dn(),s=ee.identifierPrefix;if(Ht){var a=Qi,l=Yi;a=(l&~(1<<32-We(l)-1)).toString(32)+a,s=""+s+"R"+a,a=Uc++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=lR++,s=""+s+"r"+a.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Bd,useFormState:Dv,useActionState:Dv,useOptimistic:function(i){var s=dn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=zd.bind(null,Dt,!0,a),a.dispatch=s,[i,s]},useMemoCache:Nd,useCacheRefresh:function(){return dn().memoizedState=dR.bind(null,Dt)}},Zv={readContext:Ze,use:jc,useCallback:Bv,useContext:Ze,useEffect:Pv,useImperativeHandle:jv,useInsertionEffect:kv,useLayoutEffect:Lv,useMemo:zv,useReducer:Bc,useRef:Mv,useState:function(){return Bc(Wi)},useDebugValue:Ld,useDeferredValue:function(i,s){var a=Se();return Hv(a,$t.memoizedState,i,s)},useTransition:function(){var i=Bc(Wi)[0],s=Se().memoizedState;return[typeof i=="boolean"?i:Vl(i),s]},useSyncExternalStore:yv,useId:Kv,useHostTransitionStatus:Bd,useFormState:xv,useActionState:xv,useOptimistic:function(i,s){var a=Se();return Sv(a,$t,i,s)},useMemoCache:Nd,useCacheRefresh:Yv},pR={readContext:Ze,use:jc,useCallback:Bv,useContext:Ze,useEffect:Pv,useImperativeHandle:jv,useInsertionEffect:kv,useLayoutEffect:Lv,useMemo:zv,useReducer:Od,useRef:Mv,useState:function(){return Od(Wi)},useDebugValue:Ld,useDeferredValue:function(i,s){var a=Se();return $t===null?Ud(a,i,s):Hv(a,$t.memoizedState,i,s)},useTransition:function(){var i=Od(Wi)[0],s=Se().memoizedState;return[typeof i=="boolean"?i:Vl(i),s]},useSyncExternalStore:yv,useId:Kv,useHostTransitionStatus:Bd,useFormState:Nv,useActionState:Nv,useOptimistic:function(i,s){var a=Se();return $t!==null?Sv(a,$t,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:Yv},Xa=null,Ol=0;function Gc(i){var s=Ol;return Ol+=1,Xa===null&&(Xa=[]),uv(Xa,i,s)}function Pl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Kc(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Jv(i){var s=i._init;return s(i._payload)}function t_(i){function s(k,M){if(i){var j=k.deletions;j===null?(k.deletions=[M],k.flags|=16):j.push(M)}}function a(k,M){if(!i)return null;for(;M!==null;)s(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function f(k,M){return k=Ki(k,M),k.index=0,k.sibling=null,k}function m(k,M,j){return k.index=j,i?(j=k.alternate,j!==null?(j=j.index,j<M?(k.flags|=67108866,M):j):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function T(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function A(k,M,j,Z){return M===null||M.tag!==6?(M=ld(j,k.mode,Z),M.return=k,M):(M=f(M,j),M.return=k,M)}function C(k,M,j,Z){var ft=j.type;return ft===L?X(k,M,j.props.children,Z,j.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Jv(ft)===M.type)?(M=f(M,j.props),Pl(M,j),M.return=k,M):(M=Ic(j.type,j.key,j.props,null,k.mode,Z),Pl(M,j),M.return=k,M)}function B(k,M,j,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=ud(j,k.mode,Z),M.return=k,M):(M=f(M,j.children||[]),M.return=k,M)}function X(k,M,j,Z,ft){return M===null||M.tag!==7?(M=Lr(j,k.mode,Z,ft),M.return=k,M):(M=f(M,j),M.return=k,M)}function J(k,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ld(""+M,k.mode,j),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return j=Ic(M.type,M.key,M.props,null,k.mode,j),Pl(j,M),j.return=k,j;case V:return M=ud(M,k.mode,j),M.return=k,M;case w:var Z=M._init;return M=Z(M._payload),J(k,M,j)}if(qt(M)||P(M))return M=Lr(M,k.mode,j,null),M.return=k,M;if(typeof M.then=="function")return J(k,Gc(M),j);if(M.$$typeof===W)return J(k,Nc(k,M),j);Kc(k,M)}return null}function z(k,M,j,Z){var ft=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ft!==null?null:A(k,M,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===ft?C(k,M,j,Z):null;case V:return j.key===ft?B(k,M,j,Z):null;case w:return ft=j._init,j=ft(j._payload),z(k,M,j,Z)}if(qt(j)||P(j))return ft!==null?null:X(k,M,j,Z,null);if(typeof j.then=="function")return z(k,M,Gc(j),Z);if(j.$$typeof===W)return z(k,M,Nc(k,j),Z);Kc(k,j)}return null}function F(k,M,j,Z,ft){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(j)||null,A(M,k,""+Z,ft);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return k=k.get(Z.key===null?j:Z.key)||null,C(M,k,Z,ft);case V:return k=k.get(Z.key===null?j:Z.key)||null,B(M,k,Z,ft);case w:var Vt=Z._init;return Z=Vt(Z._payload),F(k,M,j,Z,ft)}if(qt(Z)||P(Z))return k=k.get(j)||null,X(M,k,Z,ft,null);if(typeof Z.then=="function")return F(k,M,j,Gc(Z),ft);if(Z.$$typeof===W)return F(k,M,j,Nc(M,Z),ft);Kc(M,Z)}return null}function St(k,M,j,Z){for(var ft=null,Vt=null,pt=M,_t=M=0,Be=null;pt!==null&&_t<j.length;_t++){pt.index>_t?(Be=pt,pt=null):Be=pt.sibling;var zt=z(k,pt,j[_t],Z);if(zt===null){pt===null&&(pt=Be);break}i&&pt&&zt.alternate===null&&s(k,pt),M=m(zt,M,_t),Vt===null?ft=zt:Vt.sibling=zt,Vt=zt,pt=Be}if(_t===j.length)return a(k,pt),Ht&&jr(k,_t),ft;if(pt===null){for(;_t<j.length;_t++)pt=J(k,j[_t],Z),pt!==null&&(M=m(pt,M,_t),Vt===null?ft=pt:Vt.sibling=pt,Vt=pt);return Ht&&jr(k,_t),ft}for(pt=l(pt);_t<j.length;_t++)Be=F(pt,k,_t,j[_t],Z),Be!==null&&(i&&Be.alternate!==null&&pt.delete(Be.key===null?_t:Be.key),M=m(Be,M,_t),Vt===null?ft=Be:Vt.sibling=Be,Vt=Be);return i&&pt.forEach(function(qs){return s(k,qs)}),Ht&&jr(k,_t),ft}function vt(k,M,j,Z){if(j==null)throw Error(r(151));for(var ft=null,Vt=null,pt=M,_t=M=0,Be=null,zt=j.next();pt!==null&&!zt.done;_t++,zt=j.next()){pt.index>_t?(Be=pt,pt=null):Be=pt.sibling;var qs=z(k,pt,zt.value,Z);if(qs===null){pt===null&&(pt=Be);break}i&&pt&&qs.alternate===null&&s(k,pt),M=m(qs,M,_t),Vt===null?ft=qs:Vt.sibling=qs,Vt=qs,pt=Be}if(zt.done)return a(k,pt),Ht&&jr(k,_t),ft;if(pt===null){for(;!zt.done;_t++,zt=j.next())zt=J(k,zt.value,Z),zt!==null&&(M=m(zt,M,_t),Vt===null?ft=zt:Vt.sibling=zt,Vt=zt);return Ht&&jr(k,_t),ft}for(pt=l(pt);!zt.done;_t++,zt=j.next())zt=F(pt,k,_t,zt.value,Z),zt!==null&&(i&&zt.alternate!==null&&pt.delete(zt.key===null?_t:zt.key),M=m(zt,M,_t),Vt===null?ft=zt:Vt.sibling=zt,Vt=zt);return i&&pt.forEach(function(gC){return s(k,gC)}),Ht&&jr(k,_t),ft}function Zt(k,M,j,Z){if(typeof j=="object"&&j!==null&&j.type===L&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:t:{for(var ft=j.key;M!==null;){if(M.key===ft){if(ft=j.type,ft===L){if(M.tag===7){a(k,M.sibling),Z=f(M,j.props.children),Z.return=k,k=Z;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Jv(ft)===M.type){a(k,M.sibling),Z=f(M,j.props),Pl(Z,j),Z.return=k,k=Z;break t}a(k,M);break}else s(k,M);M=M.sibling}j.type===L?(Z=Lr(j.props.children,k.mode,Z,j.key),Z.return=k,k=Z):(Z=Ic(j.type,j.key,j.props,null,k.mode,Z),Pl(Z,j),Z.return=k,k=Z)}return T(k);case V:t:{for(ft=j.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(k,M.sibling),Z=f(M,j.children||[]),Z.return=k,k=Z;break t}else{a(k,M);break}else s(k,M);M=M.sibling}Z=ud(j,k.mode,Z),Z.return=k,k=Z}return T(k);case w:return ft=j._init,j=ft(j._payload),Zt(k,M,j,Z)}if(qt(j))return St(k,M,j,Z);if(P(j)){if(ft=P(j),typeof ft!="function")throw Error(r(150));return j=ft.call(j),vt(k,M,j,Z)}if(typeof j.then=="function")return Zt(k,M,Gc(j),Z);if(j.$$typeof===W)return Zt(k,M,Nc(k,j),Z);Kc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(k,M.sibling),Z=f(M,j),Z.return=k,k=Z):(a(k,M),Z=ld(j,k.mode,Z),Z.return=k,k=Z),T(k)):a(k,M)}return function(k,M,j,Z){try{Ol=0;var ft=Zt(k,M,j,Z);return Xa=null,ft}catch(pt){if(pt===wl||pt===Oc)throw pt;var Vt=En(29,pt,null,k.mode);return Vt.lanes=Z,Vt.return=k,Vt}finally{}}}var $a=t_(!0),e_=t_(!1),Un=et(null),gi=null;function Is(i){var s=i.alternate;rt(Ve,Ve.current&1),rt(Un,i),gi===null&&(s===null||Ga.current!==null||s.memoizedState!==null)&&(gi=i)}function n_(i){if(i.tag===22){if(rt(Ve,Ve.current),rt(Un,i),gi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(gi=i)}}else Ds()}function Ds(){rt(Ve,Ve.current),rt(Un,Un.current)}function Zi(i){lt(Un),gi===i&&(gi=null),lt(Ve)}var Ve=et(0);function Yc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Vm(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Hd(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var qd={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=wn(),f=ws(l);f.payload=s,a!=null&&(f.callback=a),s=Rs(i,f,l),s!==null&&(Rn(s,i,l),Cl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=wn(),f=ws(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Rs(i,f,l),s!==null&&(Rn(s,i,l),Cl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=wn(),l=ws(a);l.tag=2,s!=null&&(l.callback=s),s=Rs(i,l,a),s!==null&&(Rn(s,i,a),Cl(s,i,a))}};function i_(i,s,a,l,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!yl(a,l)||!yl(f,m):!0}function s_(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&qd.enqueueReplaceState(s,s.state,null)}function Kr(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=v({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var Qc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function r_(i){Qc(i)}function a_(i){console.error(i)}function o_(i){Qc(i)}function Xc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function l_(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fd(i,s,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){Xc(i,s)},a}function u_(i){return i=ws(i),i.tag=3,i}function c_(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){l_(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){l_(s,a,l),typeof f!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function gR(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Al(s,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 13:return gi===null?mm():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===_d?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),gm(i,l,f)),!1;case 22:return a.flags|=65536,l===_d?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),gm(i,l,f)),!1}throw Error(r(435,a.tag))}return gm(i,l,f),mm(),!1}if(Ht)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==fd&&(i=Error(r(422),{cause:l}),El(On(i,a)))):(l!==fd&&(s=Error(r(423),{cause:l}),El(On(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=On(l,a),f=Fd(i.stateNode,l,f),Ad(i,f),de!==4&&(de=2)),!1;var m=Error(r(520),{cause:l});if(m=On(m,a),Hl===null?Hl=[m]:Hl.push(m),de!==4&&(de=2),s===null)return!0;l=On(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Fd(a.stateNode,l,i),Ad(a,i),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ps===null||!Ps.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=u_(f),c_(f,i,a,l),Ad(a,f),!1}a=a.return}while(a!==null);return!1}var h_=Error(r(461)),Ue=!1;function Fe(i,s,a,l){s.child=i===null?e_(s,null,a,l):$a(s,i.child,a,l)}function f_(i,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return qr(s),l=Cd(i,s,a,T,m,f),A=Id(),i!==null&&!Ue?(Dd(i,s,f),Ji(i,s,f)):(Ht&&A&&cd(s),s.flags|=1,Fe(i,s,l,f),s.child)}function d_(i,s,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!od(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,m_(i,s,m,l,f)):(i=Ic(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Zd(i,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(T,l)&&i.ref===s.ref)return Ji(i,s,f)}return s.flags|=1,i=Ki(m,l),i.ref=s.ref,i.return=s,s.child=i}function m_(i,s,a,l,f){if(i!==null){var m=i.memoizedProps;if(yl(m,l)&&i.ref===s.ref)if(Ue=!1,s.pendingProps=l=m,Zd(i,f))(i.flags&131072)!==0&&(Ue=!0);else return s.lanes=i.lanes,Ji(i,s,f)}return Gd(i,s,a,l,f)}function p_(i,s,a){var l=s.pendingProps,f=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(f=s.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return g_(i,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Mc(s,m!==null?m.cachePool:null),m!==null?mv(s,m):bd(),n_(s);else return s.lanes=s.childLanes=536870912,g_(i,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Mc(s,m.cachePool),mv(s,m),Ds(),s.memoizedState=null):(i!==null&&Mc(s,null),bd(),Ds());return Fe(i,s,f,a),s.child}function g_(i,s,a,l){var f=vd();return f=f===null?null:{parent:xe._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},i!==null&&Mc(s,null),bd(),n_(s),i!==null&&Al(i,s,l,!0),null}function $c(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Gd(i,s,a,l,f){return qr(s),a=Cd(i,s,a,l,void 0,f),l=Id(),i!==null&&!Ue?(Dd(i,s,f),Ji(i,s,f)):(Ht&&l&&cd(s),s.flags|=1,Fe(i,s,a,f),s.child)}function y_(i,s,a,l,f,m){return qr(s),s.updateQueue=null,a=gv(s,l,a,f),pv(i),l=Id(),i!==null&&!Ue?(Dd(i,s,m),Ji(i,s,m)):(Ht&&l&&cd(s),s.flags|=1,Fe(i,s,a,m),s.child)}function v_(i,s,a,l,f){if(qr(s),s.stateNode===null){var m=Ba,T=a.contextType;typeof T=="object"&&T!==null&&(m=Ze(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Td(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?Ze(T):Ba,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Hd(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&qd.enqueueReplaceState(m,m.state,null),Dl(s,l,m,f),Il(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){m=s.stateNode;var A=s.memoizedProps,C=Kr(a,A);m.props=C;var B=m.context,X=a.contextType;T=Ba,typeof X=="object"&&X!==null&&(T=Ze(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||B!==T)&&s_(s,m,l,T),bs=!1;var z=s.memoizedState;m.state=z,Dl(s,l,m,f),Il(),B=s.memoizedState,A||z!==B||bs?(typeof J=="function"&&(Hd(s,a,J,l),B=s.memoizedState),(C=bs||i_(s,a,C,l,z,B,T))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),m.props=l,m.state=B,m.context=T,l=C):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Ed(i,s),T=s.memoizedProps,X=Kr(a,T),m.props=X,J=s.pendingProps,z=m.context,B=a.contextType,C=Ba,typeof B=="object"&&B!==null&&(C=Ze(B)),A=a.getDerivedStateFromProps,(B=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==J||z!==C)&&s_(s,m,l,C),bs=!1,z=s.memoizedState,m.state=z,Dl(s,l,m,f),Il();var F=s.memoizedState;T!==J||z!==F||bs||i!==null&&i.dependencies!==null&&Vc(i.dependencies)?(typeof A=="function"&&(Hd(s,a,A,l),F=s.memoizedState),(X=bs||i_(s,a,X,l,z,F,C)||i!==null&&i.dependencies!==null&&Vc(i.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,F,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,F,C)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=F),m.props=l,m.state=F,m.context=C,l=X):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),l=!1)}return m=l,$c(i,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&l?(s.child=$a(s,i.child,null,f),s.child=$a(s,null,a,f)):Fe(i,s,a,f),s.memoizedState=m.state,i=s.child):i=Ji(i,s,f),i}function __(i,s,a,l){return Tl(),s.flags|=256,Fe(i,s,a,l),s.child}var Kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(i){return{baseLanes:i,cachePool:av()}}function Qd(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=jn),i}function T_(i,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(Ve.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ht){if(f?Is(s):Ds(),Ht){var A=fe,C;if(C=A){t:{for(C=A,A=pi;C.nodeType!==8;){if(!A){A=null;break t}if(C=Wn(C.nextSibling),C===null){A=null;break t}}A=C}A!==null?(s.memoizedState={dehydrated:A,treeContext:Ur!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},C=En(18,null,null,0),C.stateNode=A,C.return=s,s.child=C,cn=s,fe=null,C=!0):C=!1}C||zr(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Vm(A)?s.lanes=32:s.lanes=536870912,null;Zi(s)}return A=l.children,l=l.fallback,f?(Ds(),f=s.mode,A=Wc({mode:"hidden",children:A},f),l=Lr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,f=s.child,f.memoizedState=Yd(a),f.childLanes=Qd(i,T,a),s.memoizedState=Kd,l):(Is(s),Xd(s,A))}if(C=i.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(m)s.flags&256?(Is(s),s.flags&=-257,s=$d(i,s,a)):s.memoizedState!==null?(Ds(),s.child=i.child,s.flags|=128,s=null):(Ds(),f=l.fallback,A=s.mode,l=Wc({mode:"visible",children:l.children},A),f=Lr(f,A,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,$a(s,i.child,null,a),l=s.child,l.memoizedState=Yd(a),l.childLanes=Qd(i,T,a),s.memoizedState=Kd,s=f);else if(Is(s),Vm(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var B=T.dgst;T=B,l=Error(r(419)),l.stack="",l.digest=T,El({value:l,source:null,stack:null}),s=$d(i,s,a)}else if(Ue||Al(i,s,a,!1),T=(a&i.childLanes)!==0,Ue||T){if(T=ee,T!==null&&(l=a&-a,l=(l&42)!==0?1:gs(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ja(i,l),Rn(T,i,l),h_;A.data==="$?"||mm(),s=$d(i,s,a)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=C.treeContext,fe=Wn(A.nextSibling),cn=s,Ht=!0,Br=null,pi=!1,i!==null&&(kn[Ln++]=Yi,kn[Ln++]=Qi,kn[Ln++]=Ur,Yi=i.id,Qi=i.overflow,Ur=s),s=Xd(s,l.children),s.flags|=4096);return s}return f?(Ds(),f=l.fallback,A=s.mode,C=i.child,B=C.sibling,l=Ki(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?f=Ki(B,f):(f=Lr(f,A,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,A=i.child.memoizedState,A===null?A=Yd(a):(C=A.cachePool,C!==null?(B=xe._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=av(),A={baseLanes:A.baseLanes|a,cachePool:C}),f.memoizedState=A,f.childLanes=Qd(i,T,a),s.memoizedState=Kd,l):(Is(s),a=i.child,i=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=a,s.memoizedState=null,a)}function Xd(i,s){return s=Wc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Wc(i,s){return i=En(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function $d(i,s,a){return $a(s,i.child,null,a),i=Xd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function E_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),md(i.return,s,a)}function Wd(i,s,a,l,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function A_(i,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(Fe(i,s,l.children,a),l=Ve.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&E_(i,a,s);else if(i.tag===19)E_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(rt(Ve,l),f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Yc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Wd(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Yc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Wd(s,!0,a,null,m);break;case"together":Wd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ji(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Os|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Al(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Ki(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Ki(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Zd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Vc(i)))}function yR(i,s,a){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),Ss(s,xe,i.memoizedState.cache),Tl();break;case 27:case 5:ps(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:Ss(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Is(s),s.flags|=128,null):(a&s.child.childLanes)!==0?T_(i,s,a):(Is(s),i=Ji(i,s,a),i!==null?i.sibling:null);Is(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Al(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return A_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Ve,Ve.current),l)break;return null;case 22:case 23:return s.lanes=0,p_(i,s,a);case 24:Ss(s,xe,i.memoizedState.cache)}return Ji(i,s,a)}function S_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ue=!0;else{if(!Zd(i,a)&&(s.flags&128)===0)return Ue=!1,yR(i,s,a);Ue=(i.flags&131072)!==0}else Ue=!1,Ht&&(s.flags&1048576)!==0&&Jy(s,xc,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")od(l)?(i=Kr(l,i),s.tag=1,s=v_(null,s,l,i,a)):(s.tag=0,s=Gd(null,s,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===ct){s.tag=11,s=f_(null,s,l,i,a);break t}else if(f===D){s.tag=14,s=d_(null,s,l,i,a);break t}}throw s=oe(l)||l,Error(r(306,s,""))}}return s;case 0:return Gd(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Kr(l,s.pendingProps),v_(i,s,l,f,a);case 3:t:{if(te(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Ed(i,s),Dl(s,l,null,a);var T=s.memoizedState;if(l=T.cache,Ss(s,xe,l),l!==m.cache&&pd(s,[xe],a,!0),Il(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=__(i,s,l,a);break t}else if(l!==f){f=On(Error(r(424)),s),El(f),s=__(i,s,l,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Wn(i.firstChild),cn=s,Ht=!0,Br=null,pi=!0,a=e_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Tl(),l===f){s=Ji(i,s,a);break t}Fe(i,s,l,a)}s=s.child}return s;case 26:return $c(i,s),i===null?(a=CT(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ht||(a=s.type,i=s.pendingProps,l=hh(wt.current).createElement(a),l[Ce]=s,l[Te]=i,Ke(l,a,i),pe(l),s.stateNode=l):s.memoizedState=CT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ps(s),i===null&&Ht&&(l=s.stateNode=bT(s.type,s.pendingProps,wt.current),cn=s,pi=!0,f=fe,Us(s.type)?(Nm=f,fe=Wn(l.firstChild)):fe=f),Fe(i,s,s.pendingProps.children,a),$c(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ht&&((f=l=fe)&&(l=GR(l,s.type,s.pendingProps,pi),l!==null?(s.stateNode=l,cn=s,fe=Wn(l.firstChild),pi=!1,f=!0):f=!1),f||zr(s)),ps(s),f=s.type,m=s.pendingProps,T=i!==null?i.memoizedProps:null,l=m.children,Im(f,m)?l=null:T!==null&&Im(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Cd(i,s,uR,null,null,a),Wl._currentValue=f),$c(i,s),Fe(i,s,l,a),s.child;case 6:return i===null&&Ht&&((i=a=fe)&&(a=KR(a,s.pendingProps,pi),a!==null?(s.stateNode=a,cn=s,fe=null,i=!0):i=!1),i||zr(s)),null;case 13:return T_(i,s,a);case 4:return te(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=$a(s,null,l,a):Fe(i,s,l,a),s.child;case 11:return f_(i,s,s.type,s.pendingProps,a);case 7:return Fe(i,s,s.pendingProps,a),s.child;case 8:return Fe(i,s,s.pendingProps.children,a),s.child;case 12:return Fe(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ss(s,s.type,l.value),Fe(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,qr(s),f=Ze(f),l=l(f),s.flags|=1,Fe(i,s,l,a),s.child;case 14:return d_(i,s,s.type,s.pendingProps,a);case 15:return m_(i,s,s.type,s.pendingProps,a);case 19:return A_(i,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},i===null?(a=Wc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Ki(i.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return p_(i,s,a);case 24:return qr(s),l=Ze(xe),i===null?(f=vd(),f===null&&(f=ee,m=gd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Td(s),Ss(s,xe,f)):((i.lanes&a)!==0&&(Ed(i,s),Dl(s,null,null,a),Il()),f=i.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ss(s,xe,l)):(l=m.cache,Ss(s,xe,l),l!==f.cache&&pd(s,[xe],a,!0))),Fe(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ts(i){i.flags|=4}function b_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!NT(s)){if(s=Un.current,s!==null&&((jt&4194048)===jt?gi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||s!==gi))throw Rl=_d,ov;i.flags|=8192}}function Zc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Jo():536870912,i.lanes|=s,to|=s)}function kl(i,s){if(!Ht)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function le(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function vR(i,s,a){var l=s.pendingProps;switch(hd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(s),null;case 1:return le(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),$i(xe),ii(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(_l(s)?ts(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nv())),le(s),null;case 26:return a=s.memoizedState,i===null?(ts(s),a!==null?(le(s),b_(s,a)):(le(s),s.flags&=-16777217)):a?a!==i.memoizedState?(ts(s),le(s),b_(s,a)):(le(s),s.flags&=-16777217):(i.memoizedProps!==l&&ts(s),le(s),s.flags&=-16777217),null;case 27:Mi(s),a=wt.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ts(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return le(s),null}i=gt.current,_l(s)?tv(s):(i=bT(f,l,a),s.stateNode=i,ts(s))}return le(s),null;case 5:if(Mi(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&ts(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return le(s),null}if(i=gt.current,_l(s))tv(s);else{switch(f=hh(wt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[Ce]=s,i[Te]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;t:switch(Ke(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ts(s)}}return le(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&ts(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=wt.current,_l(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Ce]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||yT(i.nodeValue,a)),i||zr(s)}else i=hh(i).createTextNode(l),i[Ce]=s,s.stateNode=i}return le(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=_l(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ce]=s}else Tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;le(s),f=!1}else f=nv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Zi(s),s):(Zi(s),null)}if(Zi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),Zc(s,s.updateQueue),le(s),null;case 4:return ii(),i===null&&Sm(s.stateNode.containerInfo),le(s),null;case 10:return $i(s.type),le(s),null;case 19:if(lt(Ve),f=s.memoizedState,f===null)return le(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)kl(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=Yc(i),m!==null){for(s.flags|=128,kl(f,!1),i=m.updateQueue,s.updateQueue=i,Zc(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)Zy(a,i),a=a.sibling;return rt(Ve,Ve.current&1|2),s.child}i=i.sibling}f.tail!==null&&In()>eh&&(s.flags|=128,l=!0,kl(f,!1),s.lanes=4194304)}else{if(!l)if(i=Yc(m),i!==null){if(s.flags|=128,l=!0,i=i.updateQueue,s.updateQueue=i,Zc(s,i),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ht)return le(s),null}else 2*In()-f.renderingStartTime>eh&&a!==536870912&&(s.flags|=128,l=!0,kl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(i=f.last,i!==null?i.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=In(),s.sibling=null,i=Ve.current,rt(Ve,l?i&1|2:i&1),s):(le(s),null);case 22:case 23:return Zi(s),wd(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(le(s),s.subtreeFlags&6&&(s.flags|=8192)):le(s),a=s.updateQueue,a!==null&&Zc(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&lt(Fr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),$i(xe),le(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function _R(i,s){switch(hd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return $i(xe),ii(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Mi(s),null;case 13:if(Zi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Tl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return lt(Ve),null;case 4:return ii(),null;case 10:return $i(s.type),null;case 22:case 23:return Zi(s),wd(),i!==null&&lt(Fr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return $i(xe),null;case 25:return null;default:return null}}function w_(i,s){switch(hd(s),s.tag){case 3:$i(xe),ii();break;case 26:case 27:case 5:Mi(s);break;case 4:ii();break;case 13:Zi(s);break;case 19:lt(Ve);break;case 10:$i(s.type);break;case 22:case 23:Zi(s),wd(),i!==null&&lt(Fr);break;case 24:$i(xe)}}function Ll(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(A){Jt(s,s.return,A)}}function xs(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=s;var C=a,B=A;try{B()}catch(X){Jt(f,C,X)}}}l=l.next}while(l!==m)}}catch(X){Jt(s,s.return,X)}}function R_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{dv(s,a)}catch(l){Jt(i,i.return,l)}}}function C_(i,s,a){a.props=Kr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(i,s,l)}}function Ul(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Jt(i,s,f)}}function yi(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Jt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Jt(i,s,f)}else a.current=null}function I_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Jt(i,i.return,f)}}function Jd(i,s,a){try{var l=i.stateNode;BR(l,i.type,a,s),l[Te]=s}catch(f){Jt(i,i.return,f)}}function D_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Us(i.type)||i.tag===4}function tm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||D_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Us(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function em(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ch));else if(l!==4&&(l===27&&Us(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(em(i,s,a),i=i.sibling;i!==null;)em(i,s,a),i=i.sibling}function Jc(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Us(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Jc(i,s,a),i=i.sibling;i!==null;)Jc(i,s,a),i=i.sibling}function x_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ke(s,l,a),s[Ce]=i,s[Te]=a}catch(m){Jt(i,i.return,m)}}var es=!1,ye=!1,nm=!1,V_=typeof WeakSet=="function"?WeakSet:Set,je=null;function TR(i,s){if(i=i.containerInfo,Rm=yh,i=Hy(i),td(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,A=-1,C=-1,B=0,X=0,J=i,z=null;e:for(;;){for(var F;J!==a||f!==0&&J.nodeType!==3||(A=T+f),J!==m||l!==0&&J.nodeType!==3||(C=T+l),J.nodeType===3&&(T+=J.nodeValue.length),(F=J.firstChild)!==null;)z=J,J=F;for(;;){if(J===i)break e;if(z===a&&++B===f&&(A=T),z===m&&++X===l&&(C=T),(F=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=F}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cm={focusedElem:i,selectionRange:a},yh=!1,je=s;je!==null;)if(s=je,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,je=i;else for(;je!==null;){switch(s=je,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var St=Kr(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(St,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Jt(a,a.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)xm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":xm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,je=i;break}je=s.return}}function N_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vs(i,a),l&4&&Ll(5,a);break;case 1:if(Vs(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(T){Jt(a,a.return,T)}else{var f=Kr(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(a,a.return,T)}}l&64&&R_(a),l&512&&Ul(a,a.return);break;case 3:if(Vs(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{dv(i,s)}catch(T){Jt(a,a.return,T)}}break;case 27:s===null&&l&4&&x_(a);case 26:case 5:Vs(i,a),s===null&&l&4&&I_(a),l&512&&Ul(a,a.return);break;case 12:Vs(i,a);break;case 13:Vs(i,a),l&4&&P_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=DR.bind(null,a),YR(i,a))));break;case 22:if(l=a.memoizedState!==null||es,!l){s=s!==null&&s.memoizedState!==null||ye,f=es;var m=ye;es=l,(ye=s)&&!m?Ns(i,a,(a.subtreeFlags&8772)!==0):Vs(i,a),es=f,ye=m}break;case 30:break;default:Vs(i,a)}}function M_(i){var s=i.alternate;s!==null&&(i.alternate=null,M_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&_s(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,mn=!1;function ns(i,s,a){for(a=a.child;a!==null;)O_(i,s,a),a=a.sibling}function O_(i,s,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:ye||yi(a,s),ns(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||yi(a,s);var l=re,f=mn;Us(a.type)&&(re=a.stateNode,mn=!1),ns(i,s,a),Yl(a.stateNode),re=l,mn=f;break;case 5:ye||yi(a,s);case 6:if(l=re,f=mn,re=null,ns(i,s,a),re=l,mn=f,re!==null)if(mn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(m){Jt(a,s,m)}else try{re.removeChild(a.stateNode)}catch(m){Jt(a,s,m)}break;case 18:re!==null&&(mn?(i=re,AT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),eu(i)):AT(re,a.stateNode));break;case 4:l=re,f=mn,re=a.stateNode.containerInfo,mn=!0,ns(i,s,a),re=l,mn=f;break;case 0:case 11:case 14:case 15:ye||xs(2,a,s),ye||xs(4,a,s),ns(i,s,a);break;case 1:ye||(yi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&C_(a,s,l)),ns(i,s,a);break;case 21:ns(i,s,a);break;case 22:ye=(l=ye)||a.memoizedState!==null,ns(i,s,a),ye=l;break;default:ns(i,s,a)}}function P_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{eu(i)}catch(a){Jt(s,s.return,a)}}function ER(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new V_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new V_),s;default:throw Error(r(435,i.tag))}}function im(i,s){var a=ER(i);s.forEach(function(l){var f=xR.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function An(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,T=s,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Us(A.type)){re=A.stateNode,mn=!1;break t}break;case 5:re=A.stateNode,mn=!1;break t;case 3:case 4:re=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(re===null)throw Error(r(160));O_(m,T,f),re=null,mn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)k_(s,i),s=s.sibling}var $n=null;function k_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:An(s,i),Sn(i),l&4&&(xs(3,i,i.return),Ll(3,i),xs(5,i,i.return));break;case 1:An(s,i),Sn(i),l&512&&(ye||a===null||yi(a,a.return)),l&64&&es&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=$n;if(An(s,i),Sn(i),l&512&&(ye||a===null||yi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Er]||m[Ce]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ke(m,l,a),m[Ce]=i,pe(m),l=m;break t;case"link":var T=xT("link","href",f).get(l+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}m=f.createElement(l),Ke(m,l,a),f.head.appendChild(m);break;case"meta":if(T=xT("meta","content",f).get(l+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}m=f.createElement(l),Ke(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Ce]=i,pe(m),l=m}i.stateNode=l}else VT(f,i.type,i.stateNode);else i.stateNode=DT(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?VT(f,i.type,i.stateNode):DT(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Jd(i,i.memoizedProps,a.memoizedProps)}break;case 27:An(s,i),Sn(i),l&512&&(ye||a===null||yi(a,a.return)),a!==null&&l&4&&Jd(i,i.memoizedProps,a.memoizedProps);break;case 5:if(An(s,i),Sn(i),l&512&&(ye||a===null||yi(a,a.return)),i.flags&32){f=i.stateNode;try{xn(f,"")}catch(F){Jt(i,i.return,F)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Jd(i,f,a!==null?a.memoizedProps:f)),l&1024&&(nm=!0);break;case 6:if(An(s,i),Sn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(F){Jt(i,i.return,F)}}break;case 3:if(mh=null,f=$n,$n=fh(s.containerInfo),An(s,i),$n=f,Sn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eu(s.containerInfo)}catch(F){Jt(i,i.return,F)}nm&&(nm=!1,L_(i));break;case 4:l=$n,$n=fh(i.stateNode.containerInfo),An(s,i),Sn(i),$n=l;break;case 12:An(s,i),Sn(i);break;case 13:An(s,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(um=In()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,im(i,l)));break;case 22:f=i.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=es,X=ye;if(es=B||f,ye=X||C,An(s,i),ye=X,es=B,Sn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||C||es||ye||Yr(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(m=C.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=C.stateNode;var J=C.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(F){Jt(C,C.return,F)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(F){Jt(C,C.return,F)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,im(i,a))));break;case 19:An(s,i),Sn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,im(i,l)));break;case 30:break;case 21:break;default:An(s,i),Sn(i)}}function Sn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(D_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=tm(i);Jc(i,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(xn(T,""),a.flags&=-33);var A=tm(i);Jc(i,A,T);break;case 3:case 4:var C=a.stateNode.containerInfo,B=tm(i);em(i,B,C);break;default:throw Error(r(161))}}catch(X){Jt(i,i.return,X)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function L_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;L_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Vs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)N_(i,s.alternate,s),s=s.sibling}function Yr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:xs(4,s,s.return),Yr(s);break;case 1:yi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&C_(s,s.return,a),Yr(s);break;case 27:Yl(s.stateNode);case 26:case 5:yi(s,s.return),Yr(s);break;case 22:s.memoizedState===null&&Yr(s);break;case 30:Yr(s);break;default:Yr(s)}i=i.sibling}}function Ns(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:Ns(f,m,a),Ll(4,m);break;case 1:if(Ns(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Jt(l,l.return,B)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)fv(C[f],A)}catch(B){Jt(l,l.return,B)}}a&&T&64&&R_(m),Ul(m,m.return);break;case 27:x_(m);case 26:case 5:Ns(f,m,a),a&&l===null&&T&4&&I_(m),Ul(m,m.return);break;case 12:Ns(f,m,a);break;case 13:Ns(f,m,a),a&&T&4&&P_(f,m);break;case 22:m.memoizedState===null&&Ns(f,m,a),Ul(m,m.return);break;case 30:break;default:Ns(f,m,a)}s=s.sibling}}function sm(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Sl(a))}function rm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sl(i))}function vi(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)U_(i,s,a,l),s=s.sibling}function U_(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:vi(i,s,a,l),f&2048&&Ll(9,s);break;case 1:vi(i,s,a,l);break;case 3:vi(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sl(i)));break;case 12:if(f&2048){vi(i,s,a,l),i=s.stateNode;try{var m=s.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(C){Jt(s,s.return,C)}}else vi(i,s,a,l);break;case 13:vi(i,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?vi(i,s,a,l):jl(i,s):m._visibility&2?vi(i,s,a,l):(m._visibility|=2,Wa(i,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&sm(T,s);break;case 24:vi(i,s,a,l),f&2048&&rm(s.alternate,s);break;default:vi(i,s,a,l)}}function Wa(i,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,T=s,A=a,C=l,B=T.flags;switch(T.tag){case 0:case 11:case 15:Wa(m,T,A,C,f),Ll(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?Wa(m,T,A,C,f):jl(m,T):(X._visibility|=2,Wa(m,T,A,C,f)),f&&B&2048&&sm(T.alternate,T);break;case 24:Wa(m,T,A,C,f),f&&B&2048&&rm(T.alternate,T);break;default:Wa(m,T,A,C,f)}s=s.sibling}}function jl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:jl(a,l),f&2048&&sm(l.alternate,l);break;case 24:jl(a,l),f&2048&&rm(l.alternate,l);break;default:jl(a,l)}s=s.sibling}}var Bl=8192;function Za(i){if(i.subtreeFlags&Bl)for(i=i.child;i!==null;)j_(i),i=i.sibling}function j_(i){switch(i.tag){case 26:Za(i),i.flags&Bl&&i.memoizedState!==null&&aC($n,i.memoizedState,i.memoizedProps);break;case 5:Za(i);break;case 3:case 4:var s=$n;$n=fh(i.stateNode.containerInfo),Za(i),$n=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Bl,Bl=16777216,Za(i),Bl=s):Za(i));break;default:Za(i)}}function B_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];je=l,H_(l,i)}B_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z_(i),i=i.sibling}function z_(i){switch(i.tag){case 0:case 11:case 15:zl(i),i.flags&2048&&xs(9,i,i.return);break;case 3:zl(i);break;case 12:zl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,th(i)):zl(i);break;default:zl(i)}}function th(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];je=l,H_(l,i)}B_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:xs(8,s,s.return),th(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,th(s));break;default:th(s)}i=i.sibling}}function H_(i,s){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:xs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=i;je!==null;){l=je;var f=l.sibling,m=l.return;if(M_(l),l===a){je=null;break t}if(f!==null){f.return=m,je=f;break t}je=m}}}var AR={getCacheForType:function(i){var s=Ze(xe),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},SR=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,Nt=null,jt=0,Qt=0,bn=null,Ms=!1,Ja=!1,am=!1,is=0,de=0,Os=0,Qr=0,om=0,jn=0,to=0,Hl=null,pn=null,lm=!1,um=0,eh=1/0,nh=null,Ps=null,Ge=0,ks=null,eo=null,no=0,cm=0,hm=null,q_=null,ql=0,fm=null;function wn(){if((Yt&2)!==0&&jt!==0)return jt&-jt;if(Q.T!==null){var i=qa;return i!==0?i:_m()}return ys()}function F_(){jn===0&&(jn=(jt&536870912)===0||Ht?Zo():536870912);var i=Un.current;return i!==null&&(i.flags|=32),jn}function Rn(i,s,a){(i===ee&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(io(i,0),Ls(i,jt,jn,!1)),Pi(i,a),((Yt&2)===0||i!==ee)&&(i===ee&&((Yt&2)===0&&(Qr|=a),de===4&&Ls(i,jt,jn,!1)),_i(i))}function G_(i,s,a){if((Yt&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&i.expiredLanes)===0||Tr(i,s),f=l?RR(i,s):pm(i,s,!0),m=l;do{if(f===0){Ja&&!l&&Ls(i,s,0,!1);break}else{if(a=i.current.alternate,m&&!bR(a)){f=pm(i,s,!1),m=!1;continue}if(f===2){if(m=s,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var A=i;f=Hl;var C=A.current.memoizedState.isDehydrated;if(C&&(io(A,T).flags|=256),T=pm(A,T,!1),T!==2){if(am&&!C){A.errorRecoveryDisabledLanes|=m,Qr|=m,f=4;break t}m=pn,pn=f,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){io(i,0),Ls(i,s,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ls(l,s,jn,!Ms);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=um+300-In(),10<f)){if(Ls(l,s,jn,!Ms),Ta(l,0,!0)!==0)break t;l.timeoutHandle=TT(K_.bind(null,l,a,pn,nh,lm,s,jn,Qr,to,Ms,m,2,-0,0),f);break t}K_(l,a,pn,nh,lm,s,jn,Qr,to,Ms,m,0,-0,0)}}break}while(!0);_i(i)}function K_(i,s,a,l,f,m,T,A,C,B,X,J,z,F){if(i.timeoutHandle=-1,J=s.subtreeFlags,(J&8192||(J&16785408)===16785408)&&($l={stylesheets:null,count:0,unsuspend:rC},j_(s),J=oC(),J!==null)){i.cancelPendingCommit=J(J_.bind(null,i,s,m,a,l,f,T,A,C,X,1,z,F)),Ls(i,m,T,!B);return}J_(i,s,m,a,l,f,T,A,C)}function bR(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Tn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ls(i,s,a,l){s&=~om,s&=~Qr,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var m=31-We(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&si(i,a,s)}function ih(){return(Yt&6)===0?(Fl(0),!1):!0}function dm(){if(Nt!==null){if(Qt===0)var i=Nt.return;else i=Nt,Xi=Hr=null,xd(i),Xa=null,Ol=0,i=Nt;for(;i!==null;)w_(i.alternate,i),i=i.return;Nt=null}}function io(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,HR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),dm(),ee=i,Nt=a=Ki(i.current,null),jt=s,Qt=0,bn=null,Ms=!1,Ja=Tr(i,s),am=!1,to=jn=om=Qr=Os=de=0,pn=Hl=null,lm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-We(l),m=1<<f;s|=i[f],l&=~m}return is=s,wc(),a}function Y_(i,s){Dt=null,Q.H=Fc,s===wl||s===Oc?(s=cv(),Qt=3):s===ov?(s=cv(),Qt=4):Qt=s===h_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,bn=s,Nt===null&&(de=1,Xc(i,On(s,i.current)))}function Q_(){var i=Q.H;return Q.H=Fc,i===null?Fc:i}function X_(){var i=Q.A;return Q.A=AR,i}function mm(){de=4,Ms||(jt&4194048)!==jt&&Un.current!==null||(Ja=!0),(Os&134217727)===0&&(Qr&134217727)===0||ee===null||Ls(ee,jt,jn,!1)}function pm(i,s,a){var l=Yt;Yt|=2;var f=Q_(),m=X_();(ee!==i||jt!==s)&&(nh=null,io(i,s)),s=!1;var T=de;t:do try{if(Qt!==0&&Nt!==null){var A=Nt,C=bn;switch(Qt){case 8:dm(),T=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var B=Qt;if(Qt=0,bn=null,so(i,A,C,B),a&&Ja){T=0;break t}break;default:B=Qt,Qt=0,bn=null,so(i,A,C,B)}}wR(),T=de;break}catch(X){Y_(i,X)}while(!0);return s&&i.shellSuspendCounter++,Xi=Hr=null,Yt=l,Q.H=f,Q.A=m,Nt===null&&(ee=null,jt=0,wc()),T}function wR(){for(;Nt!==null;)$_(Nt)}function RR(i,s){var a=Yt;Yt|=2;var l=Q_(),f=X_();ee!==i||jt!==s?(nh=null,eh=In()+500,io(i,s)):Ja=Tr(i,s);t:do try{if(Qt!==0&&Nt!==null){s=Nt;var m=bn;e:switch(Qt){case 1:Qt=0,bn=null,so(i,s,m,1);break;case 2:case 9:if(lv(m)){Qt=0,bn=null,W_(s);break}s=function(){Qt!==2&&Qt!==9||ee!==i||(Qt=7),_i(i)},m.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:lv(m)?(Qt=0,bn=null,W_(s)):(Qt=0,bn=null,so(i,s,m,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var A=Nt;if(!T||NT(T)){Qt=0,bn=null;var C=A.sibling;if(C!==null)Nt=C;else{var B=A.return;B!==null?(Nt=B,sh(B)):Nt=null}break e}}Qt=0,bn=null,so(i,s,m,5);break;case 6:Qt=0,bn=null,so(i,s,m,6);break;case 8:dm(),de=6;break t;default:throw Error(r(462))}}CR();break}catch(X){Y_(i,X)}while(!0);return Xi=Hr=null,Q.H=l,Q.A=f,Yt=a,Nt!==null?0:(ee=null,jt=0,wc(),de)}function CR(){for(;Nt!==null&&!Qo();)$_(Nt)}function $_(i){var s=S_(i.alternate,i,is);i.memoizedProps=i.pendingProps,s===null?sh(i):Nt=s}function W_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=y_(a,s,s.pendingProps,s.type,void 0,jt);break;case 11:s=y_(a,s,s.pendingProps,s.type.render,s.ref,jt);break;case 5:xd(s);default:w_(a,s),s=Nt=Zy(s,is),s=S_(a,s,is)}i.memoizedProps=i.pendingProps,s===null?sh(i):Nt=s}function so(i,s,a,l){Xi=Hr=null,xd(s),Xa=null,Ol=0;var f=s.return;try{if(gR(i,f,s,a,jt)){de=1,Xc(i,On(a,i.current)),Nt=null;return}}catch(m){if(f!==null)throw Nt=f,m;de=1,Xc(i,On(a,i.current)),Nt=null;return}s.flags&32768?(Ht||l===1?i=!0:Ja||(jt&536870912)!==0?i=!1:(Ms=i=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Z_(s,i)):sh(s)}function sh(i){var s=i;do{if((s.flags&32768)!==0){Z_(s,Ms);return}i=s.return;var a=vR(s.alternate,s,is);if(a!==null){Nt=a;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=i}while(s!==null);de===0&&(de=5)}function Z_(i,s){do{var a=_R(i.alternate,i);if(a!==null){a.flags&=32767,Nt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=a}while(i!==null);de=6,Nt=null}function J_(i,s,a,l,f,m,T,A,C){i.cancelPendingCommit=null;do rh();while(Ge!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=rd,tl(i,a,m,T,A,C),i===ee&&(Nt=ee=null,jt=0),eo=s,ks=i,no=a,cm=m,hm=f,q_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VR(gr,function(){return sT(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=G.p,G.p=2,T=Yt,Yt|=4;try{TR(i,s,a)}finally{Yt=T,G.p=f,Q.T=l}}Ge=1,tT(),eT(),nT()}}function tT(){if(Ge===1){Ge=0;var i=ks,s=eo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=G.p;G.p=2;var f=Yt;Yt|=4;try{k_(s,i);var m=Cm,T=Hy(i.containerInfo),A=m.focusedElem,C=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&zy(A.ownerDocument.documentElement,A)){if(C!==null&&td(A)){var B=C.start,X=C.end;if(X===void 0&&(X=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min(X,A.value.length);else{var J=A.ownerDocument||document,z=J&&J.defaultView||window;if(z.getSelection){var F=z.getSelection(),St=A.textContent.length,vt=Math.min(C.start,St),Zt=C.end===void 0?vt:Math.min(C.end,St);!F.extend&&vt>Zt&&(T=Zt,Zt=vt,vt=T);var k=By(A,vt),M=By(A,Zt);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var j=J.createRange();j.setStart(k.node,k.offset),F.removeAllRanges(),vt>Zt?(F.addRange(j),F.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),F.addRange(j))}}}}for(J=[],F=A;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var Z=J[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}yh=!!Rm,Cm=Rm=null}finally{Yt=f,G.p=l,Q.T=a}}i.current=s,Ge=2}}function eT(){if(Ge===2){Ge=0;var i=ks,s=eo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=G.p;G.p=2;var f=Yt;Yt|=4;try{N_(i,s.alternate,s)}finally{Yt=f,G.p=l,Q.T=a}}Ge=3}}function nT(){if(Ge===4||Ge===3){Ge=0,tc();var i=ks,s=eo,a=no,l=q_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ge=5:(Ge=0,eo=ks=null,iT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ps=null),Ea(a),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(he,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,f=G.p,G.p=2,Q.T=null;try{for(var m=i.onRecoverableError,T=0;T<l.length;T++){var A=l[T];m(A.value,{componentStack:A.stack})}}finally{Q.T=s,G.p=f}}(no&3)!==0&&rh(),_i(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===fm?ql++:(ql=0,fm=i):ql=0,Fl(0)}}function iT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Sl(s)))}function rh(i){return tT(),eT(),nT(),sT()}function sT(){if(Ge!==5)return!1;var i=ks,s=cm;cm=0;var a=Ea(no),l=Q.T,f=G.p;try{G.p=32>a?32:a,Q.T=null,a=hm,hm=null;var m=ks,T=no;if(Ge=0,eo=ks=null,no=0,(Yt&6)!==0)throw Error(r(331));var A=Yt;if(Yt|=4,z_(m.current),U_(m,m.current,T,a),Yt=A,Fl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(he,m)}catch{}return!0}finally{G.p=f,Q.T=l,iT(i,s)}}function rT(i,s,a){s=On(a,s),s=Fd(i.stateNode,s,2),i=Rs(i,s,2),i!==null&&(Pi(i,2),_i(i))}function Jt(i,s,a){if(i.tag===3)rT(i,i,a);else for(;s!==null;){if(s.tag===3){rT(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ps===null||!Ps.has(l))){i=On(a,i),a=u_(2),l=Rs(s,a,2),l!==null&&(c_(a,l,s,i),Pi(l,2),_i(l));break}}s=s.return}}function gm(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new SR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(am=!0,f.add(a),i=IR.bind(null,i,s,a),s.then(i,i))}function IR(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(jt&a)===a&&(de===4||de===3&&(jt&62914560)===jt&&300>In()-um?(Yt&2)===0&&io(i,0):om|=a,to===jt&&(to=0)),_i(i)}function aT(i,s){s===0&&(s=Jo()),i=ja(i,s),i!==null&&(Pi(i,s),_i(i))}function DR(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),aT(i,a)}function xR(i,s){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),aT(i,a)}function VR(i,s){return mr(i,s)}var ah=null,ro=null,ym=!1,oh=!1,vm=!1,Xr=0;function _i(i){i!==ro&&i.next===null&&(ro===null?ah=ro=i:ro=ro.next=i),oh=!0,ym||(ym=!0,MR())}function Fl(i,s){if(!vm&&oh){vm=!0;do for(var a=!1,l=ah;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-We(42|i)+1)-1,m&=f&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,cT(l,m))}else m=jt,m=Ta(l,l===ee?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Tr(l,m)||(a=!0,cT(l,m));l=l.next}while(a);vm=!1}}function NR(){oT()}function oT(){oh=ym=!1;var i=0;Xr!==0&&(zR()&&(i=Xr),Xr=0);for(var s=In(),a=null,l=ah;l!==null;){var f=l.next,m=lT(l,s);m===0?(l.next=null,a===null?ah=f:a.next=f,f===null&&(ro=a)):(a=l,(i!==0||(m&3)!==0)&&(oh=!0)),l=f}Fl(i)}function lT(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-We(m),A=1<<T,C=f[T];C===-1?((A&a)===0||(A&l)!==0)&&(f[T]=Wo(A,s)):C<=s&&(i.expiredLanes|=A),m&=~A}if(s=ee,a=jt,a=Ta(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Tr(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&pr(l),Ea(a)){case 2:case 8:a=va;break;case 32:a=gr;break;case 268435456:a=_a;break;default:a=gr}return l=uT.bind(null,i),a=mr(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&pr(l),i.callbackPriority=2,i.callbackNode=null,2}function uT(i,s){if(Ge!==0&&Ge!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(rh()&&i.callbackNode!==a)return null;var l=jt;return l=Ta(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(G_(i,l,s),lT(i,In()),i.callbackNode!=null&&i.callbackNode===a?uT.bind(null,i):null)}function cT(i,s){if(rh())return null;G_(i,s,!0)}function MR(){qR(function(){(Yt&6)!==0?mr(Xo,NR):oT()})}function _m(){return Xr===0&&(Xr=Zo()),Xr}function hT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ca(""+i)}function fT(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function OR(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=hT((f[Te]||null).action),T=l.submitter;T&&(s=(s=T[Te]||null)?hT(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var A=new Ia("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xr!==0){var C=T?fT(f,T):new FormData(f);jd(a,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(A.preventDefault(),C=T?fT(f,T):new FormData(f),jd(a,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Tm=0;Tm<sd.length;Tm++){var Em=sd[Tm],PR=Em.toLowerCase(),kR=Em[0].toUpperCase()+Em.slice(1);Xn(PR,"on"+kR)}Xn(Gy,"onAnimationEnd"),Xn(Ky,"onAnimationIteration"),Xn(Yy,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Jw,"onTransitionRun"),Xn(tR,"onTransitionStart"),Xn(eR,"onTransitionCancel"),Xn(Qy,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function dT(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var A=l[T],C=A.instance,B=A.currentTarget;if(A=A.listener,C!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=B;try{m(f)}catch(X){Qc(X)}f.currentTarget=null,m=C}else for(T=0;T<l.length;T++){if(A=l[T],C=A.instance,B=A.currentTarget,A=A.listener,C!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=B;try{m(f)}catch(X){Qc(X)}f.currentTarget=null,m=C}}}}function Mt(i,s){var a=s[nl];a===void 0&&(a=s[nl]=new Set);var l=i+"__bubble";a.has(l)||(mT(s,i,2,!1),a.add(l))}function Am(i,s,a){var l=0;s&&(l|=4),mT(a,i,l,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Sm(i){if(!i[lh]){i[lh]=!0,il.forEach(function(a){a!=="selectionchange"&&(LR.has(a)||Am(a,!1,i),Am(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[lh]||(s[lh]=!0,Am("selectionchange",!1,s))}}function mT(i,s,a,l){switch(UT(s)){case 2:var f=cC;break;case 8:f=hC;break;default:f=Lm}a=f.bind(null,s,a,i),f=void 0,!Nn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function bm(i,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=ki(A),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){l=m=T;continue t}A=A.parentNode}}l=l.return}cc(function(){var B=m,X=Vn(a),J=[];t:{var z=Xy.get(i);if(z!==void 0){var F=Ia,St=i;switch(i){case"keypress":if(ci(a)===0)break t;case"keydown":case"keyup":F=Oa;break;case"focusin":St="focus",F=Va;break;case"focusout":St="blur",F=Va;break;case"beforeblur":case"afterblur":F=Va;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=vc;break;case Gy:case Ky:case Yy:F=Na;break;case Qy:F=Tc;break;case"scroll":case"scrollend":F=hc;break;case"wheel":F=Pa;break;case"copy":case"cut":case"paste":F=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=pl;break;case"toggle":case"beforetoggle":F=Ac}var vt=(s&4)!==0,Zt=!vt&&(i==="scroll"||i==="scrollend"),k=vt?z!==null?z+"Capture":null:z;vt=[];for(var M=B,j;M!==null;){var Z=M;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||k===null||(Z=Ir(M,k),Z!=null&&vt.push(Kl(M,Z,j))),Zt)break;M=M.return}0<vt.length&&(z=new F(z,St,null,a,X),J.push({event:z,listeners:vt}))}}if((s&7)===0){t:{if(z=i==="mouseover"||i==="pointerover",F=i==="mouseout"||i==="pointerout",z&&a!==Bi&&(St=a.relatedTarget||a.fromElement)&&(ki(St)||St[Dn]))break t;if((F||z)&&(z=X.window===X?X:(z=X.ownerDocument)?z.defaultView||z.parentWindow:window,F?(St=a.relatedTarget||a.toElement,F=B,St=St?ki(St):null,St!==null&&(Zt=u(St),vt=St.tag,St!==Zt||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(F=null,St=B),F!==St)){if(vt=Mn,Z="onMouseLeave",k="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(vt=pl,Z="onPointerLeave",k="onPointerEnter",M="pointer"),Zt=F==null?z:ai(F),j=St==null?z:ai(St),z=new vt(Z,M+"leave",F,a,X),z.target=Zt,z.relatedTarget=j,Z=null,ki(X)===B&&(vt=new vt(k,M+"enter",St,a,X),vt.target=j,vt.relatedTarget=Zt,Z=vt),Zt=Z,F&&St)e:{for(vt=F,k=St,M=0,j=vt;j;j=ao(j))M++;for(j=0,Z=k;Z;Z=ao(Z))j++;for(;0<M-j;)vt=ao(vt),M--;for(;0<j-M;)k=ao(k),j--;for(;M--;){if(vt===k||k!==null&&vt===k.alternate)break e;vt=ao(vt),k=ao(k)}vt=null}else vt=null;F!==null&&pT(J,z,F,vt,!1),St!==null&&Zt!==null&&pT(J,Zt,St,vt,!0)}}t:{if(z=B?ai(B):window,F=z.nodeName&&z.nodeName.toLowerCase(),F==="select"||F==="input"&&z.type==="file")var ft=Oy;else if(De(z))if(Py)ft=$w;else{ft=Qw;var Vt=Yw}else F=z.nodeName,!F||F.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?B&&ll(B.elementType)&&(ft=Oy):ft=Xw;if(ft&&(ft=ft(i,B))){Gi(J,ft,a,X);break t}Vt&&Vt(i,z,B),i==="focusout"&&B&&z.type==="number"&&B.memoizedProps.value!=null&&Es(z,"number",z.value)}switch(Vt=B?ai(B):window,i){case"focusin":(De(Vt)||Vt.contentEditable==="true")&&(ka=Vt,ed=B,vl=null);break;case"focusout":vl=ed=ka=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,qy(J,a,X);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":qy(J,a,X)}var pt;if(di)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?K(i,a)&&(_t="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(pt=cl()):(ui=X,As="value"in ui?ui.value:ui.textContent,Lt=!0)),Vt=uh(B,_t),0<Vt.length&&(_t=new dl(_t,i,null,a,X),J.push({event:_t,listeners:Vt}),pt?_t.data=pt:(pt=at(a),pt!==null&&(_t.data=pt)))),(pt=y?Ie(i,a):Ut(i,a))&&(_t=uh(B,"onBeforeInput"),0<_t.length&&(Vt=new dl("onBeforeInput","beforeinput",null,a,X),J.push({event:Vt,listeners:_t}),Vt.data=pt)),OR(J,i,B,a,X)}dT(J,s)})}function Kl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function uh(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ir(i,a),f!=null&&l.unshift(Kl(i,f,m)),f=Ir(i,s),f!=null&&l.push(Kl(i,f,m))),i.tag===3)return l;i=i.return}return[]}function ao(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pT(i,s,a,l,f){for(var m=s._reactName,T=[];a!==null&&a!==l;){var A=a,C=A.alternate,B=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||B===null||(C=B,f?(B=Ir(a,m),B!=null&&T.unshift(Kl(a,B,C))):f||(B=Ir(a,m),B!=null&&T.push(Kl(a,B,C)))),a=a.return}T.length!==0&&i.push({event:s,listeners:T})}var UR=/\r\n?/g,jR=/\u0000|\uFFFD/g;function gT(i){return(typeof i=="string"?i:""+i).replace(UR,`
`).replace(jR,"")}function yT(i,s){return s=gT(s),gT(i)===s}function ch(){}function Wt(i,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||xn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&xn(i,""+l);break;case"className":oi(i,"class",l);break;case"tabIndex":oi(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(i,a,l);break;case"style":ol(i,l,m);break;case"data":if(s!=="object"){oi(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ca(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Wt(i,s,"name",f.name,f,null),Wt(i,s,"formEncType",f.formEncType,f,null),Wt(i,s,"formMethod",f.formMethod,f,null),Wt(i,s,"formTarget",f.formTarget,f,null)):(Wt(i,s,"encType",f.encType,f,null),Wt(i,s,"method",f.method,f,null),Wt(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ca(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ch);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ca(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Ts(i,"popover",l);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ts(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qf.get(a)||a,Ts(i,a,l))}}function wm(i,s,a,l,f,m){switch(a){case"style":ol(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?xn(i,l):(typeof l=="number"||typeof l=="bigint")&&xn(i,""+l);break;case"onScroll":l!=null&&Mt("scroll",i);break;case"onScrollEnd":l!=null&&Mt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=i[Te]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ts(i,a,l)}}}function Ke(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,m,T,a,null)}}f&&Wt(i,s,"srcSet",a.srcSet,a,null),l&&Wt(i,s,"src",a.src,a,null);return;case"input":Mt("invalid",i);var A=m=T=f=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":T=X;break;case"checked":C=X;break;case"defaultChecked":B=X;break;case"value":m=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:Wt(i,s,l,X,a,null)}}wr(i,m,A,C,B,T,f,!1),Ra(i);return;case"select":Mt("invalid",i),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:Wt(i,s,f,A,a,null)}s=m,a=T,i.multiple=!!l,s!=null?ji(i,!!l,s,!1):a!=null&&ji(i,!!l,a,!0);return;case"textarea":Mt("invalid",i),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Wt(i,s,T,A,a,null)}Rr(i,l,f,m),Ra(i);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(i,s,C,l,a,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Mt(Gl[l],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,B,l,a,null)}return;default:if(ll(s)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&wm(i,s,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Wt(i,s,A,l,a,null))}function BR(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,C=null,B=null,X=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(F)||Wt(i,s,F,null,l,J)}}for(var z in l){var F=l[z];if(J=a[z],l.hasOwnProperty(z)&&(F!=null||J!=null))switch(z){case"type":m=F;break;case"name":f=F;break;case"checked":B=F;break;case"defaultChecked":X=F;break;case"value":T=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,s));break;default:F!==J&&Wt(i,s,z,F,l,J)}}_n(i,T,A,C,B,X,m,f);return;case"select":F=T=A=z=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(m)||Wt(i,s,m,null,l,C)}for(f in l)if(m=l[f],C=a[f],l.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":z=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==C&&Wt(i,s,f,m,l,C)}s=A,a=T,l=F,z!=null?ji(i,!!a,z,!1):!!l!=!!a&&(s!=null?ji(i,!!a,s,!0):ji(i,!!a,a?[]:"",!1));return;case"textarea":F=z=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Wt(i,s,A,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":z=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Wt(i,s,T,f,l,m)}Xt(i,z,F);return;case"option":for(var St in a)if(z=a[St],a.hasOwnProperty(St)&&z!=null&&!l.hasOwnProperty(St))switch(St){case"selected":i.selected=!1;break;default:Wt(i,s,St,null,l,z)}for(C in l)if(z=l[C],F=a[C],l.hasOwnProperty(C)&&z!==F&&(z!=null||F!=null))switch(C){case"selected":i.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Wt(i,s,C,z,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!l.hasOwnProperty(vt)&&Wt(i,s,vt,null,l,z);for(B in l)if(z=l[B],F=a[B],l.hasOwnProperty(B)&&z!==F&&(z!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,s));break;default:Wt(i,s,B,z,l,F)}return;default:if(ll(s)){for(var Zt in a)z=a[Zt],a.hasOwnProperty(Zt)&&z!==void 0&&!l.hasOwnProperty(Zt)&&wm(i,s,Zt,void 0,l,z);for(X in l)z=l[X],F=a[X],!l.hasOwnProperty(X)||z===F||z===void 0&&F===void 0||wm(i,s,X,z,l,F);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Wt(i,s,k,null,l,z);for(J in l)z=l[J],F=a[J],!l.hasOwnProperty(J)||z===F||z==null&&F==null||Wt(i,s,J,z,l,F)}var Rm=null,Cm=null;function hh(i){return i.nodeType===9?i:i.ownerDocument}function vT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _T(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Im(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dm=null;function zR(){var i=window.event;return i&&i.type==="popstate"?i===Dm?!1:(Dm=i,!0):(Dm=null,!1)}var TT=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,ET=typeof Promise=="function"?Promise:void 0,qR=typeof queueMicrotask=="function"?queueMicrotask:typeof ET<"u"?function(i){return ET.resolve(null).then(i).catch(FR)}:TT;function FR(i){setTimeout(function(){throw i})}function Us(i){return i==="head"}function AT(i,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=i.ownerDocument;if(a&1&&Yl(T.documentElement),a&2&&Yl(T.body),a&4)for(a=T.head,Yl(a),T=a.firstChild;T;){var A=T.nextSibling,C=T.nodeName;T[Er]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(f===0){i.removeChild(m),eu(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);eu(s)}function xm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xm(a),_s(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function GR(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Er])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function KR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Wn(i.nextSibling),i===null))return null;return i}function Vm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function YR(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Wn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Nm=null;function ST(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function bT(i,s,a){switch(s=hh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Yl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);_s(i)}var Bn=new Map,wT=new Set;function fh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ss=G.d;G.d={f:QR,r:XR,D:$R,C:WR,L:ZR,m:JR,X:eC,S:tC,M:nC};function QR(){var i=ss.f(),s=ih();return i||s}function XR(i){var s=ri(i);s!==null&&s.tag===5&&s.type==="form"?Gv(s):ss.r(i)}var oo=typeof document>"u"?null:document;function RT(i,s,a){var l=oo;if(l&&typeof s=="string"&&s){var f=Ee(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),wT.has(f)||(wT.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Ke(s,"link",i),pe(s),l.head.appendChild(s)))}}function $R(i){ss.D(i),RT("dns-prefetch",i,null)}function WR(i,s){ss.C(i,s),RT("preconnect",i,s)}function ZR(i,s,a){ss.L(i,s,a);var l=oo;if(l&&i&&s){var f='link[rel="preload"][as="'+Ee(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ee(a.imageSizes)+'"]')):f+='[href="'+Ee(i)+'"]';var m=f;switch(s){case"style":m=lo(i);break;case"script":m=uo(i)}Bn.has(m)||(i=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Bn.set(m,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Ql(m))||s==="script"&&l.querySelector(Xl(m))||(s=l.createElement("link"),Ke(s,"link",i),pe(s),l.head.appendChild(s)))}}function JR(i,s){ss.m(i,s);var a=oo;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Ee(l)+'"][href="'+Ee(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=uo(i)}if(!Bn.has(m)&&(i=v({rel:"modulepreload",href:i},s),Bn.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(m)))return}l=a.createElement("link"),Ke(l,"link",i),pe(l),a.head.appendChild(l)}}}function tC(i,s,a){ss.S(i,s,a);var l=oo;if(l&&i){var f=on(l).hoistableStyles,m=lo(i);s=s||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(Ql(m)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Bn.get(m))&&Mm(i,a);var C=T=l.createElement("link");pe(C),Ke(C,"link",i),C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,dh(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function eC(i,s){ss.X(i,s);var a=oo;if(a&&i){var l=on(a).hoistableScripts,f=uo(i),m=l.get(f);m||(m=a.querySelector(Xl(f)),m||(i=v({src:i,async:!0},s),(s=Bn.get(f))&&Om(i,s),m=a.createElement("script"),pe(m),Ke(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function nC(i,s){ss.M(i,s);var a=oo;if(a&&i){var l=on(a).hoistableScripts,f=uo(i),m=l.get(f);m||(m=a.querySelector(Xl(f)),m||(i=v({src:i,async:!0,type:"module"},s),(s=Bn.get(f))&&Om(i,s),m=a.createElement("script"),pe(m),Ke(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function CT(i,s,a,l){var f=(f=wt.current)?fh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=lo(a.href),a=on(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=lo(a.href);var m=on(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(Ql(i)))&&!m._p&&(T.instance=m,T.state.loading=5),Bn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(i,a),m||iC(f,i,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=uo(a),a=on(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function lo(i){return'href="'+Ee(i)+'"'}function Ql(i){return'link[rel="stylesheet"]['+i+"]"}function IT(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function iC(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ke(s,"link",a),pe(s),i.head.appendChild(s))}function uo(i){return'[src="'+Ee(i)+'"]'}function Xl(i){return"script[async]"+i}function DT(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+Ee(a.href)+'"]');if(l)return s.instance=l,pe(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),pe(l),Ke(l,"style",f),dh(l,a.precedence,i),s.instance=l;case"stylesheet":f=lo(a.href);var m=i.querySelector(Ql(f));if(m)return s.state.loading|=4,s.instance=m,pe(m),m;l=IT(a),(f=Bn.get(f))&&Mm(l,f),m=(i.ownerDocument||i).createElement("link"),pe(m);var T=m;return T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),Ke(m,"link",l),s.state.loading|=4,dh(m,a.precedence,i),s.instance=m;case"script":return m=uo(a.src),(f=i.querySelector(Xl(m)))?(s.instance=f,pe(f),f):(l=a,(f=Bn.get(m))&&(l=v({},a),Om(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ke(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,dh(l,a.precedence,i));return s.instance}function dh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Mm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Om(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var mh=null;function xT(i,s,a){if(mh===null){var l=new Map,f=mh=new Map;f.set(a,l)}else f=mh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[Er]||m[Ce]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=i+T;var A=l.get(T);A?A.push(m):l.set(T,[m])}}return l}function VT(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function sC(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function NT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var $l=null;function rC(){}function aC(i,s,a){if($l===null)throw Error(r(475));var l=$l;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=lo(a.href),m=i.querySelector(Ql(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=ph.bind(l),i.then(l,l)),s.state.loading|=4,s.instance=m,pe(m);return}m=i.ownerDocument||i,a=IT(a),(f=Bn.get(f))&&Mm(a,f),m=m.createElement("link"),pe(m);var T=m;T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),Ke(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=ph.bind(l),i.addEventListener("load",s),i.addEventListener("error",s))}}function oC(){if($l===null)throw Error(r(475));var i=$l;return i.stylesheets&&i.count===0&&Pm(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&Pm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function ph(){if(this.count--,this.count===0){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gh=null;function Pm(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gh=new Map,s.forEach(lC,i),gh=null,ph.call(i))}function lC(i,s){if(!(s.state.loading&4)){var a=gh.get(i);if(a)var l=a.get(null);else{a=new Map,gh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=ph.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Wl={$$typeof:W,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function uC(i,s,a,l,f,m,T,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function MT(i,s,a,l,f,m,T,A,C,B,X,J){return i=new uC(i,s,a,T,A,C,B,J),s=1,m===!0&&(s|=24),m=En(3,null,null,s),i.current=m,m.stateNode=i,s=gd(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Td(m),i}function OT(i){return i?(i=Ba,i):Ba}function PT(i,s,a,l,f,m){f=OT(f),l.context===null?l.context=f:l.pendingContext=f,l=ws(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Rs(i,l,s),a!==null&&(Rn(a,i,s),Cl(a,i,s))}function kT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function km(i,s){kT(i,s),(i=i.alternate)&&kT(i,s)}function LT(i){if(i.tag===13){var s=ja(i,67108864);s!==null&&Rn(s,i,67108864),km(i,67108864)}}var yh=!0;function cC(i,s,a,l){var f=Q.T;Q.T=null;var m=G.p;try{G.p=2,Lm(i,s,a,l)}finally{G.p=m,Q.T=f}}function hC(i,s,a,l){var f=Q.T;Q.T=null;var m=G.p;try{G.p=8,Lm(i,s,a,l)}finally{G.p=m,Q.T=f}}function Lm(i,s,a,l){if(yh){var f=Um(l);if(f===null)bm(i,s,l,vh,a),jT(i,l);else if(dC(f,i,s,a,l))l.stopPropagation();else if(jT(i,l),s&4&&-1<fC.indexOf(i)){for(;f!==null;){var m=ri(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Kn(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var C=1<<31-We(T);A.entanglements[1]|=C,T&=~C}_i(m),(Yt&6)===0&&(eh=In()+500,Fl(0))}}break;case 13:A=ja(m,2),A!==null&&Rn(A,m,2),ih(),km(m,2)}if(m=Um(l),m===null&&bm(i,s,l,vh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else bm(i,s,l,null,a)}}function Um(i){return i=Vn(i),jm(i)}var vh=null;function jm(i){if(vh=null,i=ki(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return vh=i,null}function UT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hf()){case Xo:return 2;case va:return 8;case gr:case qf:return 32;case _a:return 268435456;default:return 32}default:return 32}}var Bm=!1,js=null,Bs=null,zs=null,Zl=new Map,Jl=new Map,Hs=[],fC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jT(i,s){switch(i){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Zl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(s.pointerId)}}function tu(i,s,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=ri(s),s!==null&&LT(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function dC(i,s,a,l,f){switch(s){case"focusin":return js=tu(js,i,s,a,l,f),!0;case"dragenter":return Bs=tu(Bs,i,s,a,l,f),!0;case"mouseover":return zs=tu(zs,i,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return Zl.set(m,tu(Zl.get(m)||null,i,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Jl.set(m,tu(Jl.get(m)||null,i,s,a,l,f)),!0}return!1}function BT(i){var s=ki(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,ic(i.priority,function(){if(a.tag===13){var l=wn();l=gs(l);var f=ja(a,l);f!==null&&Rn(f,a,l),km(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _h(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Um(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Bi=l,a.target.dispatchEvent(l),Bi=null}else return s=ri(a),s!==null&&LT(s),i.blockedOn=a,!1;s.shift()}return!0}function zT(i,s,a){_h(i)&&a.delete(s)}function mC(){Bm=!1,js!==null&&_h(js)&&(js=null),Bs!==null&&_h(Bs)&&(Bs=null),zs!==null&&_h(zs)&&(zs=null),Zl.forEach(zT),Jl.forEach(zT)}function Th(i,s){i.blockedOn===s&&(i.blockedOn=null,Bm||(Bm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mC)))}var Eh=null;function HT(i){Eh!==i&&(Eh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===i&&(Eh=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(jm(l||a)===null)continue;break}var m=ri(a);m!==null&&(i.splice(s,3),s-=3,jd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function eu(i){function s(C){return Th(C,i)}js!==null&&Th(js,i),Bs!==null&&Th(Bs,i),zs!==null&&Th(zs,i),Zl.forEach(s),Jl.forEach(s);for(var a=0;a<Hs.length;a++){var l=Hs[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)BT(a),a.blockedOn===null&&Hs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[Te]||null;if(typeof m=="function")T||HT(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Te]||null)A=T.formAction;else if(jm(f)!==null)continue}else A=T.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),HT(a)}}}function zm(i){this._internalRoot=i}Ah.prototype.render=zm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=wn();PT(a,l,i,s,null,null)},Ah.prototype.unmount=zm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;PT(i.current,2,null,i,null,null),ih(),s[Dn]=null}};function Ah(i){this._internalRoot=i}Ah.prototype.unstable_scheduleHydration=function(i){if(i){var s=ys();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Hs.length&&s!==0&&s<Hs[a].priority;a++);Hs.splice(a,0,i),a===0&&BT(i)}};var qT=t.version;if(qT!=="19.1.1")throw Error(r(527,qT,"19.1.1"));G.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var pC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{he=Sh.inject(pC),Kt=Sh}catch{}}return iu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=r_,m=a_,T=o_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=MT(i,1,!1,null,null,a,l,f,m,T,A,null),i[Dn]=s.current,Sm(i),new zm(s)},iu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",m=r_,T=a_,A=o_,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),s=MT(i,1,!0,s,a??null,l,f,m,T,A,C,B),s.context=OT(null),a=s.current,l=wn(),l=gs(l),f=ws(l),f.callback=null,Rs(a,f,l),a=l,s.current.lanes=a,Pi(s,a),_i(s),i[Dn]=s.current,Sm(i),new Ah(s)},iu.version="19.1.1",iu}var JT;function wC(){if(JT)return Fm.exports;JT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Fm.exports=bC(),Fm.exports}var RC=wC();const CC=()=>{};var t0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},IC=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],d=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},KA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,V=g&63;p||(V=64,c||(S=64)),r.push(e[v],e[E],e[S],e[V])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(GA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):IC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const E=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new DC;const S=u<<2|d>>4;if(r.push(S),g!==64){const V=d<<4&240|g>>2;if(r.push(V),E!==64){const L=g<<6&192|E;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xC=function(n){const t=GA(n);return KA.encodeByteArray(t,!0)},Qh=function(n){return xC(n).replace(/\./g,"")},YA=function(n){try{return KA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=()=>VC().__FIREBASE_DEFAULTS__,MC=()=>{if(typeof process>"u"||typeof t0>"u")return;const n=t0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&YA(n[1]);return t&&JSON.parse(t)},Tf=()=>{try{return CC()||NC()||MC()||OC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QA=n=>Tf()?.emulatorHosts?.[n],PC=n=>{const t=QA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},XA=()=>Tf()?.config,$A=n=>Tf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Qh(JSON.stringify(e)),Qh(JSON.stringify(c)),""].join(".")}const du={};function UC(){const n={prod:[],emulator:[]};for(const t of Object.keys(du))du[t]?n.emulator.push(t):n.prod.push(t);return n}function jC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let e0=!1;function ZA(n,t){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||du[n]===t||du[n]||e0)return;du[n]=t;function e(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=UC().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{e0=!0,c()},S}function v(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=jC(r),V=e("text"),L=document.getElementById(V)||document.createElement("span"),Y=e("learnmore"),q=document.getElementById(Y)||document.createElement("a"),$=e("preprendIcon"),nt=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;d(W),v(q,Y);const ct=g();p(nt,$),W.append(nt,L,q,ct),document.body.appendChild(W)}u?(L.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function zC(){const n=Tf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GC(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function KC(){return!zC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YC(){try{return typeof indexedDB=="object"}catch{return!1}}function QC(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="FirebaseError";class ms extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=XC,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?$C(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ms(o,d,r)}}function $C(n,t){return n.replace(WC,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const WC=/\{\$([^}]+)}/g;function ZC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function la(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(n0(u)&&n0(c)){if(!la(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function n0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ru(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function au(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function JC(n,t){const e=new tI(n,t);return e.subscribe.bind(e)}class tI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");eI(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Qm),o.error===void 0&&(o.error=Qm),o.complete===void 0&&(o.complete=Qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class ua{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new kC;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sI(t))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wr){return this.instances.has(t)}getOptions(t=Wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iI(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wr){return this.component?this.component.multipleInstances?t:Wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iI(n){return n===Wr?void 0:n}function sI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new nI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ot||(Ot={}));const aI={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},oI=Ot.INFO,lI={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},uI=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=lI[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gg{constructor(t){this.name=t,this._logLevel=oI,this._logHandler=uI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const cI=(n,t)=>t.some(e=>n instanceof e);let i0,s0;function hI(){return i0||(i0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fI(){return s0||(s0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JA=new WeakMap,bp=new WeakMap,tS=new WeakMap,Xm=new WeakMap,yg=new WeakMap;function dI(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(Ws(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&JA.set(e,n)}).catch(()=>{}),yg.set(t,n),t}function mI(n){if(bp.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});bp.set(n,t)}let wp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return bp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||tS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ws(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function pI(n){wp=n(wp)}function gI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call($m(this),t,...e);return tS.set(r,t.sort?t.sort():[t]),Ws(r)}:fI().includes(n)?function(...t){return n.apply($m(this),t),Ws(JA.get(this))}:function(...t){return Ws(n.apply($m(this),t))}}function yI(n){return typeof n=="function"?gI(n):(n instanceof IDBTransaction&&mI(n),cI(n,hI())?new Proxy(n,wp):n)}function Ws(n){if(n instanceof IDBRequest)return dI(n);if(Xm.has(n))return Xm.get(n);const t=yI(n);return t!==n&&(Xm.set(n,t),yg.set(t,n)),t}const $m=n=>yg.get(n);function vI(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=Ws(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Ws(c.result),p.oldVersion,p.newVersion,Ws(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const _I=["get","getKey","getAll","getAllKeys","count"],TI=["put","add","delete","clear"],Wm=new Map;function r0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Wm.get(t))return Wm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=TI.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||_I.includes(e)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return Wm.set(t,u),u}pI(n=>({...n,get:(t,e,r)=>r0(t,e)||n.get(t,e,r),has:(t,e)=>!!r0(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(AI(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function AI(n){return n.getComponent()?.type==="VERSION"}const Rp="@firebase/app",a0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new gg("@firebase/app"),SI="@firebase/app-compat",bI="@firebase/analytics-compat",wI="@firebase/analytics",RI="@firebase/app-check-compat",CI="@firebase/app-check",II="@firebase/auth",DI="@firebase/auth-compat",xI="@firebase/database",VI="@firebase/data-connect",NI="@firebase/database-compat",MI="@firebase/functions",OI="@firebase/functions-compat",PI="@firebase/installations",kI="@firebase/installations-compat",LI="@firebase/messaging",UI="@firebase/messaging-compat",jI="@firebase/performance",BI="@firebase/performance-compat",zI="@firebase/remote-config",HI="@firebase/remote-config-compat",qI="@firebase/storage",FI="@firebase/storage-compat",GI="@firebase/firestore",KI="@firebase/ai",YI="@firebase/firestore-compat",QI="firebase",XI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",$I={[Rp]:"fire-core",[SI]:"fire-core-compat",[wI]:"fire-analytics",[bI]:"fire-analytics-compat",[CI]:"fire-app-check",[RI]:"fire-app-check-compat",[II]:"fire-auth",[DI]:"fire-auth-compat",[xI]:"fire-rtdb",[VI]:"fire-data-connect",[NI]:"fire-rtdb-compat",[MI]:"fire-fn",[OI]:"fire-fn-compat",[PI]:"fire-iid",[kI]:"fire-iid-compat",[LI]:"fire-fcm",[UI]:"fire-fcm-compat",[jI]:"fire-perf",[BI]:"fire-perf-compat",[zI]:"fire-rc",[HI]:"fire-rc-compat",[qI]:"fire-gcs",[FI]:"fire-gcs-compat",[GI]:"fire-fst",[YI]:"fire-fst-compat",[KI]:"fire-vertex","fire-js":"fire-js",[QI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,WI=new Map,Ip=new Map;function o0(n,t){try{n.container.addComponent(t)}catch(e){ls.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Co(n){const t=n.name;if(Ip.has(t))return ls.debug(`There were multiple attempts to register component ${t}.`),!1;Ip.set(t,n);for(const e of Xh.values())o0(e,n);for(const e of WI.values())o0(e,n);return!0}function vg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Bu("app","Firebase",ZI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=XI;function eS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Cp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(e||(e=XA()),!e)throw Zs.create("no-options");const u=Xh.get(o);if(u){if(la(e,u.options)&&la(r,u.config))return u;throw Zs.create("duplicate-app",{appName:o})}const c=new rI(o);for(const p of Ip.values())c.addComponent(p);const d=new JI(e,r,c);return Xh.set(o,d),d}function nS(n=Cp){const t=Xh.get(n);if(!t&&n===Cp&&XA())return eS();if(!t)throw Zs.create("no-app",{appName:n});return t}function Js(n,t,e){let r=$I[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ls.warn(c.join(" "));return}Co(new ua(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebase-heartbeat-database",e2=1,bu="firebase-heartbeat-store";let Zm=null;function iS(){return Zm||(Zm=vI(t2,e2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(bu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Zs.create("idb-open",{originalErrorMessage:n.message})})),Zm}async function n2(n){try{const e=(await iS()).transaction(bu),r=await e.objectStore(bu).get(sS(n));return await e.done,r}catch(t){if(t instanceof ms)ls.warn(t.message);else{const e=Zs.create("idb-get",{originalErrorMessage:t?.message});ls.warn(e.message)}}}async function l0(n,t){try{const r=(await iS()).transaction(bu,"readwrite");await r.objectStore(bu).put(t,sS(n)),await r.done}catch(e){if(e instanceof ms)ls.warn(e.message);else{const r=Zs.create("idb-set",{originalErrorMessage:e?.message});ls.warn(r.message)}}}function sS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=1024,s2=30;class r2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new o2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>s2){const o=l2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ls.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u0(),{heartbeatsToSend:e,unsentEntries:r}=a2(this._heartbeatsCache.heartbeats),o=Qh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ls.warn(t),""}}}function u0(){return new Date().toISOString().substring(0,10)}function a2(n,t=i2){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),c0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),c0(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class o2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YC()?QC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await n2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return l0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return l0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function c0(n){return Qh(JSON.stringify({version:2,heartbeats:n})).length}function l2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(n){Co(new ua("platform-logger",t=>new EI(t),"PRIVATE")),Co(new ua("heartbeat",t=>new r2(t),"PRIVATE")),Js(Rp,a0,n),Js(Rp,a0,"esm2020"),Js("fire-js","")}u2("");var c2="firebase",h2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(c2,h2,"app");var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,rS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,w){function R(){}R.prototype=w.prototype,D.D=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(N,O,P){for(var I=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)I[oe-2]=arguments[oe];return w.prototype[O].apply(N,I)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);var N=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)N[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;16>O;++O)N[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],O=D.g[2];var P=D.g[3],I=w+(P^R&(O^P))+N[0]+3614090360&4294967295;w=R+(I<<7&4294967295|I>>>25),I=P+(O^w&(R^O))+N[1]+3905402710&4294967295,P=w+(I<<12&4294967295|I>>>20),I=O+(R^P&(w^R))+N[2]+606105819&4294967295,O=P+(I<<17&4294967295|I>>>15),I=R+(w^O&(P^w))+N[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(P^R&(O^P))+N[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=P+(O^w&(R^O))+N[5]+1200080426&4294967295,P=w+(I<<12&4294967295|I>>>20),I=O+(R^P&(w^R))+N[6]+2821735955&4294967295,O=P+(I<<17&4294967295|I>>>15),I=R+(w^O&(P^w))+N[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(P^R&(O^P))+N[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=P+(O^w&(R^O))+N[9]+2336552879&4294967295,P=w+(I<<12&4294967295|I>>>20),I=O+(R^P&(w^R))+N[10]+4294925233&4294967295,O=P+(I<<17&4294967295|I>>>15),I=R+(w^O&(P^w))+N[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(P^R&(O^P))+N[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=P+(O^w&(R^O))+N[13]+4254626195&4294967295,P=w+(I<<12&4294967295|I>>>20),I=O+(R^P&(w^R))+N[14]+2792965006&4294967295,O=P+(I<<17&4294967295|I>>>15),I=R+(w^O&(P^w))+N[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(O^P&(R^O))+N[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=P+(R^O&(w^R))+N[6]+3225465664&4294967295,P=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(P^w))+N[11]+643717713&4294967295,O=P+(I<<14&4294967295|I>>>18),I=R+(P^w&(O^P))+N[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^P&(R^O))+N[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=P+(R^O&(w^R))+N[10]+38016083&4294967295,P=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(P^w))+N[15]+3634488961&4294967295,O=P+(I<<14&4294967295|I>>>18),I=R+(P^w&(O^P))+N[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^P&(R^O))+N[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=P+(R^O&(w^R))+N[14]+3275163606&4294967295,P=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(P^w))+N[3]+4107603335&4294967295,O=P+(I<<14&4294967295|I>>>18),I=R+(P^w&(O^P))+N[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^P&(R^O))+N[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=P+(R^O&(w^R))+N[2]+4243563512&4294967295,P=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(P^w))+N[7]+1735328473&4294967295,O=P+(I<<14&4294967295|I>>>18),I=R+(P^w&(O^P))+N[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(R^O^P)+N[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=P+(w^R^O)+N[8]+2272392833&4294967295,P=w+(I<<11&4294967295|I>>>21),I=O+(P^w^R)+N[11]+1839030562&4294967295,O=P+(I<<16&4294967295|I>>>16),I=R+(O^P^w)+N[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^P)+N[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=P+(w^R^O)+N[4]+1272893353&4294967295,P=w+(I<<11&4294967295|I>>>21),I=O+(P^w^R)+N[7]+4139469664&4294967295,O=P+(I<<16&4294967295|I>>>16),I=R+(O^P^w)+N[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^P)+N[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=P+(w^R^O)+N[0]+3936430074&4294967295,P=w+(I<<11&4294967295|I>>>21),I=O+(P^w^R)+N[3]+3572445317&4294967295,O=P+(I<<16&4294967295|I>>>16),I=R+(O^P^w)+N[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^P)+N[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=P+(w^R^O)+N[12]+3873151461&4294967295,P=w+(I<<11&4294967295|I>>>21),I=O+(P^w^R)+N[15]+530742520&4294967295,O=P+(I<<16&4294967295|I>>>16),I=R+(O^P^w)+N[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(O^(R|~P))+N[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=P+(R^(w|~O))+N[7]+1126891415&4294967295,P=w+(I<<10&4294967295|I>>>22),I=O+(w^(P|~R))+N[14]+2878612391&4294967295,O=P+(I<<15&4294967295|I>>>17),I=R+(P^(O|~w))+N[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~P))+N[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=P+(R^(w|~O))+N[3]+2399980690&4294967295,P=w+(I<<10&4294967295|I>>>22),I=O+(w^(P|~R))+N[10]+4293915773&4294967295,O=P+(I<<15&4294967295|I>>>17),I=R+(P^(O|~w))+N[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~P))+N[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=P+(R^(w|~O))+N[15]+4264355552&4294967295,P=w+(I<<10&4294967295|I>>>22),I=O+(w^(P|~R))+N[6]+2734768916&4294967295,O=P+(I<<15&4294967295|I>>>17),I=R+(P^(O|~w))+N[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~P))+N[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=P+(R^(w|~O))+N[11]+3174756917&4294967295,P=w+(I<<10&4294967295|I>>>22),I=O+(w^(P|~R))+N[2]+718787259&4294967295,O=P+(I<<15&4294967295|I>>>17),I=R+(P^(O|~w))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+P&4294967295}r.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var R=w-this.blockSize,N=this.B,O=this.h,P=0;P<w;){if(O==0)for(;P<=R;)o(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<w;)if(N[O++]=D.charCodeAt(P++),O==this.blockSize){o(this,N),O=0;break}}else for(;P<w;)if(N[O++]=D[P++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var R=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=R&255,R/=256;for(this.u(D),D=Array(16),w=R=0;4>w;++w)for(var N=0;32>N;N+=8)D[R++]=this.g[w]>>>N&255;return D};function u(D,w){var R=d;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function c(D,w){this.h=w;for(var R=[],N=!0,O=D.length-1;0<=O;O--){var P=D[O]|0;N&&P==w||(R[O]=P,N=!1)}this.g=R}var d={};function p(D){return-128<=D&&128>D?u(D,function(w){return new c([w|0],0>w?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return q(g(-D));for(var w=[],R=1,N=0;D>=R;N++)w[N]=D/R|0,R*=4294967296;return new c(w,0)}function v(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return q(v(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),N=E,O=0;O<D.length;O+=8){var P=Math.min(8,D.length-O),I=parseInt(D.substring(O,O+P),w);8>P?(P=g(Math.pow(w,P)),N=N.j(P).add(g(I))):(N=N.j(R),N=N.add(g(I)))}return N}var E=p(0),S=p(1),V=p(16777216);n=c.prototype,n.m=function(){if(Y(this))return-q(this).m();for(var D=0,w=1,R=0;R<this.g.length;R++){var N=this.i(R);D+=(0<=N?N:4294967296+N)*w,w*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(Y(this))return"-"+q(this).toString(D);for(var w=g(Math.pow(D,6)),R=this,N="";;){var O=ct(R,w).g;R=$(R,O.j(w));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=O,L(R))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function Y(D){return D.h==-1}n.l=function(D){return D=$(this,D),Y(D)?-1:L(D)?0:1};function q(D){for(var w=D.g.length,R=[],N=0;N<w;N++)R[N]=~D.g[N];return new c(R,~D.h).add(S)}n.abs=function(){return Y(this)?q(this):this},n.add=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0,O=0;O<=w;O++){var P=N+(this.i(O)&65535)+(D.i(O)&65535),I=(P>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);N=I>>>16,P&=65535,I&=65535,R[O]=I<<16|P}return new c(R,R[R.length-1]&-2147483648?-1:0)};function $(D,w){return D.add(q(w))}n.j=function(D){if(L(this)||L(D))return E;if(Y(this))return Y(D)?q(this).j(q(D)):q(q(this).j(D));if(Y(D))return q(this.j(q(D)));if(0>this.l(V)&&0>D.l(V))return g(this.m()*D.m());for(var w=this.g.length+D.g.length,R=[],N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<D.g.length;O++){var P=this.i(N)>>>16,I=this.i(N)&65535,oe=D.i(O)>>>16,qt=D.i(O)&65535;R[2*N+2*O]+=I*qt,nt(R,2*N+2*O),R[2*N+2*O+1]+=P*qt,nt(R,2*N+2*O+1),R[2*N+2*O+1]+=I*oe,nt(R,2*N+2*O+1),R[2*N+2*O+2]+=P*oe,nt(R,2*N+2*O+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new c(R,0)};function nt(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function W(D,w){this.g=D,this.h=w}function ct(D,w){if(L(w))throw Error("division by zero");if(L(D))return new W(E,E);if(Y(D))return w=ct(q(D),w),new W(q(w.g),q(w.h));if(Y(w))return w=ct(D,q(w)),new W(q(w.g),w.h);if(30<D.g.length){if(Y(D)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=w;0>=N.l(D);)R=st(R),N=st(N);var O=dt(R,1),P=dt(N,1);for(N=dt(N,2),R=dt(R,2);!L(N);){var I=P.add(N);0>=I.l(D)&&(O=O.add(R),P=I),N=dt(N,1),R=dt(R,1)}return w=$(D,O.j(w)),new W(O,w)}for(O=E;0<=D.l(w);){for(R=Math.max(1,Math.floor(D.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=g(R),I=P.j(w);Y(I)||0<I.l(D);)R-=N,P=g(R),I=P.j(w);L(P)&&(P=S),O=O.add(P),D=$(D,I)}return new W(O,D)}n.A=function(D){return ct(this,D).h},n.and=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)&D.i(N);return new c(R,this.h&D.h)},n.or=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)|D.i(N);return new c(R,this.h|D.h)},n.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)^D.i(N);return new c(R,this.h^D.h)};function st(D){for(var w=D.g.length+1,R=[],N=0;N<w;N++)R[N]=D.i(N)<<1|D.i(N-1)>>>31;return new c(R,D.h)}function dt(D,w){var R=w>>5;w%=32;for(var N=D.g.length-R,O=[],P=0;P<N;P++)O[P]=0<w?D.i(P+R)>>>w|D.i(P+R+1)<<32-w:D.i(P+R);return new c(O,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,tr=c}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aS,ou,oS,Mh,Dp,lS,uS,cS;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var _=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var U=h[b];if(!(U in _))break t;_=_[U]}h=h[h.length-1],b=_[h],y=y(b),y!=b&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function u(h,y){h instanceof String&&(h+="");var _=0,b=!1,U={next:function(){if(!b&&_<h.length){var K=_++;return{value:y(K,h[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(h){return h||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),h.apply(y,U)}}return function(){return h.apply(y,arguments)}}function S(h,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function V(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function L(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,U,K){for(var at=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)at[Lt-2]=arguments[Lt];return y.prototype[U].apply(b,at)}}function Y(h){const y=h.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=h[b];return _}return[]}function q(h,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const U=h.length||0,K=b.length||0;h.length=U+K;for(let at=0;at<K;at++)h[U+at]=b[at]}else h.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function nt(h){return/^[\s\xa0]*$/.test(h)}function W(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ct(h){return ct[" "](h),h}ct[" "]=function(){};var st=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function dt(h,y,_){for(const b in h)y.call(_,h[b],b,h)}function D(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function w(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,y){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)h[_]=b[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function O(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function P(h){d.setTimeout(()=>{throw h},0)}function I(){var h=At;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class oe{constructor(){this.h=this.g=null}add(y,_){const b=qt.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var qt=new $(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let G,ot=!1,At=new oe,x=()=>{const h=d.Promise.resolve(void 0);G=()=>{h.then(et)}};var et=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(_){P(_)}var y=qt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ot=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h})();function xt(h,y){if(rt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(st){t:{try{ct(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:wt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xt.aa.h.call(this)}}L(xt,rt);var wt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),te=0;function ii(h,y,_,b,U){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=U,this.key=++te,this.da=this.fa=!1}function ps(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Mi(h){this.src=h,this.g={},this.h=0}Mi.prototype.add=function(h,y,_,b,U){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var at=mr(h,y,b,U);return-1<at?(y=h[at],_||(y.fa=!1)):(y=new ii(y,this.src,K,!!b,U),y.fa=_,h.push(y)),y};function dr(h,y){var _=y.type;if(_ in h.g){var b=h.g[_],U=Array.prototype.indexOf.call(b,y,void 0),K;(K=0<=U)&&Array.prototype.splice.call(b,U,1),K&&(ps(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function mr(h,y,_,b){for(var U=0;U<h.length;++U){var K=h[U];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==b)return U}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),Qo={};function tc(h,y,_,b,U){if(Array.isArray(y)){for(var K=0;K<y.length;K++)tc(h,y[K],_,b,U);return null}return _=ec(_),h&&h[Pe]?h.K(y,_,g(b)?!!b.capture:!1,U):In(h,y,_,!1,b,U)}function In(h,y,_,b,U,K){if(!y)throw Error("Invalid event type");var at=g(U)?!!U.capture:!!U,Lt=_a(h);if(Lt||(h[pr]=Lt=new Mi(h)),_=Lt.add(y,_,b,at,K),_.proxy)return _;if(b=Hf(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)gt||(U=at),U===void 0&&(U=!1),h.addEventListener(y.toString(),b,U);else if(h.attachEvent)h.attachEvent(gr(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Hf(){function h(_){return y.call(h.src,h.listener,_)}const y=qf;return h}function Xo(h,y,_,b,U){if(Array.isArray(y))for(var K=0;K<y.length;K++)Xo(h,y[K],_,b,U);else b=g(b)?!!b.capture:!!b,_=ec(_),h&&h[Pe]?(h=h.i,y=String(y).toString(),y in h.g&&(K=h.g[y],_=mr(K,_,b,U),-1<_&&(ps(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete h.g[y],h.h--)))):h&&(h=_a(h))&&(y=h.g[y.toString()],h=-1,y&&(h=mr(y,_,b,U)),(_=-1<h?y[h]:null)&&va(_))}function va(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Pe])dr(y.i,h);else{var _=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(_,b,h.capture):y.detachEvent?y.detachEvent(gr(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=_a(y))?(dr(_,h),_.h==0&&(_.src=null,y[pr]=null)):ps(h)}}}function gr(h){return h in Qo?Qo[h]:Qo[h]="on"+h}function qf(h,y){if(h.da)h=!0;else{y=new xt(y,this);var _=h.listener,b=h.ha||h.src;h.fa&&va(h),h=_.call(b,y)}return h}function _a(h){return h=h[pr],h instanceof Mi?h:null}var $o="__closure_events_fn_"+(1e9*Math.random()>>>0);function ec(h){return typeof h=="function"?h:(h[$o]||(h[$o]=function(y){return h.handleEvent(y)}),h[$o])}function he(){lt.call(this),this.i=new Mi(this),this.M=this,this.F=null}L(he,lt),he.prototype[Pe]=!0,he.prototype.removeEventListener=function(h,y,_,b){Xo(this,h,y,_,b)};function Kt(h,y){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new rt(y,h);else if(y instanceof rt)y.target=y.target||h;else{var U=y;y=new rt(b,h),N(y,U)}if(U=!0,_)for(var K=_.length-1;0<=K;K--){var at=y.g=_[K];U=vn(at,b,!0,y)&&U}if(at=y.g=h,U=vn(at,b,!0,y)&&U,U=vn(at,b,!1,y)&&U,_)for(K=0;K<_.length;K++)at=y.g=_[K],U=vn(at,b,!1,y)&&U}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],b=0;b<_.length;b++)ps(_[b]);delete h.g[y],h.h--}}this.F=null},he.prototype.K=function(h,y,_,b){return this.i.add(String(h),y,!1,_,b)},he.prototype.L=function(h,y,_,b){return this.i.add(String(h),y,!0,_,b)};function vn(h,y,_,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,K=0;K<y.length;++K){var at=y[K];if(at&&!at.da&&at.capture==_){var Lt=at.listener,Ie=at.ha||at.src;at.fa&&dr(h.i,at),U=Lt.call(Ie,b)!==!1&&U}}return U&&!b.defaultPrevented}function We(h,y,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function nc(h){h.g=We(()=>{h.g=null,h.i&&(h.i=!1,nc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ff extends lt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:nc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(h){lt.call(this),this.h=h,this.g={}}L(yr,lt);var vr=[];function _r(h){dt(h.g,function(y,_){this.g.hasOwnProperty(_)&&va(y)},h),h.g={}}yr.prototype.N=function(){yr.aa.N.call(this),_r(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,Ta=d.JSON.parse,Tr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Wo(){}Wo.prototype.h=null;function Zo(h){return h.h||(h.h=h.i())}function Jo(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){rt.call(this,"d")}L(Pi,rt);function tl(){rt.call(this,"c")}L(tl,rt);var si={},el=null;function gs(){return el=el||new he}si.La="serverreachability";function Ea(h){rt.call(this,si.La,h)}L(Ea,rt);function ys(h){const y=gs();Kt(y,new Ea(y))}si.STAT_EVENT="statevent";function ic(h,y){rt.call(this,si.STAT_EVENT,h),this.stat=y}L(ic,rt);function se(h){const y=gs();Kt(y,new ic(y,h))}si.Ma="timingevent";function Ce(h,y){rt.call(this,si.Ma,h),this.size=y}L(Ce,rt);function Te(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function nl(h,y,_,b,U,K){h.info(function(){if(h.g)if(K)for(var at="",Lt=K.split("&"),Ie=0;Ie<Lt.length;Ie++){var Ut=Lt[Ie].split("=");if(1<Ut.length){var Le=Ut[0];Ut=Ut[1];var De=Le.split("_");at=2<=De.length&&De[1]=="type"?at+(Le+"="+Ut+"&"):at+(Le+"=redacted&")}}else at=null;else at=K;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+_+`
`+at})}function Gf(h,y,_,b,U,K,at){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+_+`
`+K+" "+at})}function vs(h,y,_,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Er(h,_)+(b?" "+b:"")})}function sc(h,y){h.info(function(){return"TIMEOUT: "+y})}Dn.prototype.info=function(){};function Er(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var at=1;at<U.length;at++)U[at]=""}}}}return Kn(_)}catch{return y}}var _s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function ai(){}L(ai,Wo),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},ri=new ai;function on(h,y,_,b){this.j=h,this.i=y,this.l=_,this.R=b||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var il={},Aa={};function Yn(h,y,_){h.L=1,h.v=Rr(_n(y)),h.m=_,h.P=!0,Li(h,null)}function Li(h,y){h.F=Date.now(),Ar(h),h.A=_n(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),ul(_.i,"t",b),h.C=0,_=h.j.J,h.h=new pe,h.g=Tc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Ff(S(h.Y,h,h.g),h.O)),y=h.U,_=h.g,b=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(vr[0]=U.toString()),U=vr);for(var K=0;K<U.length;K++){var at=tc(_,U[K],b||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),ys(),nl(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const y=this.M;y&&Mn(h)==3?y.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const De=Mn(this.g);var y=this.g.Ba();const Gi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||fc(this.g)))){this.J||De!=4||y==7||(y==8||0>=Gi?ys(3):ys(2)),Ts(this);var _=this.g.Z();this.X=_;e:if(rc(this)){var b=fc(this.g);h="";var U=b.length,K=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),oi(this);var at="";break e}this.h.i=new d.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,h+=this.h.i.decode(b[y],{stream:!(K&&y==U-1)});b.length=0,this.h.g+=h,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Gf(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ie=this.g;if((Lt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Lt)){var Ut=Lt;break e}}Ut=null}if(_=Ut)vs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sr(this,_);else{this.o=!1,this.s=3,se(12),He(this),oi(this);break t}}if(this.P){_=!0;let qe;for(;!this.J&&this.C<at.length;)if(qe=ac(this,at),qe==Aa){De==4&&(this.s=4,se(14),_=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==il){this.s=4,se(15),vs(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else vs(this.i,this.l,qe,null),Sr(this,qe);if(rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||at.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)vs(this.i,this.l,at,"[Invalid Chunked Response]"),He(this),oi(this);else if(0<at.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Or(Le),Le.M=!0,se(11))}}else vs(this.i,this.l,at,null),Sr(this,at);De==4&&He(this),this.o&&!this.J&&(De==4?yc(this.j,this):(this.o=!1,Ar(this)))}else $f(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),He(this),oi(this)}}}catch{}finally{}};function rc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ac(h,y){var _=h.C,b=y.indexOf(`
`,_);return b==-1?Aa:(_=Number(y.substring(_,b)),isNaN(_)?il:(b+=1,b+_>y.length?Aa:(y=y.slice(b,b+_),h.C=b+_,y)))}on.prototype.cancel=function(){this.J=!0,He(this)};function Ar(h){h.S=Date.now()+h.I,oc(h,h.I)}function oc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Te(S(h.ba,h),y)}function Ts(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(sc(this.i,this.A),this.L!=2&&(ys(),se(17)),He(this),this.s=2,oi(this)):oc(this,this.S-h)};function oi(h){h.j.G==0||h.J||yc(h.j,h)}function He(h){Ts(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,_r(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Sr(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||sl(_.h,h))){if(!h.K&&sl(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Oa(_),Na(_);else break t;ml(_),se(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Te(S(_.Za,_),6e3));if(1>=ba(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fi(_,11)}else if((h.K||_.g==h)&&Oa(_),!nt(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Ut=U[y];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Le=Ut[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const De=Ut[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const Gi=Ut[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(b=1.5*Gi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const qe=h.g;if(qe){const mi=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var K=b.h;K.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(wa(K,K.h),K.h=null))}if(b.D){const gl=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(b.ya=gl,Xt(b.I,b.D,gl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var at=h;if(b.qa=_c(b,b.J?b.ia:null,b.W),at.K){ln(b.h,at);var Lt=at,Ie=b.L;Ie&&(Lt.I=Ie),Lt.B&&(Ts(Lt),Ar(Lt)),b.g=at}else pc(b);0<_.i.length&&Ma(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Fi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Fi(_,7):fl(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}ys(4)}catch{}}var lc=class{constructor(h,y){this.g=h,this.map=y}};function Ui(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ba(h){return h.h?1:h.g?h.g.size:0}function sl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function wa(h,y){h.g?h.g.add(y):h.h=y}function ln(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ui.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return Y(h.i)}function Kf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,b=0;b<_;b++)y.push(h[b]);return y}y=[],_=0;for(b in h)y[_++]=h[b];return y}function Ra(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const b in h)y[_++]=b;return y}}}function al(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Ra(h),b=Kf(h),U=b.length,K=0;K<U;K++)y.call(void 0,b[K],_&&_[K],h)}var br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),U=null;if(0<=b){var K=h[_].substring(0,b);U=h[_].substring(b+1)}else K=h[_];y(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ee(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ee){this.h=h.h,wr(this,h.j),this.o=h.o,this.g=h.g,Es(this,h.s),this.l=h.l;var y=h.i,_=new Bi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ji(this,_),this.m=h.m}else h&&(y=String(h).match(br))?(this.h=!1,wr(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),Es(this,y[4]),this.l=xn(y[5]||"",!0),ji(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Ee.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Cr(y,ol,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Cr(y,ol,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Cr(_,_.charAt(0)=="/"?Qf:ll,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Cr(_,Ca)),h.join("")};function _n(h){return new Ee(h)}function wr(h,y,_){h.j=_?xn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Es(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ji(h,y,_){y instanceof Bi?(h.i=y,cc(h.i,h.h)):(_||(y=Cr(y,Xf)),h.i=new Bi(y,h.h))}function Xt(h,y,_){h.i.set(y,_)}function Rr(h){return Xt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function xn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Cr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,uc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function uc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ol=/[#\/\?@]/g,ll=/[#\?:]/g,Qf=/[#\?]/g,Xf=/[#\?@]/g,Ca=/#/g;function Bi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Yf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Bi.prototype,n.add=function(h,y){Vn(this),this.i=null,h=li(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function zi(h,y){Vn(h),y=li(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Hi(h,y){return Vn(h),y=li(h,y),h.g.has(y)}n.forEach=function(h,y){Vn(this),this.g.forEach(function(_,b){_.forEach(function(U){h.call(y,U,b,this)},this)},this)},n.na=function(){Vn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const U=h[b];for(let K=0;K<U.length;K++)_.push(y[b])}return _},n.V=function(h){Vn(this);let y=[];if(typeof h=="string")Hi(this,h)&&(y=y.concat(this.g.get(li(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Vn(this),this.i=null,h=li(this,h),Hi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function ul(h,y,_){zi(h,y),0<_.length&&(h.i=null,h.g.set(li(h,y),Y(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const K=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var U=K;at[b]!==""&&(U+="="+encodeURIComponent(String(at[b]))),h.push(U)}}return this.i=h.join("&")};function li(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function cc(h,y){y&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(zi(this,b),ul(this,U,_))},h)),h.j=y}function Ir(h,y){const _=new Dn;if(d.Image){const b=new Image;b.onload=V(Nn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=V(Nn,_,"TestLoadImage: error",!1,y,b),b.onabort=V(Nn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=V(Nn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Qn(h,y){const _=new Dn,b=new AbortController,U=setTimeout(()=>{b.abort(),Nn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(K=>{clearTimeout(U),K.ok?Nn(_,"TestPingServer: ok",!0,y):Nn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Nn(_,"TestPingServer: error",!1,y)})}function Nn(h,y,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Dr(){this.g=new Tr}function ui(h,y,_){const b=_||"";try{al(h,function(U,K){let at=U;g(U)&&(at=Kn(U)),y.push(b+K+"="+encodeURIComponent(at))})}catch(U){throw y.push(b+"type="+encodeURIComponent("_badmap")),U}}function As(h){this.l=h.Ub||null,this.j=h.eb||!1}L(As,Wo),As.prototype.g=function(){return new qi(this.l,this.j)},As.prototype.i=(function(h){return function(){return h}})({});function qi(h,y){he.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(qi,he),n=qi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,hi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ci(this):hi(this),this.readyState==3&&cl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ci(this))},n.Qa=function(h){this.g&&(this.response=h,ci(this))},n.ga=function(){this.g&&ci(this)};function ci(h){h.readyState=4,h.l=null,h.j=null,h.v=null,hi(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hl(h){let y="";return dt(h,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function ke(h,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=hl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Xt(h,y,_))}function Ft(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ft,he);var Ia=/^https?$/i,xr=["POST","PUT"];n=Ft.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Zo(this.o):Zo(ri),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){hc(this,K);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())_.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xr,y,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,at]of _)this.g.setRequestHeader(K,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vr(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){hc(this,K)}};function hc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Da(h),fi(h)}function Da(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),fi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},n.bb=function(){xa(this)};function xa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Mn(h)!=4||h.Z()!=2)){if(h.u&&Mn(h)==4)We(h.Ea,0,h);else if(Kt(h,"readystatechange"),Mn(h)==4){h.h=!1;try{const at=h.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=at===0){var U=String(h.D).match(br)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),b=!Ia.test(U?U.toLowerCase():"")}_=b}if(_)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var K=2<Mn(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",Da(h)}}finally{fi(h)}}}}function fi(h,y){if(h.g){Vr(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Kt(h,"ready");try{_.onreadystatechange=b}catch{}}}function Vr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Mn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ta(y)}};function fc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $f(h){const y={};h=(h.g&&2<=Mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(nt(h[b]))continue;var _=O(h[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[U]||[];y[U]=K,K.push(_)}D(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Va(h){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nr("baseRetryDelayMs",5e3,h),this.cb=Nr("retryDelaySeedMs",1e4,h),this.Wa=Nr("forwardChannelMaxRetries",2,h),this.wa=Nr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(h&&h.concurrentRequestLimit),this.Da=new Dr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Va.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,b){se(0),this.W=h,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=_c(this,null,this.W),Ma(this)};function fl(h){if(dc(h),h.G==3){var y=h.U++,_=_n(h.I);if(Xt(_,"SID",h.K),Xt(_,"RID",y),Xt(_,"TYPE","terminate"),Mr(h,_),y=new on(h,h.j,y),y.L=2,y.v=Rr(_n(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Tc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ar(y)}vc(h)}function Na(h){h.g&&(Or(h),h.g.cancel(),h.g=null)}function dc(h){Na(h),h.u&&(d.clearTimeout(h.u),h.u=null),Oa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ma(h){if(!Sa(h.h)&&!h.s){h.s=!0;var y=h.Ga;G||x(),ot||(G(),ot=!0),At.add(y,h),h.B=0}}function Wf(h,y){return ba(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Te(S(h.Ga,h,y),pl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new on(this,this.j,h);let K=this.o;if(this.S&&(K?(K=w(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=mc(this,U,y),_=_n(this.I),Xt(_,"RID",h),Xt(_,"CVER",22),this.D&&Xt(_,"X-HTTP-Session-Id",this.D),Mr(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(hl(K)))+"&"+y:this.m&&ke(_,this.m,K)),wa(this.h,U),this.Ua&&Xt(_,"TYPE","init"),this.P?(Xt(_,"$req",y),Xt(_,"SID","null"),U.T=!0,Yn(U,_,null)):Yn(U,_,y),this.G=2}}else this.G==3&&(h?dl(this,h):this.i.length==0||Sa(this.h)||dl(this))};function dl(h,y){var _;y?_=y.l:_=h.U++;const b=_n(h.I);Xt(b,"SID",h.K),Xt(b,"RID",_),Xt(b,"AID",h.T),Mr(h,b),h.m&&h.o&&ke(b,h.m,h.o),_=new on(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=mc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),wa(h.h,_),Yn(_,b,y)}function Mr(h,y){h.H&&dt(h.H,function(_,b){Xt(y,b,_)}),h.l&&al({},function(_,b){Xt(y,b,_)})}function mc(h,y,_){_=Math.min(h.i.length,_);var b=h.l?S(h.l.Na,h.l,h):null;t:{var U=h.i;let K=-1;for(;;){const at=["count="+_];K==-1?0<_?(K=U[0].g,at.push("ofs="+K)):K=0:at.push("ofs="+K);let Lt=!0;for(let Ie=0;Ie<_;Ie++){let Ut=U[Ie].g;const Le=U[Ie].map;if(Ut-=K,0>Ut)K=Math.max(0,U[Ie].g-100),Lt=!1;else try{ui(Le,at,"req"+Ut+"_")}catch{b&&b(Le)}}if(Lt){b=at.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,b}function pc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;G||x(),ot||(G(),ot=!0),At.add(y,h),h.v=0}}function ml(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Te(S(h.Fa,h),pl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Te(S(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Na(this),gc(this))};function Or(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function gc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=_n(h.qa);Xt(y,"RID","rpc"),Xt(y,"SID",h.K),Xt(y,"AID",h.T),Xt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xt(y,"TO",h.ja),Xt(y,"TYPE","xmlhttp"),Mr(h,y),h.m&&h.o&&ke(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Rr(_n(y)),_.m=null,_.P=!0,Li(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Na(this),ml(this),se(19))};function Oa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function yc(h,y){var _=null;if(h.g==y){Oa(h),Or(h),h.g=null;var b=2}else if(sl(h.h,y))_=y.D,ln(h.h,y),b=1;else return;if(h.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=h.B;b=gs(),Kt(b,new Ce(b,_)),Ma(h)}else pc(h);else if(U=y.s,U==3||U==0&&0<y.X||!(b==1&&Wf(h,y)||b==2&&ml(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),U){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function pl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Fi(h,y){if(h.j.info("Error code "+y),y==2){var _=S(h.fb,h),b=h.Xa;const U=!b;b=new Ee(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||wr(b,"https"),Rr(b),U?Ir(b.toString(),_):Qn(b.toString(),_)}else se(2);h.G=0,h.l&&h.l.sa(y),vc(h),dc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function vc(h){if(h.G=0,h.ka=[],h.l){const y=rl(h.h);(y.length!=0||h.i.length!=0)&&(q(h.ka,y),q(h.ka,h.i),h.h.i.length=0,Y(h.i),h.i.length=0),h.l.ra()}}function _c(h,y,_){var b=_ instanceof Ee?_n(_):new Ee(_);if(b.g!="")y&&(b.g=y+"."+b.g),Es(b,b.s);else{var U=d.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var K=new Ee(null);b&&wr(K,b),y&&(K.g=y),U&&Es(K,U),_&&(K.l=_),b=K}return _=h.D,y=h.ya,_&&y&&Xt(b,_,y),Xt(b,"VER",h.la),Mr(h,b),b}function Tc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ft(new As({eb:_})):new Ft(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ec(){}n=Ec.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Pa(){}Pa.prototype.g=function(h,y){return new un(h,y)};function un(h,y){he.call(this),this.g=new Va(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!nt(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!nt(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new di(this)}L(un,he),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){fl(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Kn(h),h=_);y.i.push(new lc(y.Ya++,h)),y.G==3&&Ma(y)},un.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,un.aa.N.call(this)};function Ac(h){Pi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}L(Ac,Pi);function Sc(){tl.call(this),this.status=1}L(Sc,tl);function di(h){this.g=h}L(di,Ec),di.prototype.ua=function(){Kt(this.g,"a")},di.prototype.ta=function(h){Kt(this.g,new Ac(h))},di.prototype.sa=function(h){Kt(this.g,new Sc)},di.prototype.ra=function(){Kt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,cS=function(){return new Pa},uS=function(){return gs()},lS=si,Dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Mh=_s,ki.COMPLETE="complete",oS=ki,Jo.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",he.prototype.listen=he.prototype.K,ou=Jo,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,aS=Ft}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const f0="@firebase/firestore",d0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new gg("@firebase/firestore");function co(){return ca.logLevel}function ht(n,...t){if(ca.logLevel<=Ot.DEBUG){const e=t.map(_g);ca.debug(`Firestore (${jo}): ${n}`,...e)}}function us(n,...t){if(ca.logLevel<=Ot.ERROR){const e=t.map(_g);ca.error(`Firestore (${jo}): ${n}`,...e)}}function Io(n,...t){if(ca.logLevel<=Ot.WARN){const e=t.map(_g);ca.warn(`Firestore (${jo}): ${n}`,...e)}}function _g(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,hS(n,r,e)}function hS(n,t,e){let r=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw us(r),new Error(r)}function Gt(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||hS(t,o,r)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends ms{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(en.UNAUTHENTICATED)))}shutdown(){}}class d2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class m2{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Gt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let u=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ia,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ia)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new fS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class p2{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g2{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new p2(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Gt(this.o===void 0,3512);const r=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Gt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new m0(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=v2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Pt(n,t){return n<t?-1:n>t?1:0}function xp(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Jm(o)===Jm(u)?Pt(o,u):Jm(o)?1:-1}return Pt(n.length,t.length)}const _2=55296,T2=57343;function Jm(n){const t=n.charCodeAt(0);return t>=_2&&t<=T2}function Do(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__name__";class Ti{constructor(t,e,r){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Et(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Ti.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Pt(t.length,e.length)}static compareSegments(t,e){const r=Ti.isNumericId(t),o=Ti.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Ti.extractNumericId(t).compare(Ti.extractNumericId(e)):xp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class ne extends Ti{construct(t,e,r){return new ne(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new mt(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new ne(e)}static emptyPath(){return new ne([])}}const E2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ti{construct(t,e,r){return new Xe(t,e,r)}static isValidIdentifier(t){return E2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new Xe([p0])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new mt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new mt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new mt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(e)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ne.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(n,t,e){if(!e)throw new mt(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function A2(n,t,e,r){if(t===!0&&r===!0)throw new mt(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function g0(n){if(!yt.isDocumentKey(n))throw new mt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y0(n){if(yt.isDocumentKey(n))throw new mt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Eg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function sa(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Eg(n);throw new mt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,t){const e={typeString:n};return t&&(e.value=t),e}function Hu(n,t){if(!mS(n))throw new mt(it.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new mt(it.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=-62135596800,_0=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*_0);return new ie(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<v0)throw new mt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hu(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-v0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new ie(0,0))}static max(){return new Rt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function S2(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(r===1e9?new ie(e+1,0):new ie(e,r));return new ir(o,yt.empty(),t)}function b2(n){return new ir(n.readTime,n.key,wu)}class ir{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new ir(Rt.min(),yt.empty(),wu)}static max(){return new ir(Rt.max(),yt.empty(),wu)}}function w2(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Pt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==R2)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new tt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof tt?e:tt.resolve(e)}catch(e){return tt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):tt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):tt.reject(e)}static resolve(t){return new tt(((e,r)=>{e(t)}))}static reject(t){return new tt(((e,r)=>{r(t)}))}static waitFor(t){return new tt(((e,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&e()}),(p=>r(p)))})),c=!0,u===o&&e()}))}static or(t){let e=tt.resolve(!1);for(const r of t)e=e.next((o=>o?tt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new tt(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++d,d===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new tt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function I2(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=-1;function Af(n){return n==null}function $h(n){return n===0&&1/n==-1/0}function D2(n){return typeof n=="number"&&Number.isInteger(n)&&!$h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="";function x2(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=T0(t)),t=V2(n.get(e),t);return T0(t)}function V2(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case pS:e+="";break;default:e+=u}}return e}function T0(n){return n+pS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function da(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function gS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,e){this.comparator=t,this.root=e||Qe.EMPTY}insert(t,e){return new ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wh(this.root,t,this.comparator,!0)}}class wh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Qe(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(t){return new A0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Oe(this.comparator);return e.data=t,e}}class A0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new ti([])}unionWith(t){let e=new Oe(Xe.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ti(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Do(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yS("Invalid base64 string: "+u):u}})(t);return new $e(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new $e(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const N2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(n){if(Gt(!!n,39018),typeof n=="string"){let t=0;const e=N2.exec(n);if(Gt(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(n.seconds),nanos:_e(n.nanos)}}function _e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rr(n){return typeof n=="string"?$e.fromBase64String(n):$e.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="server_timestamp",_S="__type__",TS="__previous_value__",ES="__local_write_time__";function Sg(n){return(n?.mapValue?.fields||{})[_S]?.stringValue===vS}function Sf(n){const t=n.mapValue.fields[TS];return Sg(t)?Sf(t):t}function Ru(n){const t=sr(n.mapValue.fields[ES].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,e,r,o,u,c,d,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Wh="(default)";class Cu{constructor(t,e){this.projectId=t,this.database=e||Wh}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="__type__",O2="__max__",Rh={mapValue:{}},SS="__vector__",Zh="value";function ar(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sg(n)?4:k2(n)?9007199254740991:P2(n)?10:11:Et(28295,{value:n})}function Vi(n,t){if(n===t)return!0;const e=ar(n);if(e!==ar(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ru(n).isEqual(Ru(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=sr(o.timestampValue),d=sr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return rr(o.bytesValue).isEqual(rr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=_e(o.doubleValue),d=_e(u.doubleValue);return c===d?$h(c)===$h(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Do(n.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(E0(c)!==E0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Vi(c[p],d[p])))return!1;return!0})(n,t);default:return Et(52216,{left:n})}}function Iu(n,t){return(n.values||[]).find((e=>Vi(e,t)))!==void 0}function xo(n,t){if(n===t)return 0;const e=ar(n),r=ar(t);if(e!==r)return Pt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=_e(u.integerValue||u.doubleValue),p=_e(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,t);case 3:return S0(n.timestampValue,t.timestampValue);case 4:return S0(Ru(n),Ru(t));case 5:return xp(n.stringValue,t.stringValue);case 6:return(function(u,c){const d=rr(u),p=rr(c);return d.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Pt(d[g],p[g]);if(v!==0)return v}return Pt(d.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Pt(_e(u.latitude),_e(c.latitude));return d!==0?d:Pt(_e(u.longitude),_e(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return b0(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[Zh]?.arrayValue,v=p[Zh]?.arrayValue,E=Pt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:b0(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=xp(p[E],v[E]);if(S!==0)return S;const V=xo(d[p[E]],g[v[E]]);if(V!==0)return V}return Pt(p.length,v.length)})(n.mapValue,t.mapValue);default:throw Et(23264,{he:e})}}function S0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const e=sr(n),r=sr(t),o=Pt(e.seconds,r.seconds);return o!==0?o:Pt(e.nanos,r.nanos)}function b0(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=xo(e[o],r[o]);if(u)return u}return Pt(e.length,r.length)}function Vo(n){return Vp(n)}function Vp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=sr(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return rr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=Vp(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Vp(e.fields[c])}`;return o+"}"})(n.mapValue):Et(61005,{value:n})}function Oh(n){switch(ar(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sf(n);return t?16+Oh(t):16;case 5:return 2*n.stringValue.length;case 6:return rr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Oh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return da(r.fields,((u,c)=>{o+=u.length+Oh(c)})),o})(n.mapValue);default:throw Et(13486,{value:n})}}function Np(n){return!!n&&"integerValue"in n}function bg(n){return!!n&&"arrayValue"in n}function w0(n){return!!n&&"nullValue"in n}function R0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ph(n){return!!n&&"mapValue"in n}function P2(n){return(n?.mapValue?.fields||{})[AS]?.stringValue===SS}function mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return da(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=mu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mu(n.arrayValue.values[e]);return t}return{...n}}function k2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===O2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Ph(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mu(e)}setAll(t){let e=Xe.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=d.popLast()}c?r[d.lastSegment()]=mu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Ph(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){da(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new qn(mu(this.value))}}function bS(n){const t=[];return da(n.fields,((e,r)=>{const o=new Xe([e]);if(Ph(r)){const u=bS(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ti(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e,r,o,u,c,d){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new nn(t,0,Rt.min(),Rt.min(),Rt.min(),qn.empty(),0)}static newFoundDocument(t,e,r,o){return new nn(t,1,e,Rt.min(),r,o,0)}static newNoDocument(t,e){return new nn(t,2,e,Rt.min(),Rt.min(),qn.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,Rt.min(),Rt.min(),qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,e){this.position=t,this.inclusive=e}}function C0(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),e.key):r=xo(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function I0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Vi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,e="asc"){this.field=t,this.dir=e}}function L2(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{}class Ne extends wS{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new j2(t,e,r):e==="array-contains"?new H2(t,r):e==="in"?new q2(t,r):e==="not-in"?new F2(t,r):e==="array-contains-any"?new G2(t,r):new Ne(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new B2(t,r):new z2(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(xo(e,this.value)):e!==null&&ar(this.value)===ar(e)&&this.matchesComparison(xo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends wS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ni(t,e)}matches(t){return RS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RS(n){return n.op==="and"}function CS(n){return U2(n)&&RS(n)}function U2(n){for(const t of n.filters)if(t instanceof Ni)return!1;return!0}function Mp(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+Vo(n.value);if(CS(n))return n.filters.map((t=>Mp(t))).join(",");{const t=n.filters.map((e=>Mp(e))).join(",");return`${n.op}(${t})`}}function IS(n,t){return n instanceof Ne?(function(r,o){return o instanceof Ne&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(n,t):n instanceof Ni?(function(r,o){return o instanceof Ni&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&IS(c,o.filters[d])),!0):!1})(n,t):void Et(19439)}function DS(n){return n instanceof Ne?(function(e){return`${e.field.canonicalString()} ${e.op} ${Vo(e.value)}`})(n):n instanceof Ni?(function(e){return e.op.toString()+" {"+e.getFilters().map(DS).join(" ,")+"}"})(n):"Filter"}class j2 extends Ne{constructor(t,e,r){super(t,e,r),this.key=yt.fromName(r.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class B2 extends Ne{constructor(t,e){super(t,"in",e),this.keys=xS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class z2 extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=xS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function xS(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class H2 extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return bg(e)&&Iu(e.arrayValue,this.value)}}class q2 extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Iu(this.value.arrayValue,e)}}class F2 extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Iu(this.value.arrayValue,e)}}class G2 extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!bg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Iu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,e=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function D0(n,t=null,e=[],r=[],o=null,u=null,c=null){return new K2(n,t,e,r,o,u,c)}function wg(n){const t=Ct(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Mp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Af(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Vo(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Vo(r))).join(",")),t.Te=e}return t.Te}function Rg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!L2(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!IS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!I0(n.startAt,t.startAt)&&I0(n.endAt,t.endAt)}function Op(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,e=null,r=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y2(n,t,e,r,o,u,c,d){return new bf(n,t,e,r,o,u,c,d)}function Cg(n){return new bf(n)}function x0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Q2(n){return n.collectionGroup!==null}function pu(n){const t=Ct(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe(Xe.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new tf(u,r))})),e.has(Xe.keyField().canonicalString())||t.Ie.push(new tf(Xe.keyField(),r))}return t.Ie}function Ei(n){const t=Ct(n);return t.Ee||(t.Ee=X2(t,pu(n))),t.Ee}function X2(n,t){if(n.limitType==="F")return D0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new tf(o.field,u)}));const e=n.endAt?new Jh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Jh(n.startAt.position,n.startAt.inclusive):null;return D0(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Pp(n,t,e){return new bf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function wf(n,t){return Rg(Ei(n),Ei(t))&&n.limitType===t.limitType}function VS(n){return`${wg(Ei(n))}|lt:${n.limitType}`}function ho(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>DS(o))).join(", ")}]`),Af(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Vo(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Vo(o))).join(",")),`Target(${r})`})(Ei(n))}; limitType=${n.limitType})`}function Rf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):yt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of pu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,p){const g=C0(c,d,p);return c.inclusive?g<=0:g<0})(r.startAt,pu(r),o)||r.endAt&&!(function(c,d,p){const g=C0(c,d,p);return c.inclusive?g>=0:g>0})(r.endAt,pu(r),o))})(n,t)}function $2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NS(n){return(t,e)=>{let r=!1;for(const o of pu(n)){const u=W2(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function W2(n,t,e){const r=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?xo(p,g):Et(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){da(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return gS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new ce(yt.comparator);function cs(){return Z2}const MS=new ce(yt.comparator);function lu(...n){let t=MS;for(const e of n)t=t.insert(e.key,e);return t}function OS(n){let t=MS;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Jr(){return gu()}function PS(){return gu()}function gu(){return new ma((n=>n.toString()),((n,t)=>n.isEqual(t)))}const J2=new ce(yt.comparator),tD=new Oe(yt.comparator);function kt(...n){let t=tD;for(const e of n)t=t.add(e);return t}const eD=new Oe(Pt);function nD(){return eD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(t)?"-0":t}}function kS(n){return{integerValue:""+n}}function iD(n,t){return D2(t)?kS(t):Ig(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this._=void 0}}function sD(n,t,e){return n instanceof ef?(function(o,u){const c={fields:{[_S]:{stringValue:vS},[ES]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sg(u)&&(u=Sf(u)),u&&(c.fields[TS]=u),{mapValue:c}})(e,t):n instanceof Du?US(n,t):n instanceof xu?jS(n,t):(function(o,u){const c=LS(o,u),d=V0(c)+V0(o.Ae);return Np(c)&&Np(o.Ae)?kS(d):Ig(o.serializer,d)})(n,t)}function rD(n,t,e){return n instanceof Du?US(n,t):n instanceof xu?jS(n,t):e}function LS(n,t){return n instanceof nf?(function(r){return Np(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class ef extends Cf{}class Du extends Cf{constructor(t){super(),this.elements=t}}function US(n,t){const e=BS(t);for(const r of n.elements)e.some((o=>Vi(o,r)))||e.push(r);return{arrayValue:{values:e}}}class xu extends Cf{constructor(t){super(),this.elements=t}}function jS(n,t){let e=BS(t);for(const r of n.elements)e=e.filter((o=>!Vi(o,r)));return{arrayValue:{values:e}}}class nf extends Cf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function V0(n){return _e(n.integerValue||n.doubleValue)}function BS(n){return bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function aD(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Du&&o instanceof Du||r instanceof xu&&o instanceof xu?Do(r.elements,o.elements,Vi):r instanceof nf&&o instanceof nf?Vi(r.Ae,o.Ae):r instanceof ef&&o instanceof ef})(n.transform,t.transform)}class oD{constructor(t,e){this.version=t,this.transformResults=e}}class Ai{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class If{}function zS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Dg(n.key,Ai.none()):new qu(n.key,n.data,Ai.none());{const e=n.data,r=qn.empty();let o=new Oe(Xe.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new pa(n.key,r,new ti(o.toArray()),Ai.none())}}function lD(n,t,e){n instanceof qu?(function(o,u,c){const d=o.value.clone(),p=M0(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):n instanceof pa?(function(o,u,c){if(!kh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=M0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(HS(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function yu(n,t,e,r){return n instanceof qu?(function(u,c,d,p){if(!kh(u.precondition,c))return d;const g=u.value.clone(),v=O0(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,r):n instanceof pa?(function(u,c,d,p){if(!kh(u.precondition,c))return d;const g=O0(u.fieldTransforms,p,c),v=c.data;return v.setAll(HS(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,t,e,r):(function(u,c,d){return kh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,e)}function uD(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=LS(r.transform,o||null);u!=null&&(e===null&&(e=qn.empty()),e.set(r.field,u))}return e||null}function N0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Do(r,o,((u,c)=>aD(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class qu extends If{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pa extends If{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function HS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function M0(n,t,e){const r=new Map;Gt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,rD(c,d,e[o]))}return r}function O0(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,sD(u,c,t))}return r}class Dg extends If{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cD extends If{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&lD(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=yu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=yu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=PS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(o.key)?null:d;const p=zS(c,d);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Rt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Do(this.mutations,t.mutations,((e,r)=>N0(e,r)))&&Do(this.baseMutations,t.baseMutations,((e,r)=>N0(e,r)))}}class xg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return J2})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new xg(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Bt;function mD(n){switch(n){case it.OK:return Et(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function qS(n){if(n===void 0)return us("GRPC error has no .code"),it.UNKNOWN;switch(n){case be.OK:return it.OK;case be.CANCELLED:return it.CANCELLED;case be.UNKNOWN:return it.UNKNOWN;case be.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case be.INTERNAL:return it.INTERNAL;case be.UNAVAILABLE:return it.UNAVAILABLE;case be.UNAUTHENTICATED:return it.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case be.NOT_FOUND:return it.NOT_FOUND;case be.ALREADY_EXISTS:return it.ALREADY_EXISTS;case be.PERMISSION_DENIED:return it.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case be.ABORTED:return it.ABORTED;case be.OUT_OF_RANGE:return it.OUT_OF_RANGE;case be.UNIMPLEMENTED:return it.UNIMPLEMENTED;case be.DATA_LOSS:return it.DATA_LOSS;default:return Et(39323,{code:n})}}(Bt=be||(be={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new tr([4294967295,4294967295],0);function P0(n){const t=pD().encode(n),e=new rS;return e.update(t),new Uint8Array(e.digest())}function k0(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new tr([e,r],0),new tr([o,u],0)]}class Vg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new uu(`Invalid padding: ${e}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new uu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=tr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(tr.fromNumber(r)));return o.compare(gD)===1&&(o=new tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=P0(t),[r,o]=k0(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Vg(u,o,e);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=P0(t),[r,o]=k0(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Df(Rt.min(),o,new ce(Pt),cs(),kt())}}class Fu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Fu(r,e,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class FS{constructor(t,e){this.targetId=t,this.Ce=e}}class GS{constructor(t,e,r=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class L0{constructor(){this.ve=0,this.Fe=U0(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),e=kt(),r=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:u})}})),new Fu(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=U0()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yD{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=Ch(),this.He=Ch(),this.Ye=new ce(Pt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Op(u))if(r===0){const c=new yt(u.path);this.et(e,c,nn.newNoDocument(c,Rt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,d;try{c=rr(r).toUint8Array()}catch(p){if(p instanceof yS)return Io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Vg(c,o,u)}catch(p){return Io(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Op(d.target)){const p=new yt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}}));let r=kt();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Df(t,e,this.Ye,this.je,r);return this.je=cs(),this.Je=Ch(),this.He=Ch(),this.Ye=new ce(Pt),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new L0,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Oe(Pt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Oe(Pt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new L0),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ch(){return new ce(yt.comparator)}function U0(){return new ce(yt.comparator)}const vD={asc:"ASCENDING",desc:"DESCENDING"},_D={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class ED{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function kp(n,t){return n.useProto3Json||Af(t)?t:{value:t}}function sf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function AD(n,t){return sf(n,t.toTimestamp())}function Si(n){return Gt(!!n,49232),Rt.fromTimestamp((function(e){const r=sr(e);return new ie(r.seconds,r.nanos)})(n))}function Ng(n,t){return Lp(n,t).canonicalString()}function Lp(n,t){const e=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function YS(n){const t=ne.fromString(n);return Gt(ZS(t),10190,{key:t.toString()}),t}function Up(n,t){return Ng(n.databaseId,t.path)}function tp(n,t){const e=YS(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(XS(e))}function QS(n,t){return Ng(n.databaseId,t)}function SD(n){const t=YS(n);return t.length===4?ne.emptyPath():XS(t)}function jp(n){return new ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XS(n){return Gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function j0(n,t,e){return{name:Up(n,t),fields:e.value.mapValue.fields}}function bD(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Gt(v===void 0||typeof v=="string",58123),$e.fromBase64String(v||"")):(Gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$e.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?it.UNKNOWN:qS(g.code);return new mt(v,g.message||"")})(c);e=new GS(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=tp(n,r.document.name),u=Si(r.document.updateTime),c=r.document.createTime?Si(r.document.createTime):Rt.min(),d=new qn({mapValue:{fields:r.document.fields}}),p=nn.newFoundDocument(o,u,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];e=new Lh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=tp(n,r.document),u=r.readTime?Si(r.readTime):Rt.min(),c=nn.newNoDocument(o,u),d=r.removedTargetIds||[];e=new Lh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=tp(n,r.document),u=r.removedTargetIds||[];e=new Lh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new dD(o,u),d=r.targetId;e=new FS(d,c)}}return e}function wD(n,t){let e;if(t instanceof qu)e={update:j0(n,t.key,t.value)};else if(t instanceof Dg)e={delete:Up(n,t.key)};else if(t instanceof pa)e={update:j0(n,t.key,t.data),updateMask:OD(t.fieldMask)};else{if(!(t instanceof cD))return Et(16599,{Vt:t.type});e={verify:Up(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof ef)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof nf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Et(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:AD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(n,t.precondition)),e}function RD(n,t){return n&&n.length>0?(Gt(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?Si(o.updateTime):Si(u);return c.isEqual(Rt.min())&&(c=Si(u)),new oD(c,o.transformResults||[])})(e,t)))):[]}function CD(n,t){return{documents:[QS(n,t.path)]}}function ID(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=QS(n,o);const u=(function(g){if(g.length!==0)return WS(Ni.create(g,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:fo(S.field),direction:VD(S.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=kp(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function DD(n){let t=SD(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Gt(r===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(E){const S=$S(E);return S instanceof Ni&&CS(S)?S.getFilters():[S]})(e.where));let c=[];e.orderBy&&(c=(function(E){return E.map((S=>(function(L){return new tf(mo(L.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(e.orderBy));let d=null;e.limit&&(d=(function(E){let S;return S=typeof E=="object"?E.value:E,Af(S)?null:S})(e.limit));let p=null;e.startAt&&(p=(function(E){const S=!!E.before,V=E.values||[];return new Jh(V,S)})(e.startAt));let g=null;return e.endAt&&(g=(function(E){const S=!E.before,V=E.values||[];return new Jh(V,S)})(e.endAt)),Y2(t,o,c,u,d,"F",p,g)}function xD(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function $S(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=mo(e.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(e.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(e.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=mo(e.unaryFilter.field);return Ne.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ne.create(mo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ni.create(e.compositeFilter.filters.map((r=>$S(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(e.compositeFilter.op))})(n):Et(30097,{filter:n})}function VD(n){return vD[n]}function ND(n){return _D[n]}function MD(n){return TD[n]}function fo(n){return{fieldPath:n.canonicalString()}}function mo(n){return Xe.fromServerFormat(n.fieldPath)}function WS(n){return n instanceof Ne?(function(e){if(e.op==="=="){if(R0(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NAN"}};if(w0(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(R0(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NAN"}};if(w0(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(e.field),op:ND(e.op),value:e.value}}})(n):n instanceof Ni?(function(e){const r=e.getFilters().map((o=>WS(o)));return r.length===1?r[0]:{compositeFilter:{op:MD(e.op),filters:r}}})(n):Et(54877,{filter:n})}function OD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ZS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,e,r,o,u=Rt.min(),c=Rt.min(),d=$e.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t){this.yt=t}}function kD(n){const t=DD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.Cn=new UD}addToCollectionParentIndex(t,e){return this.Cn.add(e),tt.resolve()}getCollectionParents(t,e){return tt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return tt.resolve()}deleteFieldIndex(t,e){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,e){return tt.resolve()}getDocumentsMatchingTarget(t,e){return tt.resolve(null)}getIndexType(t,e){return tt.resolve(0)}getFieldIndexes(t,e){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,e){return tt.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,e){return tt.resolve(ir.min())}updateCollectionGroup(t,e,r){return tt.resolve()}updateIndexEntries(t,e){return tt.resolve()}}class UD{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Oe(ne.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Oe(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JS=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(JS,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="LruGarbageCollector",jD=1048576;function H0([n,t],[e,r]){const o=Pt(n,e);return o===0?Pt(t,r):o}class BD{constructor(t){this.Ir=t,this.buffer=new Oe(H0),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();H0(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class zD{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(z0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){zo(e)?ht(z0,"Ignoring IndexedDB error during garbage collection: ",e):await Bo(e)}await this.Vr(3e5)}))}}class HD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return tt.resolve(Ef.ce);const r=new BD(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(B0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B0):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,c,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,d=Date.now(),this.removeTargets(t,r,e)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),co()<=Ot.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function qD(n,t){return new HD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.changes=new ma((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?tt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&yu(r.mutation,o,ti.empty(),ie.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=kt()){const o=Jr();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=lu();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Jr();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,kt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,r,o){let u=cs();const c=gu(),d=(function(){return gu()})();return e.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof pa)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),yu(v.mutation,g,v.mutation.getFieldMask(),ie.now())):c.set(g.key,ti.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>d.set(g,new GD(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const r=gu();let o=new ce(((c,d)=>c-d)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=r.get(p)||ti.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(o.get(d.batchId)||kt()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=PS();v.forEach((S=>{if(!u.has(S)){const V=zS(e.get(S),r.get(S));V!==null&&E.set(S,V),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return tt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Q2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):tt.resolve(Jr());let d=wu,p=u;return c.next((g=>tt.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?tt.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,kt()))).next((v=>({batchId:d,changes:OS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((r=>{let o=lu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(t,u).next((d=>tt.forEach(d,(p=>{const g=(function(E,S){return new bf(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))}));let d=lu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&yu(v.mutation,g,ti.empty(),ie.now()),Rf(e,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return tt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(e)),tt.resolve()}getNamedQuery(t,e){return tt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:kD(o.bundledQuery),readTime:Si(o.readTime)}})(e)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.overlays=new ce(yt.comparator),this.qr=new Map}getOverlay(t,e){return tt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Jr();return tt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),tt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),tt.resolve()}getOverlaysForCollection(t,e,r){const o=Jr(),u=e.length+1,c=new yt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new ce(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Jr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Jr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return tt.resolve(d)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new fD(e,r));let u=this.qr.get(e);u===void 0&&(u=kt(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.Qr=new Oe(ze.$r),this.Ur=new Oe(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new ze(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new ze(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new yt(new ne([])),r=new ze(e,t),o=new ze(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new ne([])),r=new ze(e,t),o=new ze(e,t+1);let u=kt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new ze(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||Pt(t.Yr,e.Yr)}static Kr(t,e){return Pt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(ze.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new hD(u,e,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new ze(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return tt.resolve(c)}lookupMutationBatch(t,e){return tt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Ag:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new ze(e,0),o=new ze(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Oe(Pt);return e.forEach((o=>{const u=new ze(o,0),c=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{r=r.add(d.Yr)}))})),tt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;yt.isDocumentKey(u)||(u=u.child(""));const c=new ze(new yt(u),0);let d=new Oe(Pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),tt.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Gt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return tt.forEach(e.mutations,(o=>{const u=new ze(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new ze(e,0),o=this.Zr.firstAfterOrEqual(r);return tt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t){this.ri=t,this.docs=(function(){return new ce(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return tt.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let r=cs();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),tt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=cs();const c=e.path,d=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||w2(b2(v),r)<=0||(o.has(v.key)||Rf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){Et(9500)}ii(t,e){return tt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new ZD(this)}getSize(t){return tt.resolve(this.size)}}class ZD extends FD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),tt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t){this.persistence=t,this.si=new ma((e=>wg(e)),Rg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Mg,this.targetCount=0,this.ai=No.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),tt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new No(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,tt.resolve()}updateTargetData(t,e){return this.Pr(e),tt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=e&&r.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return tt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),tt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),tt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return tt.resolve(r)}containsKey(t,e){return tt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,e){this.ui={},this.overlays={},this.ci=new Ef(0),this.li=!1,this.li=!0,this.hi=new XD,this.referenceDelegate=t(this),this.Pi=new JD(this),this.indexManager=new LD,this.remoteDocumentCache=(function(o){return new WD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new PD(e),this.Ii=new YD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new QD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new $D(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){ht("MemoryPersistence","Starting transaction:",t);const o=new tx(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return tt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class tx extends C2{constructor(t){super(),this.currentSequenceNumber=t}}class Og{constructor(t){this.persistence=t,this.Ri=new Mg,this.Vi=null}static mi(t){return new Og(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),tt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),tt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(r=>{const o=yt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Rt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return tt.or([()=>tt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class rf{constructor(t,e){this.persistence=t,this.pi=new ma((r=>x2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=qD(this,e)}static mi(t,e){return new rf(t,e)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return tt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?tt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,e).next((d=>{d||(r++,u.removeEntry(c,Rt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),tt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),tt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Oh(t.data.value)),e}br(t,e,r){return tt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return tt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=kt(),o=kt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pg(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KC()?8:I2(rn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new ex;return this.Ss(t,e,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,e,c,d.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(co()<=Ot.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",ho(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(co()<=Ot.DEBUG&&ht("QueryEngine","Query:",ho(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(co()<=Ot.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",ho(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ei(e))):tt.resolve())}ys(t,e){if(x0(e))return tt.resolve(null);let r=Ei(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Pp(e,null,"F"),r=Ei(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=kt(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(e,d);return this.Cs(e,g,c,p.readTime)?this.ys(t,Pp(e,null,"F")):this.vs(t,g,e,p)}))))})))))}ws(t,e,r,o){return x0(e)||o.isEqual(Rt.min())?tt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(e,u);return this.Cs(e,c,r,o)?tt.resolve(null):(co()<=Ot.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(e)),this.vs(t,c,e,S2(o,wu)).next((d=>d)))}))}Ds(t,e){let r=new Oe(NS(t));return e.forEach(((o,u)=>{Rf(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return co()<=Ot.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",ho(e)),this.ps.getDocumentsMatchingQuery(t,e,ir.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LocalStore",ix=3e8;class sx{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new ce(Pt),this.xs=new ma((u=>wg(u)),Rg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new KD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function rx(n,t,e,r){return new sx(n,t,e,r)}async function e1(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let p=kt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function ax(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const E=g.batch,S=E.keys();let V=tt.resolve();return S.forEach((L=>{V=V.next((()=>v.getEntry(p,L))).next((Y=>{const q=g.docVersions.get(L);Gt(q!==null,48541),Y.version.compareTo(q)<0&&(E.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),v.addEntry(Y)))}))})),V.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=kt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function n1(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function ox(n,t){const e=Ct(n),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach(((v,E)=>{const S=o.get(E);if(!S)return;d.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>e.Pi.addMatchingKeys(u,v.addedDocuments,E))));let V=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?V=V.withResumeToken($e.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(v.resumeToken,r)),o=o.insert(E,V),(function(Y,q,$){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=ix?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(S,V,v)&&d.push(e.Pi.updateTargetData(u,V))}));let p=cs(),g=kt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(lx(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(Rt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next((E=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(v)}return tt.waitFor(d).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(e.Ms=o,u)))}function lx(n,t,e){let r=kt(),o=kt();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=cs();return e.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ht(kg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function ux(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Ag),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function cx(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,tt.resolve(o)):e.Pi.allocateTargetId(r).next((c=>(o=new $s(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Bp(n,t,e){const r=Ct(n),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!zo(c))throw c;ht(kg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function q0(n,t,e){const r=Ct(n);let o=Rt.min(),u=kt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=Ct(p),S=E.xs.get(v);return S!==void 0?tt.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,v)})(r,c,Ei(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?o:Rt.min(),e?u:kt()))).next((d=>(hx(r,$2(t),d),{documents:d,Qs:u})))))}function hx(n,t,e){let r=n.Os.get(t)||Rt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class F0{constructor(){this.activeTargetIds=nD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fx{constructor(){this.Mo=new F0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new F0,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="ConnectivityMonitor";class K0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(G0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(G0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function zp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class px{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const c=zp(),d=this.zo(t,e.toUriEncodedString());ht(ep,`Sending RPC '${t}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),v=Lo(g);return this.Jo(t,d,p,r,v).then((E=>(ht(ep,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Io(ep,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",r),E}))}Ho(t,e,r,o,u,c){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=mx[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class yx extends px{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const c=zp();return new Promise(((d,p)=>{const g=new aS;g.setWithCredentials(!0),g.listenOnce(oS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Mh.NO_ERROR:const E=g.getResponseJson();ht(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case Mh.TIMEOUT:ht(tn,`RPC '${t}' ${c} timed out`),p(new mt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const S=g.getStatus();if(ht(tn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const L=V?.error;if(L&&L.status&&L.message){const Y=(function($){const nt=$.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(nt)>=0?nt:it.UNKNOWN})(L.status);p(new mt(Y,L.message))}else p(new mt(it.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new mt(it.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(tn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ht(tn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,r,15)}))}T_(t,e,r){const o=zp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=cS(),d=uS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ht(tn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let S=!1,V=!1;const L=new gx({Yo:q=>{V?ht(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(S||(ht(tn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),ht(tn,`RPC '${t}' stream ${o} sending:`,q),E.send(q))},Zo:()=>E.close()}),Y=(q,$,nt)=>{q.listen($,(W=>{try{nt(W)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return Y(E,ou.EventType.OPEN,(()=>{V||(ht(tn,`RPC '${t}' stream ${o} transport opened.`),L.o_())})),Y(E,ou.EventType.CLOSE,(()=>{V||(V=!0,ht(tn,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(E))})),Y(E,ou.EventType.ERROR,(q=>{V||(V=!0,Io(tn,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),L.a_(new mt(it.UNAVAILABLE,"The operation could not be completed")))})),Y(E,ou.EventType.MESSAGE,(q=>{if(!V){const $=q.data[0];Gt(!!$,16349);const nt=$,W=nt?.error||nt[0]?.error;if(W){ht(tn,`RPC '${t}' stream ${o} received error:`,W);const ct=W.status;let st=(function(w){const R=be[w];if(R!==void 0)return qS(R)})(ct),dt=W.message;st===void 0&&(st=it.INTERNAL,dt="Unknown error status: "+ct+" with message "+W.message),V=!0,L.a_(new mt(st,dt)),E.close()}else ht(tn,`RPC '${t}' stream ${o} received:`,$),L.u_($)}})),Y(d,lS.STAT_EVENT,(q=>{q.stat===Dp.PROXY?ht(tn,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===Dp.NOPROXY&&ht(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n){return new ED(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="PersistentStream";class s1{constructor(t,e,r,o,u,c,d,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(us(e.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new mt(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(Y0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ht(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vx extends s1{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=bD(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Rt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Si(c.readTime):Rt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=jp(this.serializer),e.addTarget=(function(u,c){let d;const p=c.target;if(d=Op(p)?{documents:CD(u,p)}:{query:ID(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=KS(u,c.resumeToken);const g=kp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Rt.min())>0){d.readTime=sf(u,c.snapshotVersion.toTimestamp());const g=kp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const r=xD(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=jp(this.serializer),e.removeTarget=t,this.q_(e)}}class _x extends s1{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=RD(t.writeResults,t.commitTime),r=Si(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=jp(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>wD(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{}class Ex extends Tx{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Lp(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(it.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Lp(e,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ax{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class Sx{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ga(this)&&(ht(ha,"Restarting streams for network reachability change."),await(async function(p){const g=Ct(p);g.Ea.add(4),await Gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Vf(g)})(this))}))})),this.Ra=new Ax(r,o)}}async function Vf(n){if(ga(n))for(const t of n.da)await t(!0)}async function Gu(n){for(const t of n.da)await t(!1)}function r1(n,t){const e=Ct(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Bg(e)?jg(e):Ho(e).O_()&&Ug(e,t))}function Lg(n,t){const e=Ct(n),r=Ho(e);e.Ia.delete(t),r.O_()&&a1(e,t),e.Ia.size===0&&(r.O_()?r.L_():ga(e)&&e.Ra.set("Unknown"))}function Ug(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ho(n).Y_(t)}function a1(n,t){n.Va.Ue(t),Ho(n).Z_(t)}function jg(n){n.Va=new yD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Ho(n).start(),n.Ra.ua()}function Bg(n){return ga(n)&&!Ho(n).x_()&&n.Ia.size>0}function ga(n){return Ct(n).Ea.size===0}function o1(n){n.Va=void 0}async function bx(n){n.Ra.set("Online")}async function wx(n){n.Ia.forEach(((t,e)=>{Ug(n,t)}))}async function Rx(n,t){o1(n),Bg(n)?(n.Ra.ha(t),jg(n)):n.Ra.set("Unknown")}async function Cx(n,t,e){if(n.Ra.set("Online"),t instanceof GS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,t)}catch(r){ht(ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await af(n,r)}else if(t instanceof Lh?n.Va.Ze(t):t instanceof FS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Rt.min()))try{const r=await n1(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken($e.EMPTY_BYTE_STRING,v.snapshotVersion)),a1(u,p);const E=new $s(v.target,p,g,v.sequenceNumber);Ug(u,E)})),u.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(r){ht(ha,"Failed to raise snapshot:",r),await af(n,r)}}async function af(n,t,e){if(!zo(t))throw t;n.Ea.add(1),await Gu(n),n.Ra.set("Offline"),e||(e=()=>n1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(ha,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Vf(n)}))}function l1(n,t){return t().catch((e=>af(n,e,t)))}async function Nf(n){const t=Ct(n),e=or(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ag;for(;Ix(t);)try{const o=await ux(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,Dx(t,o)}catch(o){await af(t,o)}u1(t)&&c1(t)}function Ix(n){return ga(n)&&n.Ta.length<10}function Dx(n,t){n.Ta.push(t);const e=or(n);e.O_()&&e.X_&&e.ea(t.mutations)}function u1(n){return ga(n)&&!or(n).x_()&&n.Ta.length>0}function c1(n){or(n).start()}async function xx(n){or(n).ra()}async function Vx(n){const t=or(n);for(const e of n.Ta)t.ea(e.mutations)}async function Nx(n,t,e){const r=n.Ta.shift(),o=xg.from(r,t,e);await l1(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Nf(n)}async function Mx(n,t){t&&or(n).X_&&await(async function(r,o){if((function(c){return mD(c)&&c!==it.ABORTED})(o.code)){const u=r.Ta.shift();or(r).B_(),await l1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Nf(r)}})(n,t),u1(n)&&c1(n)}async function Q0(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),ht(ha,"RemoteStore received new credentials");const r=ga(e);e.Ea.add(3),await Gu(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Vf(e)}async function Ox(n,t){const e=Ct(n);t?(e.Ea.delete(2),await Vf(e)):t||(e.Ea.add(2),await Gu(e),e.Ra.set("Unknown"))}function Ho(n){return n.ma||(n.ma=(function(e,r,o){const u=Ct(e);return u.sa(),new vx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:bx.bind(null,n),t_:wx.bind(null,n),r_:Rx.bind(null,n),H_:Cx.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Bg(n)?jg(n):n.Ra.set("Unknown")):(await n.ma.stop(),o1(n))}))),n.ma}function or(n){return n.fa||(n.fa=(function(e,r,o){const u=Ct(e);return u.sa(),new _x(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:xx.bind(null,n),r_:Mx.bind(null,n),ta:Vx.bind(null,n),na:Nx.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Nf(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(ha,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,d=new zg(t,e,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(n,t){if(us("AsyncQueue",`${t}: ${n}`),zo(n))return new mt(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(t){return new Eo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||yt.comparator(e.key,r.key):(e,r)=>yt.comparator(e.key,r.key),this.keyedMap=lu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Eo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Eo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.ga=new ce(yt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Mo{constructor(t,e,r,o,u,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new Mo(t,e,Eo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class kx{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Ct(e),u=o.queries;o.queries=$0(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new mt(it.ABORTED,"Firestore shutting down"))}}function $0(){return new ma((n=>VS(n)),wf)}async function Lx(n,t){const e=Ct(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new Px,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const d=Hg(c,`Initialization of query '${ho(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&qg(e)}async function Ux(n,t){const e=Ct(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function jx(n,t){const e=Ct(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&qg(e)}function Bx(n,t,e){const r=Ct(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function qg(n){n.Ca.forEach((t=>{t.next()}))}var Hp,W0;(W0=Hp||(Hp={})).Ma="default",W0.Cache="cache";class zx{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Mo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.key=t}}class f1{constructor(t){this.key=t}}class Hx{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=NS(t),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new X0,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const S=o.get(v),V=Rf(this.query,E)?E:null,L=!!S&&this.mutatedKeys.has(S.key),Y=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let q=!1;S&&V?S.data.isEqual(V.data)?L!==Y&&(r.track({type:3,doc:V}),q=!0):this.su(S,V)||(r.track({type:2,doc:V}),q=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(d=!0)):!S&&V?(r.track({type:0,doc:V}),q=!0):S&&!V&&(r.track({type:1,doc:S}),q=!0,(p||g)&&(d=!0)),q&&(V?(c=c.add(V),u=Y?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(V,L){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:q})}};return Y(V)-Y(L)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const d=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Mo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new f1(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new h1(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=kt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fg="SyncEngine";class qx{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Fx{constructor(t){this.key=t,this.hu=!1}}class Gx{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ma((d=>VS(d)),wf),this.Iu=new Map,this.Eu=new Set,this.du=new ce(yt.comparator),this.Au=new Map,this.Ru=new Mg,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kx(n,t,e=!0){const r=v1(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await d1(r,t,e,!0),o}async function Yx(n,t){const e=v1(n);await d1(e,t,!0,!1)}async function d1(n,t,e,r){const o=await cx(n.localStore,Ei(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let d;return r&&(d=await Qx(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&r1(n.remoteStore,o),d}async function Qx(n,t,e,r,o){n.pu=(E,S,V)=>(async function(Y,q,$,nt){let W=q.view.ru($);W.Cs&&(W=await q0(Y.localStore,q.query,!1).then((({documents:D})=>q.view.ru(D,W))));const ct=nt&&nt.targetChanges.get(q.targetId),st=nt&&nt.targetMismatches.get(q.targetId)!=null,dt=q.view.applyChanges(W,Y.isPrimaryClient,ct,st);return J0(Y,q.targetId,dt.au),dt.snapshot})(n,E,S,V);const u=await q0(n.localStore,t,!0),c=new Hx(t,u.Qs),d=c.ru(u.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,p);J0(n,e,g.au);const v=new qx(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function Xx(n,t,e){const r=Ct(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!wf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Bp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Lg(r.remoteStore,o.targetId),qp(r,o.targetId)})).catch(Bo)):(qp(r,o.targetId),await Bp(r.localStore,o.targetId,!0))}async function $x(n,t){const e=Ct(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Lg(e.remoteStore,r.targetId))}async function Wx(n,t,e){const r=sV(n);try{const o=await(function(c,d){const p=Ct(c),g=ie.now(),v=d.reduce(((V,L)=>V.add(L.key)),kt());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let L=cs(),Y=kt();return p.Ns.getEntries(V,v).next((q=>{L=q,L.forEach((($,nt)=>{nt.isValidDocument()||(Y=Y.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,L))).next((q=>{E=q;const $=[];for(const nt of d){const W=uD(nt,E.get(nt.key).overlayedDocument);W!=null&&$.push(new pa(nt.key,W,bS(W.value.mapValue),Ai.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,$,d)})).next((q=>{S=q;const $=q.applyToLocalDocumentSet(E,Y);return p.documentOverlayCache.saveOverlays(V,q.batchId,$)}))})).then((()=>({batchId:S.batchId,changes:OS(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ce(Pt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,e),await Ku(r,o.changes),await Nf(r.remoteStore)}catch(o){const u=Hg(o,"Failed to persist write");e.reject(u)}}async function m1(n,t){const e=Ct(n);try{const r=await ox(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Gt(c.hu,14607):o.removedDocuments.size>0&&(Gt(c.hu,42227),c.hu=!1))})),await Ku(e,r,t)}catch(r){await Bo(r)}}function Z0(n,t,e){const r=Ct(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Ct(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,E)=>{for(const S of E.Sa)S.va(d)&&(g=!0)})),g&&qg(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zx(n,t,e){const r=Ct(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new ce(yt.comparator);c=c.insert(u,nn.newNoDocument(u,Rt.min()));const d=kt().add(u),p=new Df(Rt.min(),new Map,new ce(Pt),c,d);await m1(r,p),r.du=r.du.remove(u),r.Au.delete(t),Gg(r)}else await Bp(r.localStore,t,!1).then((()=>qp(r,t,e))).catch(Bo)}async function Jx(n,t){const e=Ct(n),r=t.batch.batchId;try{const o=await ax(e.localStore,t);g1(e,r,null),p1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Ku(e,o)}catch(o){await Bo(o)}}async function tV(n,t,e){const r=Ct(n);try{const o=await(function(c,d){const p=Ct(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(Gt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);g1(r,t,e),p1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Ku(r,o)}catch(o){await Bo(o)}}function p1(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function g1(n,t,e){const r=Ct(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function qp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||y1(n,r)}))}function y1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Lg(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Gg(n))}function J0(n,t,e){for(const r of e)r instanceof h1?(n.Ru.addReference(r.key,t),eV(n,r)):r instanceof f1?(ht(Fg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||y1(n,r.key)):Et(19791,{wu:r})}function eV(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(ht(Fg,"New document in limbo: "+e),n.Eu.add(r),Gg(n))}function Gg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(ne.fromString(t)),r=n.fu.next();n.Au.set(r,new Fx(e)),n.du=n.du.insert(e,r),r1(n.remoteStore,new $s(Ei(Cg(e.path)),r,"TargetPurposeLimboResolution",Ef.ce))}}async function Ku(n,t,e){const r=Ct(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Pg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=Ct(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>tt.forEach(g,(S=>tt.forEach(S.Es,(V=>v.persistence.referenceDelegate.addReference(E,S.targetId,V))).next((()=>tt.forEach(S.ds,(V=>v.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))))))}catch(E){if(!zo(E))throw E;ht(kg,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const V=v.Ms.get(S),L=V.snapshotVersion,Y=V.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(S,Y)}}})(r.localStore,u))}async function nV(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){ht(Fg,"User change. New user:",t.toKey());const r=await e1(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new mt(it.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ku(e,r.Ls)}}function iV(n,t){const e=Ct(n),r=e.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let o=kt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const d=e.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function v1(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zx.bind(null,t),t.Pu.H_=jx.bind(null,t.eventManager),t.Pu.yu=Bx.bind(null,t.eventManager),t}function sV(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tV.bind(null,t),t}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return rx(this.persistence,new nx,t.initialUser,this.serializer)}Cu(t){return new t1(Og.mi,this.serializer)}Du(t){return new fx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class rV extends of{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Gt(this.persistence.referenceDelegate instanceof rf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zD(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new t1((r=>rf.mi(r,e)),this.serializer)}}class Fp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nV.bind(null,this.syncEngine),await Ox(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kx})()}createDatastore(t){const e=xf(t.databaseInfo.databaseId),r=(function(u){return new yx(u)})(t.databaseInfo);return(function(u,c,d,p){return new Ex(u,c,d,p)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,d){return new Sx(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>Z0(this.syncEngine,e,0)),(function(){return K0.v()?new K0:new dx})())}createSyncEngine(t,e){return(function(o,u,c,d,p,g,v){const E=new Gx(o,u,c,d,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Ct(e);ht(ha,"RemoteStore shutting down."),r.Ea.add(5),await Gu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fp.provider={build:()=>new Fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="FirestoreClient";class oV{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ht(lr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ht(lr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Hg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function ip(n,t){n.asyncQueue.verifyOperationInProgress(),ht(lr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await e1(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function tE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await lV(n);ht(lr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>Q0(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Q0(t.remoteStore,o))),n._onlineComponents=t}async function lV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(lr,"Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Io("Error using user provided cache. Falling back to memory cache: "+e),await ip(n,new of)}}else ht(lr,"Using default OfflineComponentProvider"),await ip(n,new rV(void 0));return n._offlineComponents}async function _1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(lr,"Using user provided OnlineComponentProvider"),await tE(n,n._uninitializedComponentsProvider._online)):(ht(lr,"Using default OnlineComponentProvider"),await tE(n,new Fp))),n._onlineComponents}function uV(n){return _1(n).then((t=>t.syncEngine))}async function eE(n){const t=await _1(n),e=t.eventManager;return e.onListen=Kx.bind(null,t.syncEngine),e.onUnlisten=Xx.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Yx.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=$x.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firestore.googleapis.com",iE=!0;class sE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=iE}else this.host=t.host,this.ssl=t.ssl??iE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jD)throw new mt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}A2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new mt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new mt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new mt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mf{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new f2;switch(r.type){case"firstParty":return new g2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new mt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=nE.get(e);r&&(ht("ComponentProvider","Removing Datastore"),nE.delete(e),r.terminate())})(this),Promise.resolve()}}function cV(n,t,e,r={}){n=sa(n,Mf);const o=Lo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(WA(`https://${d}`),ZA("Firestore",!0)),u.host!==E1&&u.host!==d&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:r};if(!la(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=en.MOCK_USER;else{g=LC(r.mockUserToken,n._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new mt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(E)}n._authCredentials=new d2(new fS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Of(this.firestore,t,this._query)}}class Me{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Hu(e,Me._jsonSchema))return new Me(t,r||null,new yt(ne.fromString(e.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Re("string",Me._jsonSchemaVersion),referencePath:Re("string")};class er extends Of{constructor(t,e,r){super(t,e,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new yt(t))}withConverter(t){return new er(this.firestore,t,this._path)}}function hV(n,t,...e){if(n=fn(n),dS("collection","path",t),n instanceof Mf){const r=ne.fromString(t,...e);return y0(r),new er(n,null,r)}{if(!(n instanceof Me||n instanceof er))throw new mt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ne.fromString(t,...e));return y0(r),new er(n.firestore,null,r)}}function rE(n,t,...e){if(n=fn(n),arguments.length===1&&(t=Tg.newId()),dS("doc","path",t),n instanceof Mf){const r=ne.fromString(t,...e);return g0(r),new Me(n,null,new yt(r))}{if(!(n instanceof Me||n instanceof er))throw new mt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ne.fromString(t,...e));return g0(r),new Me(n.firestore,n instanceof er?n.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="AsyncQueue";class oE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i1(this,"async_queue_retry"),this._c=()=>{const r=np();r&&ht(aE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=np();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!zo(t))throw t;ht(aE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",lE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=zg.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:lE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function lE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Vu extends Mf{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new oE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new oE(t),this._firestoreClient=void 0,await t}}}function fV(n,t){const e=typeof n=="object"?n:nS(),r=typeof n=="string"?n:Wh,o=vg(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=PC("firestore");u&&cV(o,...u)}return o}function A1(n){if(n._terminated)throw new mt(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dV(n),n._firestoreClient}function dV(n){const t=n._freezeSettings(),e=(function(o,u,c,d){return new M2(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,T1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new oV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn($e.fromBase64String(t))}catch(e){throw new mt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Fn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hu(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Re("string",Fn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Hu(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Re("string",bi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hu(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new wi(t.vectorValues);throw new mt(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Re("string",wi._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=/^__.*__$/;class pV{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new pa(t,this.data,this.fieldMask,e,this.fieldTransforms):new qu(t,this.data,e,this.fieldTransforms)}}function b1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:n})}}class Yg{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Yg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(b1(this.Ac)&&mV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gV{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||xf(t)}Cc(t,e,r,o=!1){return new Yg({Ac:t,methodName:e,Dc:r,path:Xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yV(n){const t=n._freezeSettings(),e=xf(n._databaseId);return new gV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function vV(n,t,e,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);I1("Data must be an object, but it was:",c,r);const d=R1(r,c);let p,g;if(u.merge)p=new ti(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=_V(t,E,e);if(!c.contains(S))throw new mt(it.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);EV(v,S)||v.push(S)}p=new ti(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new pV(new qn(d),p,g)}function w1(n,t){if(C1(n=fn(n)))return I1("Unsupported field value:",t,n),R1(n,t);if(n instanceof S1)return(function(r,o){if(!b1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let p=w1(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ie.fromDate(r);return{timestampValue:sf(o.serializer,u)}}if(r instanceof ie){const u=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sf(o.serializer,u)}}if(r instanceof bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:KS(o.serializer,r._byteString)};if(r instanceof Me){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ng(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof wi)return(function(c,d){return{mapValue:{fields:{[AS]:{stringValue:SS},[Zh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ig(d.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Eg(r)}`)})(n,t)}function R1(n,t){const e={};return gS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):da(n,((r,o)=>{const u=w1(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function C1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ie||n instanceof bi||n instanceof Fn||n instanceof Me||n instanceof S1||n instanceof wi)}function I1(n,t,e){if(!C1(e)||!mS(e)){const r=Eg(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function _V(n,t,e){if((t=fn(t))instanceof Kg)return t._internalPath;if(typeof t=="string")return D1(n,t);throw lf("Field path arguments must be of type string or ",n,!1,void 0,e)}const TV=new RegExp("[~\\*/\\[\\]]");function D1(n,t,e){if(t.search(TV)>=0)throw lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Kg(...t.split("."))._internalPath}catch{throw lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function lf(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new mt(it.INVALID_ARGUMENT,d+n+p)}function EV(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(V1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class AV extends x1{data(){return super.data()}}function V1(n,t){return typeof t=="string"?D1(n,t):t instanceof Kg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bV{convertValue(t,e="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return da(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[Zh].arrayValue?.values?.map((r=>_e(r.doubleValue)));return new wi(e)}convertGeoPoint(t){return new bi(_e(t.latitude),_e(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Sf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Ru(t));default:return null}}convertTimestamp(t){const e=sr(t);return new ie(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ne.fromString(t);Gt(ZS(r),9688,{name:t});const o=new Cu(r.get(1),r.get(3)),u=new yt(r.popFirst(5));return o.isEqual(e)||us(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class cu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ra extends x1{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(V1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ra._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Re("string",ra._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Uh extends ra{data(t={}){return super.data(t)}}class Ao{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Uh(this._firestore,this._userDataWriter,r.key,r,new cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new Uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:RV(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ao._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function RV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Re("string",Ao._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class N1 extends bV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,e)}}function CV(n,t,e){n=sa(n,Me);const r=sa(n.firestore,Vu),o=wV(n.converter,t);return M1(r,[vV(yV(r),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,Ai.none())])}function IV(n){return M1(sa(n.firestore,Vu),[new Dg(n._key,Ai.none())])}function DV(n,...t){n=fn(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||uE(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(uE(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,c,d;if(n instanceof Me)c=sa(n.firestore,Vu),d=Cg(n._key.path),u={next:p=>{t[r]&&t[r](xV(c,n,p))},error:t[r+1],complete:t[r+2]};else{const p=sa(n,Of);c=sa(p.firestore,Vu),d=p._query;const g=new N1(c);u={next:v=>{t[r]&&t[r](new Ao(c,g,p,v))},error:t[r+1],complete:t[r+2]},SV(n._query)}return(function(g,v,E,S){const V=new aV(S),L=new zx(v,V,E);return g.asyncQueue.enqueueAndForget((async()=>Lx(await eE(g),L))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>Ux(await eE(g),L)))}})(A1(c),d,o,u)}function M1(n,t){return(function(r,o){const u=new ia;return r.asyncQueue.enqueueAndForget((async()=>Wx(await uV(r),o,u))),u.promise})(A1(n),t)}function xV(n,t,e){const r=e.docs.get(t._key),o=new N1(n);return new ra(n,o,t._key,r,new cu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){jo=o})(Uo),Co(new ua("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new Vu(new m2(r.getProvider("auth-internal")),new y2(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:e,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Js(f0,d0,t),Js(f0,d0,"esm2020")})();function O1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VV=O1,P1=new Bu("auth","Firebase",O1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new gg("@firebase/auth");function NV(n,...t){uf.logLevel<=Ot.WARN&&uf.warn(`Auth (${Uo}): ${n}`,...t)}function jh(n,...t){uf.logLevel<=Ot.ERROR&&uf.error(`Auth (${Uo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n,...t){throw Qg(n,...t)}function Ri(n,...t){return Qg(n,...t)}function k1(n,t,e){const r={...VV(),[t]:e};return new Bu("auth","Firebase",r).create(t,{appName:n.name})}function nr(n){return k1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qg(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return P1.create(n,...t)}function Tt(n,t,...e){if(!n)throw Qg(t,...e)}function as(n){const t="INTERNAL ASSERTION FAILED: "+n;throw jh(t),new Error(t)}function hs(n,t){n||as(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){return typeof self<"u"&&self.location?.href||""}function MV(){return cE()==="http:"||cE()==="https:"}function cE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MV()||qC()||"connection"in navigator)?navigator.onLine:!0}function PV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,e){this.shortDelay=t,this.longDelay=e,hs(e>t,"Short delay should be less than long delay!"),this.isMobile=BC()||FC()}get(){return OV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(n,t){hs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UV=new Yu(3e4,6e4);function ya(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function hr(n,t,e,r,o={}){return U1(n,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const d=zu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return HC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Lo(n.emulatorConfig.host)&&(g.credentials="include"),L1.fetch()(await j1(n,n.config.apiHost,e,d),g)})}async function U1(n,t,e){n._canInitEmulator=!1;const r={...kV,...t};try{const o=new BV(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Dh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Dh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Dh(n,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw k1(n,v,g);ni(n,v)}}catch(o){if(o instanceof ms)throw o;ni(n,"network-request-failed",{message:String(o)})}}async function Pf(n,t,e,r,o={}){const u=await hr(n,t,e,r,o);return"mfaPendingCredential"in u&&ni(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function j1(n,t,e,r){const o=`${t}${e}?${r}`,u=n,c=u.config.emulator?Xg(n.config,o):`${n.config.apiScheme}://${o}`;return LV.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function jV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),UV.get())})}}function Dh(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=Ri(n,t,r);return o.customData._tokenResponse=e,o}function hE(n){return n!==void 0&&n.enterprise!==void 0}class zV{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return jV(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HV(n,t){return hr(n,"GET","/v2/recaptchaConfig",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n,t){return hr(n,"POST","/v1/accounts:delete",t)}async function cf(n,t){return hr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function FV(n,t=!1){const e=fn(n),r=await e.getIdToken(t),o=$g(r);Tt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:vu(sp(o.auth_time)),issuedAtTime:vu(sp(o.iat)),expirationTime:vu(sp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sp(n){return Number(n)*1e3}function $g(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const o=YA(e);return o?JSON.parse(o):(jh("Failed to decode base64 JWT payload"),null)}catch(o){return jh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function fE(n){const t=$g(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof ms&&GV(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(n){const t=n.auth,e=await n.getIdToken(),r=await Nu(n,cf(t,{idToken:e}));Tt(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?B1(o.providerUserInfo):[],c=QV(n.providerData,u),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function YV(n){const t=fn(n);await hf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QV(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function B1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(n,t){const e=await U1(n,{},async()=>{const r=zu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await j1(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return n.emulatorConfig&&Lo(n.emulatorConfig.host)&&(p.credentials="include"),L1.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function $V(n,t){return hr(n,"POST","/v2/accounts:revokeToken",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=fE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await XV(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new So;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Tt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new KV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Nu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return FV(this,t)}reload(){return YV(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await hf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(nr(this.auth));const t=await this.getIdToken();return await Nu(this,qV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:V,providerData:L,stsTokenManager:Y}=e;Tt(E&&Y,t,"internal-error");const q=So.fromJSON(this.name,Y);Tt(typeof E=="string",t,"internal-error"),Fs(r,t.name),Fs(o,t.name),Tt(typeof S=="boolean",t,"internal-error"),Tt(typeof V=="boolean",t,"internal-error"),Fs(u,t.name),Fs(c,t.name),Fs(d,t.name),Fs(p,t.name),Fs(g,t.name),Fs(v,t.name);const $=new ei({uid:E,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:V,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:q,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&($.providerData=L.map(nt=>({...nt}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(t,e,r=!1){const o=new So;o.updateFromServerResponse(e);const u=new ei({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await hf(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?B1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new So;d.updateFromIdToken(r);const p=new ei({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;function os(n){hs(n instanceof Function,"Expected a class definition");let t=dE.get(n);return t?(hs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,dE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}z1.type="NONE";const mE=z1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n,t,e){return`firebase:${n}:${t}:${e}`}class bo{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Bh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await cf(this.auth,{idToken:t}).catch(()=>{});return e?ei._fromGetAccountInfoResponse(this.auth,e,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new bo(os(mE),t,r);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||os(mE);const c=Bh(r,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const S=await cf(t,{idToken:v}).catch(()=>{});if(!S)break;E=await ei._fromGetAccountInfoResponse(t,S,v)}else E=ei._fromJSON(t,v);g!==u&&(d=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,t,r):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new bo(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(G1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(H1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Y1(t))return"Blackberry";if(Q1(t))return"Webos";if(q1(t))return"Safari";if((t.includes("chrome/")||F1(t))&&!t.includes("edge/"))return"Chrome";if(K1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function H1(n=rn()){return/firefox\//i.test(n)}function q1(n=rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function F1(n=rn()){return/crios\//i.test(n)}function G1(n=rn()){return/iemobile/i.test(n)}function K1(n=rn()){return/android/i.test(n)}function Y1(n=rn()){return/blackberry/i.test(n)}function Q1(n=rn()){return/webos/i.test(n)}function Wg(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WV(n=rn()){return Wg(n)&&!!window.navigator?.standalone}function ZV(){return GC()&&document.documentMode===10}function X1(n=rn()){return Wg(n)||K1(n)||Q1(n)||Y1(n)||/windows phone/i.test(n)||G1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(n,t=[]){let e;switch(n){case"Browser":e=pE(rn());break;case"Worker":e=`${pE(rn())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(n,t={}){return hr(n,"GET","/v2/passwordPolicy",ya(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6;class nN{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??eN,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new JV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=os(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await cf(this,{idToken:t}),r=await ei._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await hf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(nr(this));const e=t?fn(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tN(this),e=new nN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await $V(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&os(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[os(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&NV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qo(n){return fn(n)}class gE{constructor(t){this.auth=t,this.observer=null,this.addObserver=JC(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(n){kf=n}function W1(n){return kf.loadJS(n)}function rN(){return kf.recaptchaEnterpriseScript}function aN(){return kf.gapiScript}function oN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class lN{constructor(){this.enterprise=new uN}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class uN{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const cN="recaptcha-enterprise",Z1="NO_RECAPTCHA";class hN{constructor(t){this.type=cN,this.auth=qo(t)}async verify(t="verify",e=!1){async function r(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{HV(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new zV(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,c,d){const p=window.grecaptcha;hE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(Z1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lN().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(d=>{if(!e&&hE(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=rN();p.length!==0&&(p+=d),W1(p).then(()=>{o(d,u,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function yE(n,t,e,r=!1,o=!1){const u=new hN(n);let c;if(o)c=Z1;else try{c=await u.verify(e)}catch{c=await u.verify(e,!0)}const d={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function vE(n,t,e,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await yE(n,t,e,e==="getOobCode");return r(n,u)}else return r(n,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await yE(n,t,e,e==="getOobCode");return r(n,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n,t){const e=vg(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(la(u,t??{}))return o;ni(o,"already-initialized")}return e.initialize({options:t})}function dN(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(os);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function mN(n,t,e){const r=qo(n);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=J1(t),{host:c,port:d}=pN(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(la(g,r.config.emulator)&&la(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Lo(c)?(WA(`${u}//${c}${p}`),ZA("Auth",!0)):gN()}function J1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function pN(n){const t=J1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:_E(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:_E(c)}}}function _E(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function gN(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,e){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}async function yN(n,t){return hr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(n,t){return Pf(n,"POST","/v1/accounts:signInWithPassword",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,t){return Pf(n,"POST","/v1/accounts:signInWithEmailLink",ya(n,t))}async function TN(n,t){return Pf(n,"POST","/v1/accounts:signInWithEmailLink",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Zg{constructor(t,e,r,o=null){super("password",r),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Mu(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Mu(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vE(t,e,"signInWithPassword",vN);case"emailLink":return _N(t,{email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vE(t,r,"signUpPassword",yN);case"emailLink":return TN(t,{idToken:e,email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(n,t){return Pf(n,"POST","/v1/accounts:signInWithIdp",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="http://localhost";class fa extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ni("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new fa(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return wo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,wo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,wo(t,e)}buildRequest(){const t={requestUri:EN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=zu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SN(n){const t=ru(au(n)).link,e=t?ru(au(t)).deep_link_id:null,r=ru(au(n)).deep_link_id;return(r?ru(au(r)).link:null)||r||e||t||n}class Jg{constructor(t){const e=ru(au(t)),r=e.apiKey??null,o=e.oobCode??null,u=AN(e.mode??null);Tt(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=SN(t);try{return new Jg(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(t,e){return Mu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=Jg.parseLink(e);return Tt(r,"argument-error"),Mu._fromEmailAndCode(t,r.code,r.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends tb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Qu{constructor(){super("facebook.com")}static credential(t){return fa._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return fa._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Ys.credential(e,r)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Qu{constructor(){super("github.com")}static credential(t){return fa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Qu{constructor(){super("twitter.com")}static credential(t,e){return fa._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Xs.credential(e,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await ei._fromIdTokenResponse(t,r,o),c=TE(r);return new Oo({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=TE(r);return new Oo({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function TE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends ms{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new ff(t,e,r,o)}}function eb(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(n,u,t,r):u})}async function bN(n,t,e=!1){const r=await Nu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Oo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(n,t,e=!1){const{auth:r}=n;if(Jn(r.app))return Promise.reject(nr(r));const o="reauthenticate";try{const u=await Nu(n,eb(r,o,t,n),e);Tt(u.idToken,r,"internal-error");const c=$g(u.idToken);Tt(c,r,"internal-error");const{sub:d}=c;return Tt(n.uid===d,r,"user-mismatch"),Oo._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(n,t,e=!1){if(Jn(n.app))return Promise.reject(nr(n));const r="signIn",o=await eb(n,r,t),u=await Oo._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}async function RN(n,t){return nb(qo(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(n){const t=qo(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function IN(n,t,e){return Jn(n.app)?Promise.reject(nr(n)):RN(fn(n),Fo.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CN(n),r})}function DN(n,t,e,r){return fn(n).onIdTokenChanged(t,e,r)}function xN(n,t,e){return fn(n).beforeAuthStateChanged(t,e)}function VN(n,t,e,r){return fn(n).onAuthStateChanged(t,e,r)}function NN(n){return fn(n).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=1e3,ON=10;class sb extends ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);ZV()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ON):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},MN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}sb.type="LOCAL";const PN=sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}rb.type="SESSION";const ab=rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new Lf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(c).map(async g=>g(e.origin,u)),p=await kN(d);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=ty("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function UN(n){Ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function jN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){return navigator?.serviceWorker?.controller||null}function zN(){return ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebaseLocalStorageDb",HN=1,mf="firebaseLocalStorage",ub="fbase_key";class Xu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Uf(n,t){return n.transaction([mf],t?"readwrite":"readonly").objectStore(mf)}function qN(){const n=indexedDB.deleteDatabase(lb);return new Xu(n).toPromise()}function Yp(){const n=indexedDB.open(lb,HN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(mf,{keyPath:ub})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(mf)?t(r):(r.close(),await qN(),t(await Yp()))})})}async function EE(n,t,e){const r=Uf(n,!0).put({[ub]:t,value:e});return new Xu(r).toPromise()}async function FN(n,t){const e=Uf(n,!1).get(t),r=await new Xu(e).toPromise();return r===void 0?null:r.value}function AE(n,t){const e=Uf(n,!0).delete(t);return new Xu(e).toPromise()}const GN=800,KN=3;class cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>KN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(zN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jN(),!this.activeServiceWorker)return;this.sender=new LN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yp();return await EE(t,df,"1"),await AE(t,df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>EE(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>FN(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>AE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Uf(o,!1).getAll();return new Xu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cb.type="LOCAL";const YN=cb;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n,t){return t?os(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Zg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return wo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function XN(n){return nb(n.auth,new ey(n),n.bypassAuthState)}function $N(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),wN(e,new ey(n),n.bypassAuthState)}async function WN(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),bN(e,new ey(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XN;case"linkViaPopup":case"linkViaRedirect":return WN;case"reauthViaPopup":case"reauthViaRedirect":return $N;default:ni(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Yu(2e3,1e4);class po extends hb{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZN.get())};t()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="pendingRedirect",zh=new Map;class tM extends hb{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=zh.get(this.auth._key());if(!t){try{const r=await eM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}zh.set(this.auth._key(),t)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eM(n,t){const e=sM(t),r=iM(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function nM(n,t){zh.set(n._key(),t)}function iM(n){return os(n._redirectPersistence)}function sM(n){return Bh(JN,n.config.apiKey,n.name)}async function rM(n,t,e=!1){if(Jn(n.app))return Promise.reject(nr(n));const r=qo(n),o=QN(r,t),c=await new tM(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=600*1e3;class oM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!fb(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ri(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aM&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(t))}saveEventToCache(t){this.cachedEventUids.add(SE(t)),this.lastProcessedEventTime=Date.now()}}function SE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function fb({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function lM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(n,t={}){return hr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hM=/^https?/;async function fM(n){if(n.config.emulator)return;const{authorizedDomains:t}=await uM(n);for(const e of t)try{if(dM(e))return}catch{}ni(n,"unauthorized-domain")}function dM(n){const t=Gp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!hM.test(e))return!1;if(cM.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new Yu(3e4,6e4);function bE(){const n=Ci().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function pM(n){return new Promise((t,e)=>{function r(){bE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bE(),e(Ri(n,"network-request-failed"))},timeout:mM.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const o=oN("iframefcb");return Ci()[o]=()=>{gapi.load?r():e(Ri(n,"network-request-failed"))},W1(`${aN()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Hh=null,t})}let Hh=null;function gM(n){return Hh=Hh||pM(n),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new Yu(5e3,15e3),vM="__/auth/iframe",_M="emulator/auth/iframe",TM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AM(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Xg(t,_M):`https://${n.config.authDomain}/${vM}`,r={apiKey:t.apiKey,appName:n.name,v:Uo},o=EM.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${zu(r).slice(1)}`}async function SM(n){const t=await gM(n),e=Ci().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:AM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Ri(n,"network-request-failed"),d=Ci().setTimeout(()=>{u(c)},yM.get());function p(){Ci().clearTimeout(d),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wM=500,RM=600,CM="_blank",IM="http://localhost";class wE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DM(n,t,e,r=wM,o=RM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...bM,width:r.toString(),height:o.toString(),top:u,left:c},g=rn().toLowerCase();e&&(d=F1(g)?CM:e),H1(g)&&(t=t||IM,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[V,L])=>`${S}${V}=${L},`,"");if(WV(g)&&d!=="_self")return xM(t||"",d),new wE(null);const E=window.open(t||"",d,v);Tt(E,n,"popup-blocked");try{E.focus()}catch{}return new wE(E)}function xM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="__/auth/handler",NM="emulator/auth/handler",MM=encodeURIComponent("fac");async function RE(n,t,e,r,o,u){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Uo,eventId:o};if(t instanceof tb){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",ZC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Qu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${MM}=${encodeURIComponent(p)}`:"";return`${OM(n)}?${zu(d).slice(1)}${g}`}function OM({config:n}){return n.emulator?Xg(n,NM):`https://${n.authDomain}/${VM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class PM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ab,this._completeRedirectFn=rM,this._overrideRedirectResult=nM}async _openPopup(t,e,r,o){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await RE(t,e,r,Gp(),o);return DM(t,u,ty())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await RE(t,e,r,Gp(),o);return UN(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(hs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await SM(t),r=new oM(t);return e.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(rp,{type:rp},o=>{const u=o?.[0]?.[rp];u!==void 0&&e(!!u),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=fM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return X1()||q1()||Wg()}}const kM=PM;var CE="@firebase/auth",IE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jM(n){Co(new ua("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$1(n)},g=new iN(r,o,u,p);return dN(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Co(new ua("auth-internal",t=>{const e=qo(t.getProvider("auth").getImmediate());return(r=>new LM(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(CE,IE,UM(n)),Js(CE,IE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=300,zM=$A("authIdTokenMaxAge")||BM;let DE=null;const HM=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>zM)return;const o=e?.token;DE!==o&&(DE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qM(n=nS()){const t=vg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=fN(n,{popupRedirectResolver:kM,persistence:[YN,PN,ab]}),r=$A("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=HM(u.toString());xN(e,c,()=>c(e.currentUser)),DN(e,d=>c(d))}}const o=QA("auth");return o&&mN(e,`http://${o}`),e}function FM(){return document.getElementsByTagName("head")?.[0]??document}sN({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=Ri("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",FM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jM("Browser");const GM={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},db=eS(GM),ap=fV(db),op=qM(db);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),xE=n=>{const t=YM(n);return t.charAt(0).toUpperCase()+t.slice(1)},mb=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim(),QM=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=ut.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...d},p)=>ut.createElement("svg",{ref:p,...XM,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:mb("lucide",o),...!u&&!QM(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>ut.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=(n,t)=>{const e=ut.forwardRef(({className:r,...o},u)=>ut.createElement($M,{ref:u,iconNode:t,className:mb(`lucide-${KM(xE(n))}`,`lucide-${n}`,r),...o}));return e.displayName=xE(n),e};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],VE=an("arrow-left",WM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],JM=an("book-open",ZM);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eO=an("download",tO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],iO=an("external-link",nO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rO=an("globe",sO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oO=an("lock",aO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uO=an("log-out",lO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],hO=an("music",cO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],dO=an("pause",fO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pb=an("pen-line",mO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],gO=an("play",pO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vO=an("plus",yO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],TO=an("search",_O);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AO=an("trash-2",EO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bO=an("upload",SO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NE=an("x",wO),gb=ut.createContext({});function RO(n){const t=ut.useRef(null);return t.current===null&&(t.current=n()),t.current}const ny=typeof window<"u",CO=ny?ut.useLayoutEffect:ut.useEffect,iy=ut.createContext(null);function sy(n,t){n.indexOf(t)===-1&&n.push(t)}function ry(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const fs=(n,t,e)=>e>t?t:e<n?n:e;let ay=()=>{};const ds={},yb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function vb(n){return typeof n=="object"&&n!==null}const _b=n=>/^0[^.\s]+$/u.test(n);function oy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Gn=n=>n,IO=(n,t)=>e=>t(n(e)),$u=(...n)=>n.reduce(IO),Ou=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class ly{constructor(){this.subscriptions=[]}add(t){return sy(this.subscriptions,t),()=>ry(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ii=n=>n*1e3,Di=n=>n/1e3;function Tb(n,t){return t?n*(1e3/t):0}const Eb=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,DO=1e-7,xO=12;function VO(n,t,e,r,o){let u,c,d=0;do c=t+(e-t)/2,u=Eb(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>DO&&++d<xO);return c}function Wu(n,t,e,r){if(n===t&&e===r)return Gn;const o=u=>VO(u,0,1,n,e);return u=>u===0||u===1?u:Eb(o(u),t,r)}const Ab=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,Sb=n=>t=>1-n(1-t),bb=Wu(.33,1.53,.69,.99),uy=Sb(bb),wb=Ab(uy),Rb=n=>(n*=2)<1?.5*uy(n):.5*(2-Math.pow(2,-10*(n-1))),cy=n=>1-Math.sin(Math.acos(n)),Cb=Sb(cy),Ib=Ab(cy),NO=Wu(.42,0,1,1),MO=Wu(0,0,.58,1),Db=Wu(.42,0,.58,1),OO=n=>Array.isArray(n)&&typeof n[0]!="number",xb=n=>Array.isArray(n)&&typeof n[0]=="number",PO={linear:Gn,easeIn:NO,easeInOut:Db,easeOut:MO,circIn:cy,circInOut:Ib,circOut:Cb,backIn:uy,backInOut:wb,backOut:bb,anticipate:Rb},kO=n=>typeof n=="string",ME=n=>{if(xb(n)){ay(n.length===4);const[t,e,r,o]=n;return Wu(t,e,r,o)}else if(kO(n))return PO[n];return n},xh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function LO(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,E=!1,S=!1)=>{const L=S&&o?e:r;return E&&c.add(v),L.has(v)||L.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const UO=40;function Vb(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=xh.reduce((W,ct)=>(W[ct]=LO(u),W),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:S,render:V,postRender:L}=c,Y=()=>{const W=ds.useManualTiming?o.timestamp:performance.now();e=!1,ds.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(W-o.timestamp,UO),1)),o.timestamp=W,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),S.process(o),V.process(o),L.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(Y))},q=()=>{e=!0,r=!0,o.isProcessing||n(Y)};return{schedule:xh.reduce((W,ct)=>{const st=c[ct];return W[ct]=(dt,D=!1,w=!1)=>(e||q(),st.schedule(dt,D,w)),W},{}),cancel:W=>{for(let ct=0;ct<xh.length;ct++)c[xh[ct]].cancel(W)},state:o,steps:c}}const{schedule:ae,cancel:ur,state:Ye,steps:lp}=Vb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let qh;function jO(){qh=void 0}const yn={now:()=>(qh===void 0&&yn.set(Ye.isProcessing||ds.useManualTiming?Ye.timestamp:performance.now()),qh),set:n=>{qh=n,queueMicrotask(jO)}},Nb=n=>t=>typeof t=="string"&&t.startsWith(n),hy=Nb("--"),BO=Nb("var(--"),fy=n=>BO(n)?zO.test(n.split("/*")[0].trim()):!1,zO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Go={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Pu={...Go,transform:n=>fs(0,1,n)},Vh={...Go,default:1},_u=n=>Math.round(n*1e5)/1e5,dy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HO(n){return n==null}const qO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,my=(n,t)=>e=>!!(typeof e=="string"&&qO.test(e)&&e.startsWith(n)||t&&!HO(e)&&Object.prototype.hasOwnProperty.call(e,t)),Mb=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(dy);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},FO=n=>fs(0,255,n),up={...Go,transform:n=>Math.round(FO(n))},ta={test:my("rgb","red"),parse:Mb("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+up.transform(n)+", "+up.transform(t)+", "+up.transform(e)+", "+_u(Pu.transform(r))+")"};function GO(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Qp={test:my("#"),parse:GO,transform:ta.transform},Zu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Gs=Zu("deg"),xi=Zu("%"),bt=Zu("px"),KO=Zu("vh"),YO=Zu("vw"),OE={...xi,parse:n=>xi.parse(n)/100,transform:n=>xi.transform(n*100)},go={test:my("hsl","hue"),parse:Mb("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+xi.transform(_u(t))+", "+xi.transform(_u(e))+", "+_u(Pu.transform(r))+")"},we={test:n=>ta.test(n)||Qp.test(n)||go.test(n),parse:n=>ta.test(n)?ta.parse(n):go.test(n)?go.parse(n):Qp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ta.transform(n):go.transform(n),getAnimatableNone:n=>{const t=we.parse(n);return t.alpha=0,we.transform(t)}},QO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XO(n){return isNaN(n)&&typeof n=="string"&&(n.match(dy)?.length||0)+(n.match(QO)?.length||0)>0}const Ob="number",Pb="color",$O="var",WO="var(",PE="${}",ZO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ku(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(ZO,p=>(we.test(p)?(r.color.push(u),o.push(Pb),e.push(we.parse(p))):p.startsWith(WO)?(r.var.push(u),o.push($O),e.push(p)):(r.number.push(u),o.push(Ob),e.push(parseFloat(p))),++u,PE)).split(PE);return{values:e,split:d,indexes:r,types:o}}function kb(n){return ku(n).values}function Lb(n){const{split:t,types:e}=ku(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=e[c];d===Ob?u+=_u(o[c]):d===Pb?u+=we.transform(o[c]):u+=o[c]}return u}}const JO=n=>typeof n=="number"?0:we.test(n)?we.getAnimatableNone(n):n;function tP(n){const t=kb(n);return Lb(n)(t.map(JO))}const cr={test:XO,parse:kb,createTransformer:Lb,getAnimatableNone:tP};function cp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function eP({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,p=2*e-d;o=cp(p,d,n+1/3),u=cp(p,d,n),c=cp(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function pf(n,t){return e=>e>0?t:n}const ue=(n,t,e)=>n+(t-n)*e,hp=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},nP=[Qp,ta,go],iP=n=>nP.find(t=>t.test(n));function kE(n){const t=iP(n);if(!t)return!1;let e=t.parse(n);return t===go&&(e=eP(e)),e}const LE=(n,t)=>{const e=kE(n),r=kE(t);if(!e||!r)return pf(n,t);const o={...e};return u=>(o.red=hp(e.red,r.red,u),o.green=hp(e.green,r.green,u),o.blue=hp(e.blue,r.blue,u),o.alpha=ue(e.alpha,r.alpha,u),ta.transform(o))},Xp=new Set(["none","hidden"]);function sP(n,t){return Xp.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function rP(n,t){return e=>ue(n,t,e)}function py(n){return typeof n=="number"?rP:typeof n=="string"?fy(n)?pf:we.test(n)?LE:lP:Array.isArray(n)?Ub:typeof n=="object"?we.test(n)?LE:aP:pf}function Ub(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>py(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function aP(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=py(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function oP(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],d=n.values[c]??0;e[o]=d,r[u]++}return e}const lP=(n,t)=>{const e=cr.createTransformer(t),r=ku(n),o=ku(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Xp.has(n)&&!o.values.length||Xp.has(t)&&!r.values.length?sP(n,t):$u(Ub(oP(r,o),o.values),e):pf(n,t)};function jb(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ue(n,t,e):py(n)(n,t)}const uP=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>ur(t),now:()=>Ye.isProcessing?Ye.timestamp:yn.now()}},Bb=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gf=2e4;function gy(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<gf;)t+=e,r=n.next(t);return t>=gf?1/0:t}function cP(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(gy(r),gf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Di(o)}}const hP=5;function zb(n,t,e){const r=Math.max(t-hP,0);return Tb(e-n(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fp=.001;function fP({duration:n=me.duration,bounce:t=me.bounce,velocity:e=me.velocity,mass:r=me.mass}){let o,u,c=1-t;c=fs(me.minDamping,me.maxDamping,c),n=fs(me.minDuration,me.maxDuration,Di(n)),c<1?(o=g=>{const v=g*c,E=v*n,S=v-e,V=$p(g,c),L=Math.exp(-E);return fp-S/V*L},u=g=>{const E=g*c*n,S=E*e+e,V=Math.pow(c,2)*Math.pow(g,2)*n,L=Math.exp(-E),Y=$p(Math.pow(g,2),c);return(-o(g)+fp>0?-1:1)*((S-V)*L)/Y}):(o=g=>{const v=Math.exp(-g*n),E=(g-e)*n+1;return-fp+v*E},u=g=>{const v=Math.exp(-g*n),E=(e-g)*(n*n);return v*E});const d=5/n,p=mP(o,u,d);if(n=Ii(n),isNaN(p))return{stiffness:me.stiffness,damping:me.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const dP=12;function mP(n,t,e){let r=e;for(let o=1;o<dP;o++)r=r-n(r)/t(r);return r}function $p(n,t){return n*Math.sqrt(1-t*t)}const pP=["duration","bounce"],gP=["stiffness","damping","mass"];function UE(n,t){return t.some(e=>n[e]!==void 0)}function yP(n){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...n};if(!UE(n,gP)&&UE(n,pP))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*fs(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:me.mass,stiffness:o,damping:u}}else{const e=fP(n);t={...t,...e,mass:me.mass},t.isResolvedFromDuration=!0}return t}function yf(n=me.visualDuration,t=me.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:V}=yP({...e,velocity:-Di(e.velocity||0)}),L=S||0,Y=g/(2*Math.sqrt(p*v)),q=c-u,$=Di(Math.sqrt(p/v)),nt=Math.abs(q)<5;r||(r=nt?me.restSpeed.granular:me.restSpeed.default),o||(o=nt?me.restDelta.granular:me.restDelta.default);let W;if(Y<1){const st=$p($,Y);W=dt=>{const D=Math.exp(-Y*$*dt);return c-D*((L+Y*$*q)/st*Math.sin(st*dt)+q*Math.cos(st*dt))}}else if(Y===1)W=st=>c-Math.exp(-$*st)*(q+(L+$*q)*st);else{const st=$*Math.sqrt(Y*Y-1);W=dt=>{const D=Math.exp(-Y*$*dt),w=Math.min(st*dt,300);return c-D*((L+Y*$*q)*Math.sinh(w)+st*q*Math.cosh(w))/st}}const ct={calculatedDuration:V&&E||null,next:st=>{const dt=W(st);if(V)d.done=st>=E;else{let D=st===0?L:0;Y<1&&(D=st===0?Ii(L):zb(W,st,dt));const w=Math.abs(D)<=r,R=Math.abs(c-dt)<=o;d.done=w&&R}return d.value=d.done?c:dt,d},toString:()=>{const st=Math.min(gy(ct),gf),dt=Bb(D=>ct.next(st*D).value,st,30);return st+"ms "+dt},toTransition:()=>{}};return ct}yf.applyToOptions=n=>{const t=cP(n,100,yf);return n.ease=t.ease,n.duration=Ii(t.duration),n.type="keyframes",n};function Wp({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],S={done:!1,value:E},V=w=>d!==void 0&&w<d||p!==void 0&&w>p,L=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let Y=e*t;const q=E+Y,$=c===void 0?q:c(q);$!==q&&(Y=$-E);const nt=w=>-Y*Math.exp(-w/r),W=w=>$+nt(w),ct=w=>{const R=nt(w),N=W(w);S.done=Math.abs(R)<=g,S.value=S.done?$:N};let st,dt;const D=w=>{V(S.value)&&(st=w,dt=yf({keyframes:[S.value,L(S.value)],velocity:zb(W,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return D(0),{calculatedDuration:null,next:w=>{let R=!1;return!dt&&st===void 0&&(R=!0,ct(w),D(w)),st!==void 0&&w>=st?dt.next(w-st):(!R&&ct(w),S)}}}function vP(n,t,e){const r=[],o=e||ds.mix||jb,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Gn:t;d=$u(p,d)}r.push(d)}return r}function _P(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(ay(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=vP(t,r,o),p=d.length,g=v=>{if(c&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const S=Ou(n[E],n[E+1],v);return d[E](S)};return e?v=>g(fs(n[0],n[u-1],v)):g}function TP(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=Ou(0,t,r);n.push(ue(e,1,o))}}function EP(n){const t=[0];return TP(t,n.length-1),t}function AP(n,t){return n.map(e=>e*t)}function SP(n,t){return n.map(()=>t||Db).splice(0,n.length-1)}function Tu({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=OO(r)?r.map(ME):ME(r),u={done:!1,value:t[0]},c=AP(e&&e.length===t.length?e:EP(t),n),d=_P(c,t,{ease:Array.isArray(o)?o:SP(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const bP=n=>n!==null;function yy(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(bP),d=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const wP={decay:Wp,inertia:Wp,tween:Tu,keyframes:Tu,spring:yf};function Hb(n){typeof n.type=="string"&&(n.type=wP[n.type])}class vy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const RP=n=>n/100;class _y extends vy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Hb(t);const{type:e=Tu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=e||Tu;p!==Tu&&typeof d[0]!="number"&&(this.mixKeyframes=$u(RP,jb(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=gy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:S,repeatDelay:V,type:L,onUpdate:Y,finalKeyframe:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const $=this.currentTime-g*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?$<0:$>o;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let W=this.currentTime,ct=r;if(E){const w=Math.min(this.currentTime,o)/d;let R=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(S==="reverse"?(N=1-N,V&&(N-=V/d)):S==="mirror"&&(ct=c)),W=fs(0,1,N)*d}const st=nt?{done:!1,value:v[0]}:ct.next(W);u&&(st.value=u(st.value));let{done:dt}=st;!nt&&p!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return D&&L!==Wp&&(st.value=yy(v,this.options,q,this.speed)),Y&&Y(st.value),D&&this.finish(),st}then(t,e){return this.finished.then(t,e)}get duration(){return Di(this.calculatedDuration)}get time(){return Di(this.currentTime)}set time(t){t=Ii(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Di(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=uP,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function CP(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ea=n=>n*180/Math.PI,Zp=n=>{const t=ea(Math.atan2(n[1],n[0]));return Jp(t)},IP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Zp,rotateZ:Zp,skewX:n=>ea(Math.atan(n[1])),skewY:n=>ea(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Jp=n=>(n=n%360,n<0&&(n+=360),n),jE=Zp,BE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),zE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),DP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BE,scaleY:zE,scale:n=>(BE(n)+zE(n))/2,rotateX:n=>Jp(ea(Math.atan2(n[6],n[5]))),rotateY:n=>Jp(ea(Math.atan2(-n[2],n[0]))),rotateZ:jE,rotate:jE,skewX:n=>ea(Math.atan(n[4])),skewY:n=>ea(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function tg(n){return n.includes("scale")?1:0}function eg(n,t){if(!n||n==="none")return tg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=DP,o=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=IP,o=d}if(!o)return tg(t);const u=r[t],c=o[1].split(",").map(VP);return typeof u=="function"?u(c):c[u]}const xP=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return eg(e,t)};function VP(n){return parseFloat(n.trim())}const Ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yo=new Set(Ko),HE=n=>n===Go||n===bt,NP=new Set(["x","y","z"]),MP=Ko.filter(n=>!NP.has(n));function OP(n){const t=[];return MP.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const aa={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>eg(t,"x"),y:(n,{transform:t})=>eg(t,"y")};aa.translateX=aa.x;aa.translateY=aa.y;const oa=new Set;let ng=!1,ig=!1,sg=!1;function qb(){if(ig){const n=Array.from(oa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=OP(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ig=!1,ng=!1,oa.forEach(n=>n.complete(sg)),oa.clear()}function Fb(){oa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ig=!0)})}function PP(){sg=!0,Fb(),qb(),sg=!1}class Ty{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(oa.add(this),ng||(ng=!0,ae.read(Fb),ae.resolveKeyframes(qb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const d=r.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}CP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oa.delete(this)}cancel(){this.state==="scheduled"&&(oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kP=n=>n.startsWith("--");function LP(n,t,e){kP(t)?n.style.setProperty(t,e):n.style[t]=e}const UP=oy(()=>window.ScrollTimeline!==void 0),jP={};function BP(n,t){const e=oy(n);return()=>jP[t]??e()}const Gb=BP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,qE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hu([0,.65,.55,1]),circOut:hu([.55,0,1,.45]),backIn:hu([.31,.01,.66,-.59]),backOut:hu([.33,1.53,.69,.99])};function Kb(n,t){if(n)return typeof n=="function"?Gb()?Bb(n,t):"ease-out":xb(n)?hu(n):Array.isArray(n)?n.map(e=>Kb(e,t)||qE.easeOut):qE[n]}function zP(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const E=Kb(d,o);Array.isArray(E)&&(v.easing=E);const S={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(v,S)}function Yb(n){return typeof n=="function"&&"applyToOptions"in n}function HP({type:n,...t}){return Yb(n)&&Gb()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class qP extends vy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,ay(typeof t.type!="string");const g=HP(t);this.animation=zP(e,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=yy(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):LP(e,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Di(Number(t))}get time(){return Di(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ii(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&UP()?(this.animation.timeline=t,Gn):e(this)}}const Qb={anticipate:Rb,backInOut:wb,circInOut:Ib};function FP(n){return n in Qb}function GP(n){typeof n.ease=="string"&&FP(n.ease)&&(n.ease=Qb[n.ease])}const FE=10;class KP extends qP{constructor(t){GP(t),Hb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new _y({...c,autoplay:!1}),p=Ii(this.finishedTime??this.time);e.setWithVelocity(d.sample(p-FE).value,d.sample(p).value,FE),d.stop()}}const GE=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(cr.test(n)||n==="0")&&!n.startsWith("url("));function YP(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function QP(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=GE(o,t),d=GE(u,t);return!c||!d?!1:YP(n)||(e==="spring"||Yb(e))&&r}function rg(n){n.duration=0,n.type}const XP=new Set(["opacity","clipPath","filter","transform"]),$P=oy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function WP(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return $P()&&e&&XP.has(e)&&(e!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const ZP=40;class JP extends vy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const S={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},V=v?.KeyframeResolver||Ty;this.keyframeResolver=new V(d,(L,Y,q)=>this.onKeyframesResolved(L,Y,S,!q),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=yn.now(),QP(t,u,c,d)||((ds.instantAnimations||!p)&&v?.(yy(t,r,e)),t[0]=t[t.length-1],rg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>ZP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},V=!g&&WP(S)?new KP({...S,element:S.motionValue.owner.current}):new _y(S);V.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),PP()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const t4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function e4(n){const t=t4.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function Xb(n,t,e=1){const[r,o]=e4(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return yb(c)?parseFloat(c):c}return fy(o)?Xb(o,t,e+1):o}function Ey(n,t){return n?.[t]??n?.default??n}const $b=new Set(["width","height","top","left","right","bottom",...Ko]),n4={test:n=>n==="auto",parse:n=>n},Wb=n=>t=>t.test(n),Zb=[Go,bt,xi,Gs,YO,KO,n4],KE=n=>Zb.find(Wb(n));function i4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||_b(n):!0}const s4=new Set(["brightness","contrast","saturate","opacity"]);function r4(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(dy)||[];if(!r)return n;const o=e.replace(r,"");let u=s4.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const a4=/\b([a-z-]*)\(.*?\)/gu,ag={...cr,getAnimatableNone:n=>{const t=n.match(a4);return t?t.map(r4).join(" "):n}},YE={...Go,transform:Math.round},o4={rotate:Gs,rotateX:Gs,rotateY:Gs,rotateZ:Gs,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:Gs,skewX:Gs,skewY:Gs,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Pu,originX:OE,originY:OE,originZ:bt},Ay={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...o4,zIndex:YE,fillOpacity:Pu,strokeOpacity:Pu,numOctaves:YE},l4={...Ay,color:we,backgroundColor:we,outlineColor:we,fill:we,stroke:we,borderColor:we,borderTopColor:we,borderRightColor:we,borderBottomColor:we,borderLeftColor:we,filter:ag,WebkitFilter:ag},Jb=n=>l4[n];function tw(n,t){let e=Jb(n);return e!==ag&&(e=cr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const u4=new Set(["auto","none","0"]);function c4(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!u4.has(u)&&ku(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=tw(e,o)}class h4 extends Ty{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),fy(g))){const v=Xb(g,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!$b.has(r)||t.length!==2)return;const[o,u]=t,c=KE(o),d=KE(u);if(c!==d)if(HE(c)&&HE(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else aa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||i4(t[o]))&&r.push(o);r.length&&c4(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=aa[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function f4(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=e?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const ew=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function d4(n){return vb(n)&&"offsetHeight"in n}const QE=30,m4=n=>!isNaN(parseFloat(n));class p4{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=yn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=m4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ly);const r=this.events[t].add(e);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>QE)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,QE);return Tb(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Po(n,t){return new p4(n,t)}const{schedule:Sy}=Vb(queueMicrotask,!1),Zn={x:!1,y:!1};function nw(){return Zn.x||Zn.y}function g4(n){return n==="x"||n==="y"?Zn[n]?null:(Zn[n]=!0,()=>{Zn[n]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function iw(n,t){const e=f4(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function XE(n){return!(n.pointerType==="touch"||nw())}function y4(n,t,e={}){const[r,o,u]=iw(n,e),c=d=>{if(!XE(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{XE(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const sw=(n,t)=>t?n===t?!0:sw(n,t.parentElement):!1,by=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,v4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _4(n){return v4.has(n.tagName)||n.tabIndex!==-1}const Fh=new WeakSet;function $E(n){return t=>{t.key==="Enter"&&n(t)}}function dp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const T4=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=$E(()=>{if(Fh.has(e))return;dp(e,"down");const o=$E(()=>{dp(e,"up")}),u=()=>dp(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function WE(n){return by(n)&&!nw()}function E4(n,t,e={}){const[r,o,u]=iw(n,e),c=d=>{const p=d.currentTarget;if(!WE(d))return;Fh.add(p);const g=t(p,d),v=(V,L)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),Fh.has(p)&&Fh.delete(p),WE(V)&&typeof g=="function"&&g(V,{success:L})},E=V=>{v(V,p===window||p===document||e.useGlobalTarget||sw(p,V.target))},S=V=>{v(V,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return r.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),d4(d)&&(d.addEventListener("focus",g=>T4(g,o)),!_4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function rw(n){return vb(n)&&"ownerSVGElement"in n}function A4(n){return rw(n)&&n.tagName==="svg"}const sn=n=>!!(n&&n.getVelocity),S4=[...Zb,we,cr],b4=n=>S4.find(Wb(n)),aw=ut.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function w4(n=!0){const t=ut.useContext(iy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=ut.useId();ut.useEffect(()=>{if(n)return o(u)},[n]);const c=ut.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const ow=ut.createContext({strict:!1}),ZE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ko={};for(const n in ZE)ko[n]={isEnabled:t=>ZE[n].some(e=>!!t[e])};function R4(n){for(const t in n)ko[t]={...ko[t],...n[t]}}const C4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||C4.has(n)}let lw=n=>!vf(n);function I4(n){typeof n=="function"&&(lw=t=>t.startsWith("on")?!vf(t):n(t))}try{I4(require("@emotion/is-prop-valid").default)}catch{}function D4(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(lw(o)||e===!0&&vf(o)||!t&&!vf(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const jf=ut.createContext({});function Bf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Lu(n){return typeof n=="string"||Array.isArray(n)}const wy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ry=["initial",...wy];function zf(n){return Bf(n.animate)||Ry.some(t=>Lu(n[t]))}function uw(n){return!!(zf(n)||n.variants)}function x4(n,t){if(zf(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Lu(e)?e:void 0,animate:Lu(r)?r:void 0}}return n.inherit!==!1?t:{}}function V4(n){const{initial:t,animate:e}=x4(n,ut.useContext(jf));return ut.useMemo(()=>({initial:t,animate:e}),[JE(t),JE(e)])}function JE(n){return Array.isArray(n)?n.join(" "):n}const Uu={};function N4(n){for(const t in n)Uu[t]=n[t],hy(t)&&(Uu[t].isCSSVariable=!0)}function cw(n,{layout:t,layoutId:e}){return Yo.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Uu[n]||n==="opacity")}const M4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O4=Ko.length;function P4(n,t,e){let r="",o=!0;for(let u=0;u<O4;u++){const c=Ko[u],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||e){const g=ew(d,Ay[c]);if(!p){o=!1;const v=M4[c]||c;r+=`${v}(${g}) `}e&&(t[c]=g)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function Cy(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const p in t){const g=t[p];if(Yo.has(p)){c=!0;continue}else if(hy(p)){o[p]=g;continue}else{const v=ew(g,Ay[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(c||e?r.transform=P4(t,n.transform,e):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Iy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hw(n,t,e){for(const r in t)!sn(t[r])&&!cw(r,e)&&(n[r]=t[r])}function k4({transformTemplate:n},t){return ut.useMemo(()=>{const e=Iy();return Cy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function L4(n,t){const e=n.style||{},r={};return hw(r,e,n),Object.assign(r,k4(n,t)),r}function U4(n,t){const e={},r=L4(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const j4={offset:"stroke-dashoffset",array:"stroke-dasharray"},B4={offset:"strokeDashoffset",array:"strokeDasharray"};function z4(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?j4:B4;n[u.offset]=bt.transform(-r);const c=bt.transform(t),d=bt.transform(e);n[u.array]=`${c} ${d}`}function fw(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},p,g,v){if(Cy(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:S}=n;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),r!==void 0&&(E.scale=r),o!==void 0&&z4(E,o,u,c,!1)}const dw=()=>({...Iy(),attrs:{}}),mw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function H4(n,t,e,r){const o=ut.useMemo(()=>{const u=dw();return fw(u,t,mw(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};hw(u,n.style,n),o.style={...u,...o.style}}return o}const q4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dy(n){return typeof n!="string"||n.includes("-")?!1:!!(q4.indexOf(n)>-1||/[A-Z]/u.test(n))}function F4(n,t,e,{latestValues:r},o,u=!1){const d=(Dy(n)?H4:U4)(t,r,o,n),p=D4(t,typeof n=="string",u),g=n!==ut.Fragment?{...p,...d,ref:e}:{},{children:v}=t,E=ut.useMemo(()=>sn(v)?v.get():v,[v]);return ut.createElement(n,{...g,children:E})}function tA(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function xy(n,t,e,r){if(typeof t=="function"){const[o,u]=tA(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=tA(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function Gh(n){return sn(n)?n.get():n}function G4({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:K4(e,r,o,n),renderState:t()}}function K4(n,t,e,r){const o={},u=r(n,{});for(const S in u)o[S]=Gh(u[S]);let{initial:c,animate:d}=n;const p=zf(n),g=uw(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const E=v?d:c;if(E&&typeof E!="boolean"&&!Bf(E)){const S=Array.isArray(E)?E:[E];for(let V=0;V<S.length;V++){const L=xy(n,S[V]);if(L){const{transitionEnd:Y,transition:q,...$}=L;for(const nt in $){let W=$[nt];if(Array.isArray(W)){const ct=v?W.length-1:0;W=W[ct]}W!==null&&(o[nt]=W)}for(const nt in Y)o[nt]=Y[nt]}}}return o}const pw=n=>(t,e)=>{const r=ut.useContext(jf),o=ut.useContext(iy),u=()=>G4(n,t,r,o);return e?u():RO(u)};function Vy(n,t,e){const{style:r}=n,o={};for(const u in r)(sn(r[u])||t.style&&sn(t.style[u])||cw(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const Y4=pw({scrapeMotionValuesFromProps:Vy,createRenderState:Iy});function gw(n,t,e){const r=Vy(n,t,e);for(const o in n)if(sn(n[o])||sn(t[o])){const u=Ko.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const Q4=pw({scrapeMotionValuesFromProps:gw,createRenderState:dw}),X4=Symbol.for("motionComponentSymbol");function yo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function $4(n,t,e){return ut.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):yo(e)&&(e.current=r))},[t])}const Ny=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),W4="framerAppearId",yw="data-"+Ny(W4),vw=ut.createContext({});function Z4(n,t,e,r,o){const{visualElement:u}=ut.useContext(jf),c=ut.useContext(ow),d=ut.useContext(iy),p=ut.useContext(aw).reducedMotion,g=ut.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=ut.useContext(vw);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&J4(g.current,e,o,E);const S=ut.useRef(!1);ut.useInsertionEffect(()=>{v&&S.current&&v.update(e,d)});const V=e[yw],L=ut.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return CO(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),L.current&&v.animationState&&v.animationState.animateChanges())}),ut.useEffect(()=>{v&&(!L.current&&v.animationState&&v.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),L.current=!1),v.enteringChildren=void 0)}),v}function J4(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:_w(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&yo(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function _w(n){if(n)return n.options.allowProjection!==!1?n.projection:_w(n.parent)}function mp(n,{forwardMotionProps:t=!1}={},e,r){e&&R4(e);const o=Dy(n)?Q4:Y4;function u(d,p){let g;const v={...ut.useContext(aw),...d,layoutId:tk(d)},{isStatic:E}=v,S=V4(d),V=o(d,E);if(!E&&ny){ek();const L=nk(v);g=L.MeasureLayout,S.visualElement=Z4(n,V,v,r,L.ProjectionNode)}return H.jsxs(jf.Provider,{value:S,children:[g&&S.visualElement?H.jsx(g,{visualElement:S.visualElement,...v}):null,F4(n,d,$4(V,S.visualElement,p),V,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=ut.forwardRef(u);return c[X4]=n,c}function tk({layoutId:n}){const t=ut.useContext(gb).id;return t&&n!==void 0?t+"-"+n:n}function ek(n,t){ut.useContext(ow).strict}function nk(n){const{drag:t,layout:e}=ko;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ik(n,t){if(typeof Proxy>"u")return mp;const e=new Map,r=(u,c)=>mp(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,mp(c,void 0,n,t)),e.get(c))})}function Tw({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function sk({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function rk(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function pp(n){return n===void 0||n===1}function og({scale:n,scaleX:t,scaleY:e}){return!pp(n)||!pp(t)||!pp(e)}function Zr(n){return og(n)||Ew(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Ew(n){return eA(n.x)||eA(n.y)}function eA(n){return n&&n!=="0%"}function _f(n,t,e){const r=n-e,o=t*r;return e+o}function nA(n,t,e,r,o){return o!==void 0&&(n=_f(n,o,r)),_f(n,e,r)+t}function lg(n,t=0,e=1,r,o){n.min=nA(n.min,t,e,r,o),n.max=nA(n.max,t,e,r,o)}function Aw(n,{x:t,y:e}){lg(n.x,t.translate,t.scale,t.originPoint),lg(n.y,e.translate,e.scale,e.originPoint)}const iA=.999999999999,sA=1.0000000000001;function ak(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=e[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_o(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Aw(n,c)),r&&Zr(u.latestValues)&&_o(n,u.latestValues))}t.x<sA&&t.x>iA&&(t.x=1),t.y<sA&&t.y>iA&&(t.y=1)}function vo(n,t){n.min=n.min+t,n.max=n.max+t}function rA(n,t,e,r,o=.5){const u=ue(n.min,n.max,o);lg(n,t,e,u,r)}function _o(n,t){rA(n.x,t.x,t.scaleX,t.scale,t.originX),rA(n.y,t.y,t.scaleY,t.scale,t.originY)}function Sw(n,t){return Tw(rk(n.getBoundingClientRect(),t))}function ok(n,t,e){const r=Sw(n,e),{scroll:o}=t;return o&&(vo(r.x,o.offset.x),vo(r.y,o.offset.y)),r}const aA=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:aA(),y:aA()}),oA=()=>({min:0,max:0}),ve=()=>({x:oA(),y:oA()}),ug={current:null},bw={current:!1};function lk(){if(bw.current=!0,!!ny)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>ug.current=n.matches;n.addEventListener("change",t),t()}else ug.current=!1}const uk=new WeakMap;function ck(n,t,e){for(const r in t){const o=t[r],u=e[r];if(sn(o))n.addValue(r,o);else if(sn(u))n.addValue(r,Po(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Po(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const lA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hk{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ty,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=yn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=zf(e),this.isVariantNode=uw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const S in E){const V=E[S];p[S]!==void 0&&sn(V)&&V.set(p[S])}}mount(t){this.current=t,uk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),bw.current||lk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ug.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ur(this.notifyUpdate),ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Yo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ko){const e=ko[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<lA.length;r++){const o=lA[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=ck(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Po(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(yb(r)||_b(r))?r=parseFloat(r):!b4(r)&&cr.test(e)&&(r=tw(t,e)),this.setBaseTarget(t,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=xy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!sn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new ly),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Sy.render(this.render)}}class ww extends hk{constructor(){super(...arguments),this.KeyframeResolver=h4}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Rw(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function fk(n){return window.getComputedStyle(n)}class dk extends ww{constructor(){super(...arguments),this.type="html",this.renderInstance=Rw}readValueFromInstance(t,e){if(Yo.has(e))return this.projection?.isProjecting?tg(e):xP(t,e);{const r=fk(t),o=(hy(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Sw(t,e)}build(t,e,r){Cy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Vy(t,e,r)}}const Cw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mk(n,t,e,r){Rw(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(Cw.has(o)?o:Ny(o),t.attrs[o])}class pk extends ww{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Yo.has(e)){const r=Jb(e);return r&&r.default||0}return e=Cw.has(e)?e:Ny(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return gw(t,e,r)}build(t,e,r){fw(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){mk(t,e,r,o)}mount(t){this.isSVGTag=mw(t.tagName),super.mount(t)}}const gk=(n,t)=>Dy(n)?new pk(t):new dk(t,{allowProjection:n!==ut.Fragment});function Ro(n,t,e){const r=n.getProps();return xy(r,t,e!==void 0?e:r.custom,n)}const cg=n=>Array.isArray(n);function yk(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Po(e))}function vk(n){return cg(n)?n[n.length-1]||0:n}function _k(n,t){const e=Ro(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const d=vk(u[c]);yk(n,c,d)}}function Tk(n){return!!(sn(n)&&n.add)}function hg(n,t){const e=n.getValue("willChange");if(Tk(e))return e.add(t);if(!e&&ds.WillChange){const r=new ds.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function Iw(n){return n.props[yw]}const Ek=n=>n!==null;function Ak(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(Ek),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const Sk={type:"spring",stiffness:500,damping:25,restSpeed:10},bk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),wk={type:"keyframes",duration:.8},Rk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ck=(n,{keyframes:t})=>t.length>2?wk:Yo.has(n)?n.startsWith("scale")?bk(t[1]):Sk:Rk;function Ik({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const My=(n,t,e,r={},o,u)=>c=>{const d=Ey(r,n)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Ii(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};Ik(d)||Object.assign(v,Ck(n,v)),v.duration&&(v.duration=Ii(v.duration)),v.repeatDelay&&(v.repeatDelay=Ii(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(rg(v),v.delay===0&&(E=!0)),(ds.instantAnimations||ds.skipAnimations)&&(E=!0,rg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const S=Ak(v.keyframes,d);if(S!==void 0){ae.update(()=>{v.onUpdate(S),v.onComplete()});return}}return d.isSync?new _y(v):new JP(v)};function Dk({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function Dw(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),S=d[v];if(S===void 0||g&&Dk(g,v))continue;const V={delay:e,...Ey(u||{},v)},L=E.get();if(L!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===L&&!V.velocity)continue;let Y=!1;if(window.MotionHandoffAnimation){const $=Iw(n);if($){const nt=window.MotionHandoffAnimation($,v,ae);nt!==null&&(V.startTime=nt,Y=!0)}}hg(n,v),E.start(My(v,E,S,n.shouldReduceMotion&&$b.has(v)?{type:!1}:V,n,Y));const q=E.animation;q&&p.push(q)}return c&&Promise.all(p).then(()=>{ae.update(()=>{c&&_k(n,c)})}),p}function xw(n,t,e,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:d-u*r}function fg(n,t,e={}){const r=Ro(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all(Dw(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return xk(n,t,p,g,v,E,e)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function xk(n,t,e=0,r=0,o=0,u=1,c){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),d.push(fg(p,t,{...c,delay:e+(typeof r=="function"?0:r)+xw(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function Vk(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>fg(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=fg(n,t,e);else{const o=typeof t=="function"?Ro(n,t,e.custom):t;r=Promise.all(Dw(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}function Vw(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const Nk=Ry.length;function Nw(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Nw(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Nk;e++){const r=Ry[e],o=n.props[r];(Lu(o)||o===!1)&&(t[r]=o)}return t}const Mk=[...wy].reverse(),Ok=wy.length;function Pk(n){return t=>Promise.all(t.map(({animation:e,options:r})=>Vk(n,e,r)))}function kk(n){let t=Pk(n),e=uA(),r=!0;const o=p=>(g,v)=>{const E=Ro(n,v,p==="exit"?n.presenceContext?.custom:void 0);if(E){const{transition:S,transitionEnd:V,...L}=E;g={...g,...L,...V}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=Nw(n.parent)||{},E=[],S=new Set;let V={},L=1/0;for(let q=0;q<Ok;q++){const $=Mk[q],nt=e[$],W=g[$]!==void 0?g[$]:v[$],ct=Lu(W),st=$===p?nt.isActive:null;st===!1&&(L=q);let dt=W===v[$]&&W!==g[$]&&ct;if(dt&&r&&n.manuallyAnimateOnMount&&(dt=!1),nt.protectedKeys={...V},!nt.isActive&&st===null||!W&&!nt.prevProp||Bf(W)||typeof W=="boolean")continue;const D=Lk(nt.prevProp,W);let w=D||$===p&&nt.isActive&&!dt&&ct||q>L&&ct,R=!1;const N=Array.isArray(W)?W:[W];let O=N.reduce(o($),{});st===!1&&(O={});const{prevResolvedValues:P={}}=nt,I={...P,...O},oe=G=>{w=!0,S.has(G)&&(R=!0,S.delete(G)),nt.needsAnimating[G]=!0;const ot=n.getValue(G);ot&&(ot.liveStyle=!1)};for(const G in I){const ot=O[G],At=P[G];if(V.hasOwnProperty(G))continue;let x=!1;cg(ot)&&cg(At)?x=!Vw(ot,At):x=ot!==At,x?ot!=null?oe(G):S.add(G):ot!==void 0&&S.has(G)?oe(G):nt.protectedKeys[G]=!0}nt.prevProp=W,nt.prevResolvedValues=O,nt.isActive&&(V={...V,...O}),r&&n.blockInitialAnimation&&(w=!1);const qt=dt&&D;w&&(!qt||R)&&E.push(...N.map(G=>{const ot={type:$};if(typeof G=="string"&&r&&!qt&&n.manuallyAnimateOnMount&&n.parent){const{parent:At}=n,x=Ro(At,G);if(At.enteringChildren&&x){const{delayChildren:et}=x.transition||{};ot.delay=xw(At.enteringChildren,n,et)}}return{animation:G,options:ot}}))}if(S.size){const q={};if(typeof g.initial!="boolean"){const $=Ro(n,Array.isArray(g.initial)?g.initial[0]:g.initial);$&&$.transition&&(q.transition=$.transition)}S.forEach($=>{const nt=n.getBaseTarget($),W=n.getValue($);W&&(W.liveStyle=!0),q[$]=nt??null}),E.push({animation:q})}let Y=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(Y=!1),r=!1,Y?t(E):Promise.resolve()}function d(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const E in e)e[E].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>e,reset:()=>{e=uA(),r=!0}}}function Lk(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Vw(t,n):!1}function $r(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uA(){return{animate:$r(!0),whileInView:$r(),whileHover:$r(),whileTap:$r(),whileDrag:$r(),whileFocus:$r(),exit:$r()}}class fr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Uk extends fr{constructor(t){super(t),t.animationState||(t.animationState=kk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jk=0;class Bk extends fr{constructor(){super(...arguments),this.id=jk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const zk={animation:{Feature:Uk},exit:{Feature:Bk}};function ju(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}function Ju(n){return{point:{x:n.pageX,y:n.pageY}}}const Hk=n=>t=>by(t)&&n(t,Ju(t));function Eu(n,t,e,r){return ju(n,t,Hk(e),r)}const Mw=1e-4,qk=1-Mw,Fk=1+Mw,Ow=.01,Gk=0-Ow,Kk=0+Ow;function hn(n){return n.max-n.min}function Yk(n,t,e){return Math.abs(n-t)<=e}function cA(n,t,e,r=.5){n.origin=r,n.originPoint=ue(t.min,t.max,n.origin),n.scale=hn(e)/hn(t),n.translate=ue(e.min,e.max,n.origin)-n.originPoint,(n.scale>=qk&&n.scale<=Fk||isNaN(n.scale))&&(n.scale=1),(n.translate>=Gk&&n.translate<=Kk||isNaN(n.translate))&&(n.translate=0)}function Au(n,t,e,r){cA(n.x,t.x,e.x,r?r.originX:void 0),cA(n.y,t.y,e.y,r?r.originY:void 0)}function hA(n,t,e){n.min=e.min+t.min,n.max=n.min+hn(t)}function Qk(n,t,e){hA(n.x,t.x,e.x),hA(n.y,t.y,e.y)}function fA(n,t,e){n.min=t.min-e.min,n.max=n.min+hn(t)}function Su(n,t,e){fA(n.x,t.x,e.x),fA(n.y,t.y,e.y)}function Hn(n){return[n("x"),n("y")]}const Pw=({current:n})=>n?n.ownerDocument.defaultView:null,dA=(n,t)=>Math.abs(n-t);function Xk(n,t){const e=dA(n.x,t.x),r=dA(n.y,t.y);return Math.sqrt(e**2+r**2)}class kw{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=yp(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,L=Xk(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!L)return;const{point:Y}=S,{timestamp:q}=Ye;this.history.push({...Y,timestamp:q});const{onStart:$,onMove:nt}=this.handlers;V||($&&$(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,S)},this.handlePointerMove=(S,V)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=gp(V,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(S,V)=>{this.end();const{onEnd:L,onSessionEnd:Y,resumeAnimation:q}=this.handlers;if(this.dragSnapToOrigin&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=yp(S.type==="pointercancel"?this.lastMoveEventInfo:gp(V,this.transformPagePoint),this.history);this.startEvent&&L&&L(S,$),Y&&Y(S,$)},!by(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=Ju(t),p=gp(d,this.transformPagePoint),{point:g}=p,{timestamp:v}=Ye;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,yp(p,this.history)),this.removeListeners=$u(Eu(this.contextWindow,"pointermove",this.handlePointerMove),Eu(this.contextWindow,"pointerup",this.handlePointerUp),Eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ur(this.updatePoint)}}function gp(n,t){return t?{point:t(n.point)}:n}function mA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function yp({point:n},t){return{point:n,delta:mA(n,Lw(t)),offset:mA(n,$k(t)),velocity:Wk(t,.1)}}function $k(n){return n[0]}function Lw(n){return n[n.length-1]}function Wk(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=Lw(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>Ii(t)));)e--;if(!r)return{x:0,y:0};const u=Di(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Zk(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?ue(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?ue(e,n,r.max):Math.min(n,e)),n}function pA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function Jk(n,{top:t,left:e,bottom:r,right:o}){return{x:pA(n.x,e,o),y:pA(n.y,t,r)}}function gA(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function tL(n,t){return{x:gA(n.x,t.x),y:gA(n.y,t.y)}}function eL(n,t){let e=.5;const r=hn(n),o=hn(t);return o>r?e=Ou(t.min,t.max-r,n.min):r>o&&(e=Ou(n.min,n.max-o,t.min)),fs(0,1,e)}function nL(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const dg=.35;function iL(n=dg){return n===!1?n=0:n===!0&&(n=dg),{x:yA(n,"left","right"),y:yA(n,"top","bottom")}}function yA(n,t,e){return{min:vA(n,t),max:vA(n,e)}}function vA(n,t){return typeof n=="number"?n:n[t]||0}const sL=new WeakMap;class rL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Ju(E).point)},c=(E,S)=>{const{drag:V,dragPropagation:L,onDragStart:Y}=this.getProps();if(V&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=g4(V),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn($=>{let nt=this.getAxisMotionValue($).get()||0;if(xi.test(nt)){const{projection:W}=this.visualElement;if(W&&W.layout){const ct=W.layout.layoutBox[$];ct&&(nt=hn(ct)*(parseFloat(nt)/100))}}this.originPoint[$]=nt}),Y&&ae.postRender(()=>Y(E,S)),hg(this.visualElement,"transform");const{animationState:q}=this.visualElement;q&&q.setActive("whileDrag",!0)},d=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:V,dragDirectionLock:L,onDirectionLock:Y,onDrag:q}=this.getProps();if(!V&&!this.openDragLock)return;const{offset:$}=S;if(L&&this.currentDirection===null){this.currentDirection=aL($),this.currentDirection!==null&&Y&&Y(this.currentDirection);return}this.updateAxis("x",S.point,$),this.updateAxis("y",S.point,$),this.visualElement.render(),q&&q(E,S)},p=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new kw(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:Pw(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Nh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=Zk(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&yo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Jk(r.layoutBox,t):this.constraints=!1,this.elastic=iL(e),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=nL(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!yo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=ok(r,o.root,this.visualElement.getTransformPagePoint());let c=tL(o.layout.layoutBox,u);if(e){const d=e(sk(c));this.hasMutatedConstraints=!!d,d&&(c=Tw(d))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Hn(v=>{if(!Nh(v,e,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const S=o?200:1e6,V=o?40:1e7,L={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:V,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,L)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return hg(this.visualElement,t),r.start(My(t,r,0,e,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hn(e=>{const{drag:r}=this.getProps();if(!Nh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[e];u.set(t[e]-ue(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!yo(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=eL({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!Nh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ue(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;sL.set(this.visualElement,this);const t=this.visualElement.current,e=Eu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();yo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const c=ju(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),e(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=dg,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Nh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function aL(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class oL extends fr{constructor(t){super(t),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new rL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const _A=n=>(t,e)=>{n&&ae.postRender(()=>n(t,e))};class lL extends fr{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(t){this.session=new kw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Pw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:_A(t),onStart:_A(e),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ae.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Eu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const su={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(bt.test(n))n=parseFloat(n);else return n;const e=TA(n,t.target.x),r=TA(n,t.target.y);return`${e}% ${r}%`}},uL={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=cr.parse(n);if(o.length>5)return r;const u=cr.createTransformer(n),c=typeof o[0]!="number"?1:0,d=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=ue(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let vp=!1;class cL extends ut.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;N4(hL),u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),vp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Kh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,vp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Sy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;vp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Uw(n){const[t,e]=w4(),r=ut.useContext(gb);return H.jsx(cL,{...n,layoutGroup:r,switchLayoutGroup:ut.useContext(vw),isPresent:t,safeToRemove:e})}const hL={borderRadius:{...su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:su,borderTopRightRadius:su,borderBottomLeftRadius:su,borderBottomRightRadius:su,boxShadow:uL};function fL(n,t,e){const r=sn(n)?n:Po(n);return r.start(My("",r,t,e)),r.animation}const dL=(n,t)=>n.depth-t.depth;class mL{constructor(){this.children=[],this.isDirty=!1}add(t){sy(this.children,t),this.isDirty=!0}remove(t){ry(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dL),this.isDirty=!1,this.children.forEach(t)}}function pL(n,t){const e=yn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(ur(r),n(u-t))};return ae.setup(r,!0),()=>ur(r)}const jw=["TopLeft","TopRight","BottomLeft","BottomRight"],gL=jw.length,EA=n=>typeof n=="string"?parseFloat(n):n,AA=n=>typeof n=="number"||bt.test(n);function yL(n,t,e,r,o,u){o?(n.opacity=ue(0,e.opacity??1,vL(r)),n.opacityExit=ue(t.opacity??1,0,_L(r))):u&&(n.opacity=ue(t.opacity??1,e.opacity??1,r));for(let c=0;c<gL;c++){const d=`border${jw[c]}Radius`;let p=SA(t,d),g=SA(e,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||AA(p)===AA(g)?(n[d]=Math.max(ue(EA(p),EA(g),r),0),(xi.test(g)||xi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=ue(t.rotate||0,e.rotate||0,r))}function SA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const vL=Bw(0,.5,Cb),_L=Bw(.5,.95,Gn);function Bw(n,t,e){return r=>r<n?0:r>t?1:e(Ou(n,t,r))}function bA(n,t){n.min=t.min,n.max=t.max}function zn(n,t){bA(n.x,t.x),bA(n.y,t.y)}function wA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function RA(n,t,e,r,o){return n-=t,n=_f(n,1/e,r),o!==void 0&&(n=_f(n,1/o,r)),n}function TL(n,t=0,e=1,r=.5,o,u=n,c=n){if(xi.test(t)&&(t=parseFloat(t),t=ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ue(u.min,u.max,r);n===u&&(d-=t),n.min=RA(n.min,t,e,d,o),n.max=RA(n.max,t,e,d,o)}function CA(n,t,[e,r,o],u,c){TL(n,t[e],t[r],t[o],t.scale,u,c)}const EL=["x","scaleX","originX"],AL=["y","scaleY","originY"];function IA(n,t,e,r){CA(n.x,t,EL,e?e.x:void 0,r?r.x:void 0),CA(n.y,t,AL,e?e.y:void 0,r?r.y:void 0)}function DA(n){return n.translate===0&&n.scale===1}function zw(n){return DA(n.x)&&DA(n.y)}function xA(n,t){return n.min===t.min&&n.max===t.max}function SL(n,t){return xA(n.x,t.x)&&xA(n.y,t.y)}function VA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function Hw(n,t){return VA(n.x,t.x)&&VA(n.y,t.y)}function NA(n){return hn(n.x)/hn(n.y)}function MA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class bL{constructor(){this.members=[]}add(t){sy(this.members,t),t.scheduleRender()}remove(t){if(ry(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wL(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:V,skewY:L}=e;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),V&&(r+=`skewX(${V}deg) `),L&&(r+=`skewY(${L}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const _p=["","X","Y","Z"],RL=1e3;let CL=0;function Tp(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function qw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=Iw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&qw(r)}function Fw({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=CL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xL),this.nodes.forEach(OL),this.nodes.forEach(PL),this.nodes.forEach(VL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new mL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ly),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=rw(c)&&!A4(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v,E=0;const S=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{E=window.innerWidth}),n(c,()=>{const V=window.innerWidth;V!==E&&(E=V,this.root.updateBlockedByResize=!0,v&&v(),v=pL(S,250),Kh.hasAnimatedSinceResize&&(Kh.hasAnimatedSinceResize=!1,this.nodes.forEach(kA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||BL,{onLayoutAnimationStart:Y,onLayoutAnimationComplete:q}=g.getProps(),$=!this.targetLayout||!Hw(this.targetLayout,V),nt=!E&&S;if(this.options.layoutRoot||this.resumeFrom||nt||E&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const W={...Ey(L,"layout"),onPlay:Y,onComplete:q};(g.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W),this.setAnimationOrigin(v,nt)}else E||kA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(PA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ML),this.nodes.forEach(IL),this.nodes.forEach(DL)):this.nodes.forEach(PA),this.clearAllSnapshots();const d=yn.now();Ye.delta=fs(0,1e3/60,d-Ye.timestamp),Ye.timestamp=d,Ye.isProcessing=!0,lp.update.process(Ye),lp.preRender.process(Ye),lp.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NL),this.sharedNodes.forEach(LL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!zw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Zr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),zL(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(HL))){const{scroll:g}=this.root;g&&(vo(d.x,g.offset.x),vo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ve();if(zn(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&zn(d,c),vo(d.x,v.offset.x),vo(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const p=ve();zn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&_o(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Zr(v.latestValues)&&_o(p,v.latestValues)}return Zr(this.latestValues)&&_o(p,this.latestValues),p}removeTransform(c){const d=ve();zn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Zr(g.latestValues))continue;og(g.latestValues)&&g.updateSnapshot();const v=ve(),E=g.measurePageBox();zn(v,E),IA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Zr(this.latestValues)&&IA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Su(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),Aw(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Su(this.relativeTargetOrigin,this.target,S.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||og(this.parent.latestValues)||Ew(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;zn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;ak(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:V}=c;if(!V){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wA(this.prevProjectionDelta.x,this.projectionDelta.x),wA(this.prevProjectionDelta.y,this.projectionDelta.y)),Au(this.projectionDelta,this.layoutCorrected,V,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!MA(this.projectionDelta.x,this.prevProjectionDelta.x)||!MA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ve(),V=p?p.source:void 0,L=this.layout?this.layout.source:void 0,Y=V!==L,q=this.getStack(),$=!q||q.members.length<=1,nt=!!(Y&&!$&&this.options.crossfade===!0&&!this.path.some(jL));this.animationProgress=0;let W;this.mixTargetDelta=ct=>{const st=ct/1e3;LA(E.x,c.x,st),LA(E.y,c.y,st),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Su(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UL(this.relativeTarget,this.relativeTargetOrigin,S,st),W&&SL(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=ve()),zn(W,this.relativeTarget)),Y&&(this.animationValues=v,yL(v,g,this.latestValues,st,nt,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Kh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Po(0)),this.currentAnimation=fL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&Gw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ve();const E=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const S=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}zn(d,p),_o(d,v),Au(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bL),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Tp("z",c,g,this.animationValues);for(let v=0;v<_p.length;v++)Tp(`rotate${_p[v]}`,c,g,this.animationValues),Tp(`skew${_p[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Gh(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Gh(d?.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=wL(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:S,y:V}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${V.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in Uu){if(v[L]===void 0)continue;const{correct:Y,applyTo:q,isCSSVariable:$}=Uu[L],nt=E==="none"?v[L]:Y(v[L],g);if(q){const W=q.length;for(let ct=0;ct<W;ct++)c[q[ct]]=nt}else $?this.options.visualElement.renderState.vars[L]=nt:c[L]=nt}this.options.layoutId&&(c.pointerEvents=g===this?Gh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(OA),this.root.sharedNodes.clear()}}}function IL(n){n.updateLayout()}function DL(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Hn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=hn(E);E.min=e[v].min,E.max=E.min+S}):Gw(o,t.layoutBox,e)&&Hn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=hn(e[v]);E.max=E.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const c=To();Au(c,e,t.layoutBox);const d=To();u?Au(d,n.applyTransform(r,!0),t.measuredBox):Au(d,e,t.layoutBox);const p=!zw(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:S}=v;if(E&&S){const V=ve();Su(V,t.layoutBox,E.layoutBox);const L=ve();Su(L,e,S.layoutBox),Hw(V,L)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=L,n.relativeTargetOrigin=V,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function xL(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function VL(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function NL(n){n.clearSnapshot()}function OA(n){n.clearMeasurements()}function PA(n){n.isLayoutDirty=!1}function ML(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function kA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function OL(n){n.resolveTargetDelta()}function PL(n){n.calcProjection()}function kL(n){n.resetSkewAndRotation()}function LL(n){n.removeLeadSnapshot()}function LA(n,t,e){n.translate=ue(t.translate,0,e),n.scale=ue(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function UA(n,t,e,r){n.min=ue(t.min,e.min,r),n.max=ue(t.max,e.max,r)}function UL(n,t,e,r){UA(n.x,t.x,e.x,r),UA(n.y,t.y,e.y,r)}function jL(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const BL={duration:.45,ease:[.4,0,.1,1]},jA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),BA=jA("applewebkit/")&&!jA("chrome/")?Math.round:Gn;function zA(n){n.min=BA(n.min),n.max=BA(n.max)}function zL(n){zA(n.x),zA(n.y)}function Gw(n,t,e){return n==="position"||n==="preserve-aspect"&&!Yk(NA(t),NA(e),.2)}function HL(n){return n!==n.root&&n.scroll?.wasRoot}const qL=Fw({attachResizeListener:(n,t)=>ju(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ep={current:void 0},Kw=Fw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ep.current){const n=new qL({});n.mount(window),n.setOptions({layoutScroll:!0}),Ep.current=n}return Ep.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),FL={pan:{Feature:lL},drag:{Feature:oL,ProjectionNode:Kw,MeasureLayout:Uw}};function HA(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&ae.postRender(()=>u(t,Ju(t)))}class GL extends fr{mount(){const{current:t}=this.node;t&&(this.unmount=y4(t,(e,r)=>(HA(this.node,r,"Start"),o=>HA(this.node,o,"End"))))}unmount(){}}class KL extends fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(ju(this.node.current,"focus",()=>this.onFocus()),ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qA(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&ae.postRender(()=>u(t,Ju(t)))}class YL extends fr{mount(){const{current:t}=this.node;t&&(this.unmount=E4(t,(e,r)=>(qA(this.node,r,"Start"),(o,{success:u})=>qA(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mg=new WeakMap,Ap=new WeakMap,QL=n=>{const t=mg.get(n.target);t&&t(n)},XL=n=>{n.forEach(QL)};function $L({root:n,...t}){const e=n||document;Ap.has(e)||Ap.set(e,{});const r=Ap.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(XL,{root:n,...t})),r[o]}function WL(n,t,e){const r=$L(t);return mg.set(n,e),r.observe(n),()=>{mg.delete(n),r.unobserve(n)}}const ZL={some:0,all:1};class JL extends fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:ZL[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(p)};return WL(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(t3(t,e))&&this.startObserver()}unmount(){}}function t3({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const e3={inView:{Feature:JL},tap:{Feature:YL},focus:{Feature:KL},hover:{Feature:GL}},n3={layout:{ProjectionNode:Kw,MeasureLayout:Uw}},i3={...zk,...e3,...FL,...n3},FA=ik(i3,gk),s3=lhZxHAGm3qUMMK4ex0z5gtNc0x23,Yh=[{id:"intro-phrases",title:"  Greetings",script:"Khmer",level:"Beginner",topic:"Phrases",description:"Common greetings and polite expressions.",audioUrl:"https://cdn.pixabay.com/download/audio/2022/03/15/audio_0b7b2d2d2a.mp3?filename=vocal-loop-1-201402.mp3",transcript:" (suosdei)  Hello |  (chomreabsuor)  Formal hello |  (awkun)  Thank you"},{id:"numbers-1-10",title:"   Numbers 110",script:"Khmer",level:"Beginner",topic:"Numbers",description:"Counting from 1 to 10 in Khmer.",audioUrl:"https://cdn.pixabay.com/download/audio/2022/02/23/audio_16a2a2d2e2.mp3?filename=short-music-112188.mp3",transcript:" (muoy),  (pii),  (bei),  (buon),  (pram),  (pram muoy),  (pram pii),  (pram bei),  (pram buon),  (dap)"}],na=({children:n})=>H.jsx("span",{className:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs opacity-80",children:n}),fu=({className:n="",...t})=>H.jsx("input",{className:`w-full rounded-2xl border px-3 py-2 outline-none focus:ring focus:ring-indigo-200 ${n}`,...t}),Cn=({className:n="",children:t,...e})=>H.jsx("button",{className:`rounded-2xl border shadow-sm px-3 py-2 hover:shadow transition active:scale-[.99] ${n}`,...e,children:t}),rs=({className:n="",children:t})=>H.jsx("div",{className:`rounded-2xl border bg-white/70 backdrop-blur p-4 shadow ${n}`,children:t}),r3="khmer_lessons_v1",a3="khmer_admin_enabled";function o3(){try{const n=localStorage.getItem(r3);if(!n)return Yh;const t=JSON.parse(n);return Array.isArray(t)?t:Yh}catch{return Yh}}function l3(){const[n,t]=ut.useState(window.location.hash||"#/");return ut.useEffect(()=>{const e=()=>t(window.location.hash||"#/");return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]),n}function Sp(n){window.location.hash=n}function u3(){const[n,t]=ut.useState(o3),[e,r]=ut.useState(""),[o,u]=ut.useState("All"),[c,d]=ut.useState("All"),[p,g]=ut.useState(null),v=ut.useRef(null),[E,S]=ut.useState(!1),[V,L]=ut.useState(!1),[Y,q]=ut.useState(null),[$,nt]=ut.useState(()=>localStorage.getItem(a3)==="1"),W=l3();ut.useEffect(()=>VN(op,G=>{nt(!!G&&G.uid===s3)}),[]),ut.useEffect(()=>DV(hV(ap,"lessons"),ot=>{const At=ot.docs.map(x=>({id:x.id,...x.data()}));t(At.length?At:Yh)}),[]);const ct=ut.useMemo(()=>n.filter(G=>{const ot=[G.title,G.description,G.topic,G.transcript].filter(Boolean).join(`
`).toLowerCase().includes(e.toLowerCase()),At=o==="All"||G.level===o,x=c==="All"||G.script===c;return ot&&At&&x}),[n,e,o,c]);function st(G){g(G),S(!0),setTimeout(()=>{v.current?.play().catch(()=>{})},50)}function dt(){v.current?.pause(),S(!1)}function D(){S(!1)}async function w(G){$&&(await IV(rE(ap,"lessons",G)),p?.id===G&&(dt(),g(null)))}async function R(G){$&&await CV(rE(ap,"lessons",G.id),G)}function N(){if(!$)return;const G=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),ot=URL.createObjectURL(G),At=document.createElement("a");At.href=ot,At.download="khmer_lessons.json",At.click(),URL.revokeObjectURL(ot)}async function O(){const G=prompt("Admin email"),ot=prompt("Password");!G||!ot||await IN(op,G,ot)}async function P(){await NN(op)}const[,I,oe]=(W||"#/").split("/"),qt=I==="lesson"&&oe,Q=qt&&n.find(G=>G.id===oe)||null;return H.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-slate-50 to-emerald-50",children:[H.jsx("header",{className:"sticky top-0 z-20 backdrop-blur bg-white/60 border-b",children:H.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center gap-3",children:[H.jsx(JM,{className:"w-6 h-6"}),H.jsx("h1",{className:"text-xl font-semibold cursor-pointer",onClick:()=>Sp("/#/"),children:"Khmer Learner"}),H.jsx(na,{children:"Beta"}),H.jsx("div",{className:"ml-auto flex items-center gap-2",children:$?H.jsxs(H.Fragment,{children:[!qt&&H.jsxs(Cn,{onClick:()=>L(!0),className:"flex items-center gap-2",children:[H.jsx(vO,{className:"w-4 h-4"})," Add lesson"]}),H.jsxs(Cn,{onClick:N,className:"flex items-center gap-2",children:[H.jsx(eO,{className:"w-4 h-4"})," Export JSON"]}),H.jsxs(Cn,{onClick:P,className:"flex items-center gap-2",title:"Logout admin",children:[H.jsx(uO,{className:"w-4 h-4"})," Admin off"]})]}):H.jsxs(Cn,{onClick:O,className:"flex items-center gap-2",title:"Admin login",children:[H.jsx(oO,{className:"w-4 h-4"})," Admin"]})})]})}),qt?H.jsx(c3,{lesson:Q,onBack:()=>Sp("/#/"),isAdmin:$,onEdit:()=>q(Q)}):H.jsxs("main",{className:"mx-auto max-w-6xl px-4 py-6 grid gap-6",children:[H.jsx(rs,{children:H.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-3 md:gap-4",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Search lessons"}),H.jsxs("div",{className:"relative",children:[H.jsx(fu,{value:e,onChange:G=>r(G.target.value),placeholder:"Search by title, topic, or transcript",className:"pr-10 py-3 text-base rounded-3xl shadow-sm"}),H.jsx(TO,{className:"w-4 h-4 absolute right-3 top-1/2 -translate-y-1/2 opacity-60"})]})]}),H.jsxs("div",{className:"md:w-56 md:ml-auto",children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Level"}),H.jsxs("select",{className:"w-full rounded-2xl border px-3 py-2 focus:ring focus:ring-indigo-200",value:o,onChange:G=>u(G.target.value),children:[H.jsx("option",{value:"All",children:"All levels"}),H.jsx("option",{children:"Beginner"}),H.jsx("option",{children:"Intermediate"}),H.jsx("option",{children:"Advanced"})]})]})]})}),H.jsx("section",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ct.map(G=>H.jsx(FA.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:H.jsxs(rs,{className:"h-full flex flex-col gap-3",children:[H.jsxs("div",{className:"flex items-start gap-3",children:[H.jsx("div",{className:"p-2 rounded-xl bg-indigo-50 border",children:H.jsx(rO,{className:"w-5 h-5"})}),H.jsxs("div",{className:"flex-1 min-w-0",children:[H.jsx("h3",{className:"font-semibold leading-tight truncate",children:G.title}),H.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[H.jsx(na,{children:G.level}),H.jsx(na,{children:G.script}),G.topic&&H.jsx(na,{children:G.topic})]})]}),$&&H.jsxs("div",{className:"flex items-center gap-1",children:[H.jsx("button",{className:"p-1.5 rounded-lg hover:bg-amber-50 border hover:border-amber-300",title:"Edit",onClick:()=>q(G),children:H.jsx(pb,{className:"w-4 h-4"})}),H.jsx("button",{className:"p-1.5 rounded-lg hover:bg-red-50 border hover:border-red-300",title:"Remove",onClick:()=>w(G.id),children:H.jsx(AO,{className:"w-4 h-4"})})]})]}),G.description&&H.jsx("p",{className:"text-sm text-slate-600 line-clamp-3",children:G.description}),H.jsxs("div",{className:"mt-auto flex items-center justify-between gap-2",children:[H.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-70",children:[H.jsx(hO,{className:"w-4 h-4"})," ",G.audioUrl?"Audio available":"No audio"]}),H.jsxs(Cn,{className:"flex items-center gap-2",onClick:()=>Sp(`#/lesson/${G.id}`),children:["Open ",H.jsx(iO,{className:"w-4 h-4"})]})]})]})},G.id))})]}),!qt&&p&&H.jsx(FA.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-30 w-[95%] md:w-[720px]",children:H.jsxs(rs,{className:"shadow-lg border-2",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsxs(Cn,{onClick:E?dt:()=>st(p),className:"flex items-center gap-2",children:[E?H.jsx(dO,{className:"w-4 h-4"}):H.jsx(gO,{className:"w-4 h-4"}),E?"Pause":"Play"]}),H.jsxs("div",{className:"flex-1 min-w-0",children:[H.jsx("div",{className:"truncate font-medium",children:p.title}),H.jsxs("div",{className:"text-xs opacity-70",children:[p.level,"  ",p.script]})]}),H.jsx(Cn,{onClick:()=>g(null),title:"Close",className:"border-none",children:H.jsx(NE,{className:"w-4 h-4"})})]}),H.jsx("audio",{ref:v,src:p.audioUrl,onEnded:D,className:"w-full mt-3",controls:!0})]})}),$&&(V||Y)&&H.jsx("div",{className:"fixed inset-0 z-40 grid place-items-center bg-black/30 p-4",children:H.jsxs(rs,{className:"w-full max-w-3xl relative",children:[H.jsx("button",{className:"absolute right-3 top-3 p-1 rounded-lg hover:bg-slate-100",onClick:()=>{L(!1),q(null)},children:H.jsx(NE,{className:"w-4 h-4"})}),H.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[H.jsx(bO,{className:"w-5 h-5"}),Y?"Edit lesson":"Add a new lesson"]}),H.jsx(h3,{initial:Y||void 0,onAdd:G=>{R(G),L(!1),q(null)}})]})}),H.jsx("footer",{className:"mx-auto max-w-6xl px-4 py-10 text-sm opacity-70",children:H.jsxs("p",{children:["Built for Khmer language learners. ",$?"Admin mode is ON. Visitors cannot edit.":"Visitors cannot edit lessons."," Data is stored locally in your browser. Use Export JSON to back up."]})})]})}function c3({lesson:n,onBack:t,isAdmin:e,onEdit:r}){return n?H.jsxs("main",{className:"mx-auto max-w-5xl px-4 py-10 grid gap-4",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs(Cn,{onClick:t,className:"flex items-center gap-2",children:[H.jsx(VE,{className:"w-4 h-4"})," Back"]}),e&&H.jsxs(Cn,{onClick:r,className:"flex items-center gap-2",children:[H.jsx(pb,{className:"w-4 h-4"})," Edit"]})]}),H.jsxs(rs,{className:"grid gap-2",children:[H.jsx("h2",{className:"text-2xl font-semibold",children:n.title}),H.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[H.jsx(na,{children:n.level}),H.jsx(na,{children:n.script}),n.topic&&H.jsx(na,{children:n.topic})]}),n.description&&H.jsx("p",{className:"text-slate-700 mt-2",children:n.description})]}),H.jsxs(rs,{className:"grid gap-3",children:[H.jsx("h3",{className:"font-semibold",children:"Transcript"}),H.jsx("p",{className:"whitespace-pre-wrap text-slate-800",children:n.transcript||"No transcript yet."})]}),H.jsxs(rs,{className:"grid gap-3",children:[H.jsx("h3",{className:"font-semibold",children:"Vocabulary"}),H.jsx("p",{className:"whitespace-pre-wrap text-slate-800",children:n.vocabulary||"No vocabulary added yet."})]}),H.jsxs(rs,{className:"grid gap-3",children:[H.jsx("h3",{className:"font-semibold",children:"Audio"}),n.audioUrl?H.jsx("audio",{src:n.audioUrl,controls:!0,className:"w-full"}):H.jsx("p",{className:"text-slate-600",children:"No audio for this lesson."})]})]}):H.jsxs("main",{className:"mx-auto max-w-5xl px-4 py-10",children:[H.jsxs(Cn,{className:"mb-4 flex items-center gap-2",onClick:t,children:[H.jsx(VE,{className:"w-4 h-4"})," Back"]}),H.jsx(rs,{children:H.jsx("p",{children:"Lesson not found."})})]})}function h3({onAdd:n,initial:t}){const[e,r]=ut.useState(t?.id||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`),[o,u]=ut.useState(t?.title||""),[c,d]=ut.useState(t?.level||"Beginner"),[p,g]=ut.useState(t?.script||"Khmer"),[v,E]=ut.useState(t?.topic||""),[S,V]=ut.useState(t?.description||""),[L,Y]=ut.useState(t?.transcript||""),[q,$]=ut.useState(t?.vocabulary||""),[nt,W]=ut.useState(t?.audioUrl||""),ct=ut.useRef(null);function st(D){const w=D.target.files?.[0];if(!w)return;const R=URL.createObjectURL(w);W(R)}function dt(D){if(D.preventDefault(),!o)return alert("Please add a title");n({id:e,title:o,level:c,script:p,topic:v||void 0,description:S||void 0,transcript:L||void 0,vocabulary:q||void 0,audioUrl:nt||void 0})}return H.jsxs("form",{onSubmit:dt,className:"grid gap-3",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Title"}),H.jsx(fu,{value:o,onChange:D=>u(D.target.value),placeholder:"e.g.,   Greetings"})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Level"}),H.jsxs("select",{className:"w-full rounded-2xl border px-3 py-2",value:c,onChange:D=>d(D.target.value),children:[H.jsx("option",{children:"Beginner"}),H.jsx("option",{children:"Intermediate"}),H.jsx("option",{children:"Advanced"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Script"}),H.jsxs("select",{className:"w-full rounded-2xl border px-3 py-2",value:p,onChange:D=>g(D.target.value),children:[H.jsx("option",{children:"Khmer"}),H.jsx("option",{children:"Latin"})]})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Topic (optional)"}),H.jsx(fu,{value:v,onChange:D=>E(D.target.value),placeholder:"e.g., Phrases, Numbers, Food"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Short description (optional)"}),H.jsx(fu,{value:S,onChange:D=>V(D.target.value),placeholder:"Onetwo lines about this lesson"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Transcript (optional)"}),H.jsx("textarea",{className:"w-full rounded-2xl border px-3 py-2 min-h-[120px]",value:L,onChange:D=>Y(D.target.value),placeholder:"Paste Khmer text and transliteration here"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Vocabulary (optional)"}),H.jsx("textarea",{className:"w-full rounded-2xl border px-3 py-2 min-h-[80px]",value:q,onChange:D=>$(D.target.value),placeholder:"List key words and meanings"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm mb-1 block",children:"Audio (optional)"}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(fu,{placeholder:"https://...mp3",value:nt,onChange:D=>W(D.target.value)}),H.jsx("input",{type:"file",accept:"audio/*",ref:ct,onChange:st,className:"hidden"}),H.jsx(Cn,{type:"button",onClick:()=>ct.current?.click(),children:"Upload"})]}),H.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Tip: paste an MP3 URL or upload a local file (local files wont persist after refresh)."})]}),H.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[H.jsx(Cn,{type:"button",className:"border-none",onClick:()=>{u(""),E(""),V(""),Y(""),W(""),d("Beginner"),g("Khmer"),r(`${Date.now()}-${Math.random().toString(36).slice(2,8)}`)},children:"Clear"}),H.jsx(Cn,{type:"submit",className:"bg-indigo-600 text-white border-indigo-700",children:"Save"})]})]})}RC.createRoot(document.getElementById("root")).render(H.jsx(u3,{}));
